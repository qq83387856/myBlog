(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["viewer-viewer-module"],{

/***/ "./src/app/core/commands/base-get-document-detail-command.ts":
/*!*******************************************************************!*\
  !*** ./src/app/core/commands/base-get-document-detail-command.ts ***!
  \*******************************************************************/
/*! exports provided: BaseGetDocumentDetailCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseGetDocumentDetailCommand", function() { return BaseGetDocumentDetailCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../viewer/models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _application_error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/prop-name-type */ "./src/app/core/models/prop-name-type.ts");
/* harmony import */ var _models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _models_sys0_error_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _services_base_model_locator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/base-model-locator.service */ "./src/app/core/services/base-model-locator.service.ts");
/* harmony import */ var _store_core_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../store/core.actions */ "./src/app/core/store/core.actions.ts");
/* harmony import */ var _utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/sys0-string-util */ "./src/app/core/utils/sys0-string-util.ts");
/* harmony import */ var _vo_status_vo__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../vo/status-vo */ "./src/app/core/vo/status-vo.ts");
/* harmony import */ var _vo_sys0_exception__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../vo/sys0-exception */ "./src/app/core/vo/sys0-exception.ts");
/* harmony import */ var _vo_version_vo__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../vo/version-vo */ "./src/app/core/vo/version-vo.ts");
/* harmony import */ var _abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _sys0_event_type__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _sys0_object__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./sys0-object */ "./src/app/core/commands/sys0-object.ts");


















/**
 * 文書情報(セクション数)を取得します。
 *
 */
var BaseGetDocumentDetailCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BaseGetDocumentDetailCommand, _super);
    /**
     * コンストラクタです
     */
    function BaseGetDocumentDetailCommand() {
        var _this = _super.call(this) || this;
        // ★Stitch V1.3対応 Baseのモデルロケーター追加
        /**
         * @private
         * モデルロケーター
         */
        _this.locator = _services_base_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["BaseModelLocatorService"].getInstance();
        /**
         * セクション数のチェックをするかどうかを表します。
         */
        _this.sectionChecking = false;
        /**
         * システム終了するかどうか
         */
        _this.systemCloseError = false;
        return _this;
    }
    /**
     * getStatus()の呼び出しを、Sys0ApplicationCompleteCommandから移動する。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.check = function (param) {
        this.setModelLocator();
        // 権限チェックを先にやる
        var sys0Object = new _sys0_object__WEBPACK_IMPORTED_MODULE_17__["Sys0Object"](true);
        // 権限チェック
        // ★Stitch V1.3対応 this.locator.currentDocumentのnullよけ
        if (this.locator.currentDocument) {
            sys0Object.checkStatus(this.locator.currentDocument, this.checkStatusCallBack);
        }
        // 非同期
        param.isAsync = true;
    };
    /**
     * イベントオブジェクトの作成を行ないます。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.request = function (param) {
        this.systemCloseError = false;
        return new _models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__["Sys0BaseEvent"](_sys0_event_type__WEBPACK_IMPORTED_MODULE_16__["Sys0EventType"].GET_DOCUMENT_DETAIL_EVENT);
    };
    /**
     * 文書詳細情報の取得を行ないます。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.call = function () {
        // ★Stitch V1.3対応 getDocumentDetail()の第二引数がstring[]の為、any[] →　string[]
        var props = [
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_NAME,
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_SECTIONS,
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_VERSION,
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_PATH_IDS,
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_SIZE,
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_TAG_LIST,
            _models_prop_name_type__WEBPACK_IMPORTED_MODULE_5__["PropNameType"].PROP_ID
        ];
        // ★Stitch V1.3対応 delegate対応,this.locator.currentDocumentがnullの場合はApplicationErrorとした。
        if (!this.locator.currentDocument) {
            throw new _application_error__WEBPACK_IMPORTED_MODULE_4__["ApplicationError"]('this.locator.currentDocument is null');
        }
        this.http.getDocumentDetail(this.locator.currentDocument, props);
    };
    /**
     * 取得した文書情報から、文書名とセクション数を反映します。
     * セクション数が0件の場合はエラーとし、セクション数が0件以上の場合は、
     * 空のSectionVOの作成を行ないます。
     * サムネイルリストにCHANGEイベントをなげて、メニュー状態を初期化します。
     * 文書が取得できた場合には文書のワークフロー状態を取得して画面に反映させます。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.succeed = function (event) {
        var currentDocument = this.locator.currentDocument;
        var result = event;
        // 取得情報を反映
        // ★Stitch V1.3対応 currentDocumentのnullよけ
        if (currentDocument) {
            currentDocument.name = result.name;
            currentDocument.sections = result.sections;
            currentDocument.size = result.size;
            currentDocument.version = result.version;
            if (this.locator.version == null || this.locator.version.name === currentDocument.version) {
                if (currentDocument.tagList == null && result.tagList != null) {
                    // ★Stitch V1.3対応 ArrayCollection() →　Array()
                    currentDocument.tagList = new Array();
                }
                if (result.tagList) {
                    currentDocument.tagList = result.tagList;
                }
                else {
                    currentDocument.tagList = null;
                }
            }
            // 親IDを入れる
            if (result.pathIds != null && result.pathIds.length > 0) {
                // ★Stitch V1.3対応 getItemAt →　[]
                currentDocument.parentId = result.pathIds[result.pathIds.length - 1];
            }
            else {
                currentDocument.parentId = currentDocument.cabId;
            }
            var versionId = null;
            if (this.locator.version) {
                versionId = this.locator.version.id;
            }
            this.postGetDocumentDetail();
            var sys0Object = new _sys0_object__WEBPACK_IMPORTED_MODULE_17__["Sys0Object"](true);
            // ★Stitch V1.3対応 Sys0Object.getSectionList()の第三引数versionIdをnull許可に変更
            sys0Object.getSectionList(currentDocument, versionId, this.getSectionListCallback);
        }
    };
    BaseGetDocumentDetailCommand.prototype.setModelLocator = function () {
        throw new _application_error__WEBPACK_IMPORTED_MODULE_4__["ApplicationError"]('継承先で実装してください。');
    };
    Object.defineProperty(BaseGetDocumentDetailCommand.prototype, "sectionList", {
        get: function () {
            throw new Error('継承先で実装してください。');
        },
        // ★Stitch V1.3対応 ArrayCollection　→　any[]
        set: function (list) {
            throw new Error('継承先で実装してください。');
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(BaseGetDocumentDetailCommand.prototype, "currentMode", {
        get: function () {
            throw new _application_error__WEBPACK_IMPORTED_MODULE_4__["ApplicationError"]('実装してください。');
        },
        enumerable: true,
        configurable: true
    });
    BaseGetDocumentDetailCommand.prototype.initalizeSectionView = function () { };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    BaseGetDocumentDetailCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    /**
     * メニューの制御をします。
     */
    BaseGetDocumentDetailCommand.prototype.setEnableModel = function () { };
    BaseGetDocumentDetailCommand.prototype.postGetDocumentDetail = function () { };
    /**
     * セクション一覧取得のコールバックです。
     */
    BaseGetDocumentDetailCommand.prototype.getSectionListCallback = function (result) {
        // ★Stitch V1.3対応 ArrayCollection → Array
        if (result == null || result instanceof Array) {
            var currentDocument = this.locator.currentDocument;
            var source = null;
            if (result == null) {
                source = [];
            }
            else {
                // ★Stitch V1.3対応 source削除
                source = result;
            }
            for (var _i = 0, source_1 = source; _i < source_1.length; _i++) {
                var section = source_1[_i];
                section['parentDocument'] = currentDocument;
            }
            if (this.sectionList == null) {
                // ★Stitch V1.3対応 ArrayCollection →　any[]
                this.sectionList = source;
            }
            else {
                // VOを追加する
                // ★Stitch V1.3対応 source削除
                this.sectionList = source;
            }
            // ★Stitch V1.3対応 currentDocumentのnullよけ
            if (currentDocument) {
                if (currentDocument.tagList) {
                    for (var _a = 0, _b = currentDocument.tagList; _a < _b.length; _a++) {
                        var tagVo = _b[_a];
                        var sectionNo = tagVo.sectionNo;
                        // ★Stitch V1.3対応 getItemAt　→　[]
                        var sectionVo = this.sectionList[sectionNo - 1];
                        tagVo.selected = true;
                        sectionVo.tag = tagVo;
                    }
                }
            }
            // ★Stitch V1.3対応 TileList　→　Sys0ThumbnailListComponent 使われずため、コマンドアウト
            // const thumbnailList: Sys0ThumbnailListComponent = this.getThumbnailList();
            // セクション数0件の場合エラー
            if (source.length === 0) {
                if (this.sectionChecking) {
                    this.messageService.showErrorMessage('warn.section.nonexist');
                }
                var pdfView = this.getPdfView();
                if (pdfView) {
                    pdfView.offIFrame(true);
                    pdfView.message = '';
                }
                // ★Stitch V1.3対応 isPreLoading対応
                var isPreLoading = this.stateUtilService.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_1__["getApplicationInitializationPreLoading"]);
                // 0件の場合はここで起動時の進捗中を閉じる
                if (isPreLoading) {
                    // 起動時の対応。プレローダーが上がっていたら
                    // プレローダーを非表示にする。
                    this.store.dispatch(new _store_core_actions__WEBPACK_IMPORTED_MODULE_10__["HideInitializationPreLoader"]());
                }
                this.terminate();
                return;
            }
            // ★Stitch V1.3対応 [issue 103]のため、クリックなどの操作をsectionView.callLaterに入れる
            var sectionView_1 = this.viewManager.get(_viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__["ViewerViewTypes"].SectionView);
            if (sectionView_1 == null) {
                throw new _application_error__WEBPACK_IMPORTED_MODULE_4__["ApplicationError"]('Unexpected null value for sectionView.');
            }
            // ★Stitch V1.3対応 描画完了後に処理させたいため、callLaterで処理するように修正
            sectionView_1.callLater(function () {
                sectionView_1.thumbnailList.selectedIndex = 0;
                sectionView_1.thumbnailList.onItemClick(new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_2__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_2__["ListEvent"].ITEM_CLICK));
                sectionView_1.thumbnailList.onChange();
            });
        }
        else {
            // ∴
        }
        // ワークフローの状態を取得します
        var sys0Object = new _sys0_object__WEBPACK_IMPORTED_MODULE_17__["Sys0Object"]();
        // ★Stitch V1.3対応 this.locator.currentDocumentのnullよけ
        if (this.locator.currentDocument) {
            // ★Stitch V1.3対応
            // ワークフロー機能は提供しない
            // 第二引数　null　→　[]
            // sys0Object.getWorkFlow(this.locator.currentDocument, [], this.getWorkFlowCallBack);
        }
        this.terminate();
    };
    BaseGetDocumentDetailCommand.prototype.getPdfView = function () {
        throw new _application_error__WEBPACK_IMPORTED_MODULE_4__["ApplicationError"]('継承先で実装してください。');
    };
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // /**
    //  * 対象ファイルのワークフロー状態を取得します。
    //  */
    // protected getWorkFlowCallBack(object: any) {
    //   this.locator.useWorkFlowButton = false;
    //   // ★Stitch V1.3対応 LoginInfoを定義
    //   const loginInfo: LoginInfo = this.stateUtilService.getCurrentState(getLoginInfo);
    //   if (this.currentMode === BaseModelLocator.MODE_EDITABLE) {
    //      this.locator.useWorkFlowButton = false;
    //   } else {
    //     if (isWorkflowVO(object)) {
    //       const workflow: WorkflowVO = object as WorkflowVO;
    //       // ★Stitch V1.3対応 null許容を追加
    //       const verId: string | null = this.getVerId();
    //       if (workflow.waitingApprover) {
    //         if (verId != null) {
    //           this.locator.useWorkFlowButton = false;
    //           // ★Stitch V1.3対応 LoginInfoを使用
    //         } else if (loginInfo.userId === workflow.waitingApprover.id) {
    //           this.locator.useWorkFlowButton = true;
    //         }
    //       } else {
    //         this.locator.useWorkFlowButton = false;
    //       }
    //     } else {
    //       // ★Stitch V1.3対応　失敗時には objectにはSys0Exceptionが格納されている
    //       // const exception: Sys0Exception = fault.rootCause as Sys0Exception;
    //       const exception: Sys0Exception = object as Sys0Exception;
    //       if (exception.key !== Sys0ErrorType.DOCUMENT_UPDATE_AUTH) {
    //         this.isBusy = true;
    //
    //         // ★Stitch V1.3対応 HttpErrorResponseにhttpErrorを利用する
    //         this.fail(exception.httpError);
    //       }
    //       this.locator.useWorkFlowButton = false;
    //     }
    //   }
    // }
    BaseGetDocumentDetailCommand.prototype.getThumbnailList = function () {
        throw new _application_error__WEBPACK_IMPORTED_MODULE_4__["ApplicationError"]('継承先で実装してください。');
    };
    /**
     * @private
     */
    BaseGetDocumentDetailCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.systemCloseError) {
            // ボタンなしのエラーダイアログ
            // ★Stitch V1.3対応 || ''を追加
            this.messageService.showSystemCloseDialog(_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message || '');
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * 文書が削除されていた場合のメッセージを取得します。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.getDeleteMessageKey = function () {
        this.systemCloseError = true;
        return 'warn.section.docnonexist';
    };
    /**
     * 文書に全権限がなかった場合のメッセージを取得します。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.getAllAuthMessageKey = function () {
        this.systemCloseError = true;
        return 'warn.section.docnonexist';
    };
    /**
     * 文書に読み取り権限がなかった場合のメッセージを取得します。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.getReadAuthMessageKey = function () {
        return 'warn.section.docreadauth';
    };
    /**
     * 文書がゴミ箱に移動された場合のメッセージです。
     * @inheritDoc
     */
    BaseGetDocumentDetailCommand.prototype.getTrashMessageKey = function () {
        this.systemCloseError = true;
        return 'warn.section.docintrash';
    };
    /**
     * 権限チェック
     */
    BaseGetDocumentDetailCommand.prototype.checkStatusCallBack = function (result) {
        var isCancel = false;
        if (Object(_vo_status_vo__WEBPACK_IMPORTED_MODULE_12__["isStatusVO"])(result)) {
            var vo = result;
            if (vo == null) {
                isCancel = true;
            }
            else if (vo.disable || vo.erase) {
                this.showSysCloseDialog('warn.section.docnonexist');
                isCancel = true;
            }
            else if (vo.remove) {
                if (this.locator.currentDocument && this.locator.currentDocument.name) {
                    this.showSysCloseDialog('warn.section.docintrash', _utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_11__["Sys0StringUtil"].truncateToLength(this.locator.currentDocument.name));
                }
                else {
                    this.showSysCloseDialog('warn.viewer.docintrash');
                }
                isCancel = true;
            }
            else if (this.currentMode === 0 && !vo.enableRead) {
                if (this.locator.currentDocument && this.locator.currentDocument.name) {
                    this.showSysCloseDialog('warn.section.docreadauth', _utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_11__["Sys0StringUtil"].truncateToLength(this.locator.currentDocument.name));
                }
                else {
                    this.showSysCloseDialog('warn.viewer.docreadauth');
                }
                isCancel = true;
            }
            else {
                // エラーなし
                if (!vo.enableUpdate) {
                    // 先でエラーにさせる
                    isCancel = false;
                }
                this.initalizeSectionView();
            }
            if (this.locator.version && !isCancel) {
                // 版ビューアー時の追加チェック
                var sys0Object = new _sys0_object__WEBPACK_IMPORTED_MODULE_17__["Sys0Object"](true);
                sys0Object.getVersionDetail(this.locator.version, this.getVersionDetailCallback);
            }
            else {
                this.checkComplete(isCancel);
            }
            // ★Stitch V1.3対応 Fault →　Sys0Exception
        }
        else if (result instanceof _vo_sys0_exception__WEBPACK_IMPORTED_MODULE_13__["Sys0Exception"]) {
            var sys0Exception = result;
            if (sys0Exception.key === _models_sys0_error_type__WEBPACK_IMPORTED_MODULE_8__["Sys0ErrorType"].OBJECT_BAD_ID) {
                this.messageService.showSystemCloseDialog(_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, 'warn.section.docnonexist');
            }
            this.checkComplete(true);
        }
        else {
            this.checkComplete(true);
        }
    };
    /**
     * 版のチェック
     */
    BaseGetDocumentDetailCommand.prototype.getVersionDetailCallback = function (result) {
        if (Object(_vo_version_vo__WEBPACK_IMPORTED_MODULE_14__["isVersionVO"])(result)) {
            this.locator.version = result;
            // ★Stitch V1.3対応 Fault →　Sys0Exception
        }
        else if (result instanceof _vo_sys0_exception__WEBPACK_IMPORTED_MODULE_13__["Sys0Exception"]) {
            var sys0Exception = result;
            if (sys0Exception.key === _models_sys0_error_type__WEBPACK_IMPORTED_MODULE_8__["Sys0ErrorType"].VERSION_DELETE || sys0Exception.key === _models_sys0_error_type__WEBPACK_IMPORTED_MODULE_8__["Sys0ErrorType"].OBJECT_BAD_ID) {
                // 版が削除されている
                this.showSysCloseDialog('warn.download.versiondeleted');
                this.checkComplete(true);
                return;
            }
        }
        else {
            this.checkComplete(true);
        }
        this.checkComplete();
    };
    // ★Stitch V1.3対応 getVerId()をnullを許容に変更
    BaseGetDocumentDetailCommand.prototype.getVerId = function () {
        // ★Stitch V1.3対応 urlServiceを使用,nullを許容を追加
        var id = this.urlService.getUrlParam(BaseGetDocumentDetailCommand.VER_ID);
        if (id != null) {
            id = _utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_11__["Sys0StringUtil"].trim(id);
            if (id.length === 0) {
                // ★Stitch V1.3対応 null →　''
                id = '';
            }
        }
        return id;
    };
    BaseGetDocumentDetailCommand.VER_ID = 'VerID';
    return BaseGetDocumentDetailCommand;
}(_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_15__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/core/commands/base-list-context-menu-click-command.ts":
/*!***********************************************************************!*\
  !*** ./src/app/core/commands/base-list-context-menu-click-command.ts ***!
  \***********************************************************************/
/*! exports provided: BaseListContextMenuClickCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseListContextMenuClickCommand", function() { return BaseListContextMenuClickCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");


/**
 * 一覧で右クリックメニューが開かれたとき基底クラスです。
 *
 */
var BaseListContextMenuClickCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BaseListContextMenuClickCommand, _super);
    /**
     * コンストラクタです
     */
    function BaseListContextMenuClickCommand() {
        return _super.call(this) || this;
    }
    /**
     * イベントハンドラー用
     */
    BaseListContextMenuClickCommand.prototype.clickMenu = function (event) {
        this.event = event;
        this.execCommand();
    };
    /**
     *
     * @param listBase
     * @param selectedItems
     * @param object
     *
     */
    BaseListContextMenuClickCommand.prototype.setSelectedItem = function (listBase, selectedItems, object) {
        var found = false;
        if (selectedItems.length > 1 && object != null) {
            // 複数選択済みの場合
            // 右クリックした位置のオブジェクトが、選択位置に含まれているかのチェック
            for (var _i = 0, selectedItems_1 = selectedItems; _i < selectedItems_1.length; _i++) {
                var selectedObject = selectedItems_1[_i];
                // ★Stitch V1.3対応 引数のnull → ''に変更,object.uid →　object
                if (selectedObject.uid === object) {
                    // あった
                    found = true;
                    break;
                }
            }
            if (!found) {
                // 選択されている位置じゃない場合は、再選択させる。
                listBase.selectedItem = object;
            }
        }
        else {
            // 未選択または、1件だけ選択の場合は、選択状態にする。
            var selectedItem = listBase.selectedItem;
            // ★Stitch V1.3対応 object.uid →　object
            if ((selectedItem == null && object == null) || (selectedItem != null && object != null && selectedItem.uid === object)) {
                found = true;
            }
            listBase.selectedItem = object;
        }
        return found;
    };
    BaseListContextMenuClickCommand.prototype.doCommand = function () { };
    return BaseListContextMenuClickCommand;
}(_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/shared/commands/sys0-commit-type.ts":
/*!*****************************************************!*\
  !*** ./src/app/shared/commands/sys0-commit-type.ts ***!
  \*****************************************************/
/*! exports provided: Sys0CommitType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sys0CommitType", function() { return Sys0CommitType; });
/**
 * コミット時の設定
 *
 */
var Sys0CommitType = /** @class */ (function () {
    function Sys0CommitType() {
    }
    /**
     * 版を上げる（版番号を指定）
     */
    Sys0CommitType.COMMIT_VERSION_UP = 1;
    /**
     * 版を上げる（1 の位を上げる）
     */
    Sys0CommitType.COMMIT_VERSION_UP_MAJOR = 2;
    /**
     * 版を上げる（0.1 の位を上げる）
     */
    Sys0CommitType.COMMIT_VERSION_UP_MINOR = 3;
    /**
     * 版を上げない
     */
    Sys0CommitType.COMMIT_VERSION_KEEP = 4;
    return Sys0CommitType;
}());



/***/ }),

/***/ "./src/app/viewer/commands/abstract-section-deleted-update-command.ts":
/*!****************************************************************************!*\
  !*** ./src/app/viewer/commands/abstract-section-deleted-update-command.ts ***!
  \****************************************************************************/
/*! exports provided: AbstractSectionDeletedUpdateCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractSectionDeletedUpdateCommand", function() { return AbstractSectionDeletedUpdateCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");






/**
 * セクションを一覧から削除するのをサポートします。
 *
 */
var AbstractSectionDeletedUpdateCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AbstractSectionDeletedUpdateCommand, _super);
    /**
     * コンストラクタです
     */
    function AbstractSectionDeletedUpdateCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * 指定のセクションを削除します。
     */
    AbstractSectionDeletedUpdateCommand.prototype.deleteSection = function (section) {
        this.refreshSectionList();
    };
    AbstractSectionDeletedUpdateCommand.prototype.doCommand = function () { };
    /**
     *
     */
    AbstractSectionDeletedUpdateCommand.prototype.changeMainSelectedSection = function () {
        // ★Stitch V1.3対応 null許可に変更
        // メイン選択の移動
        var selectItem;
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        var thumnailList = sectionListView.thumbnailList;
        var selectedItemIndex = thumnailList.selectedIndex;
        // ★Stitch V1.3対応 this.locator.sectionListがnullの場合はエラーにする
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.sectionList is null.');
        }
        if (this.locator.sectionList.length < 1) {
            selectItem = null;
        }
        else if (selectedItemIndex === -1 || selectedItemIndex > this.locator.sectionList.length) {
            selectItem = this.locator.sectionList[this.locator.sectionList.length - 1];
        }
        else {
            selectItem = this.locator.sectionList[selectedItemIndex - 1];
        }
        thumnailList.selectedItem = selectItem;
        // ★Stitch V1.3対応 dispatchEvent対応
        // thumnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
        thumnailList.onChange();
        // ★Stitch V1.3対応 dispatchEvent対応
        // thumnailList.dispatchEvent(new ListEvent(ListEvent.ITEM_CLICK));
        thumnailList.onItemClick();
    };
    AbstractSectionDeletedUpdateCommand.prototype.refreshSectionList = function () {
        // ★Stitch V1.3対応 Viewer(root)対応
        var viewerBase = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].ViewerBase);
        // ★Stitch V1.3対応 getCommand対応
        // const updateCommand: UpdateCommand = Viewer(root).base.commandMap.getCommand(Sys0CommandType.COMMAND_TYPE_UPDATE) as UpdateCommand;
        var updateCommand = this.commandProvider.getCommand(viewerBase, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Update);
        updateCommand.refreshSection(this.refreshSectionCallback);
    };
    AbstractSectionDeletedUpdateCommand.prototype.refreshSectionCallback = function () {
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        // 更新後にメニューの制御を行なう。
        var thumnailList = sectionListView.thumbnailList;
        // ★Stitch V1.3対応 dispatchEvent対応
        // thumnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
        thumnailList.onChange();
    };
    return AbstractSectionDeletedUpdateCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/applet-message-close-command.ts":
/*!*****************************************************************!*\
  !*** ./src/app/viewer/commands/applet-message-close-command.ts ***!
  \*****************************************************************/
/*! exports provided: AppletMessageCloseCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppletMessageCloseCommand", function() { return AppletMessageCloseCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");



/**
 * アプレットからのメッセージを閉じたときの処理を行ないます。
 *
 */
var AppletMessageCloseCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AppletMessageCloseCommand, _super);
    /**
     * コンストラクタです
     */
    function AppletMessageCloseCommand() {
        return _super.call(this) || this;
    }
    /**
     * @inheritDoc
     * メッセージの表示を行ないます。
     */
    AppletMessageCloseCommand.prototype.doCommand = function () {
        _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_2__["ViewerModelLocatorService"].getInstance().resetUploadSection();
        this.terminate();
    };
    return AppletMessageCloseCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/base-create-section-command.ts":
/*!****************************************************************!*\
  !*** ./src/app/viewer/commands/base-create-section-command.ts ***!
  \****************************************************************/
/*! exports provided: BaseCreateSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseCreateSectionCommand", function() { return BaseCreateSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/utils/sys0-string-util */ "./src/app/core/utils/sys0-string-util.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");














/**
 * セクション追加用のベースコマンドです。
 *
 */
var BaseCreateSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BaseCreateSectionCommand, _super);
    function BaseCreateSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_13__["ViewerModelLocatorService"].getInstance();
        /**
         * 選択中のセクションです。
         */
        _this.selectedSection = null;
        /**
         * 挿入/差し替えをする位置
         */
        _this.insertIndex = -1;
        /**
         * 登録するセクションのリストです。
         */
        _this.sectionList = null;
        /**
         * 現在処理中のセクションです。
         */
        _this.currentSection = null;
        /**
         * 処理を中断されたかを表します。 trueならば、中断ボタンをおされています。
         */
        _this.isCanceled = false;
        /**
         * ナビゲーションメッセージを表示しない。
         */
        _this.showNavigation = true;
        /**
         * ビューアーを閉じるように促します。
         */
        _this.isSystemClose = false;
        _this.displayProgress = true;
        _this.cancelable = true;
        _this.keepProgress = true;
        return _this;
    }
    /**
     * 進捗中ダイアログのメッセージ初期化を事前に行います。
     * @inheritDoc
     */
    BaseCreateSectionCommand.prototype.execCommand = function () {
        this.settingProgressLabel();
        this.showNavigation = true;
        _super.prototype.execCommand.call(this);
    };
    /**
     * @inheritdoc
     */
    BaseCreateSectionCommand.prototype.check = function (param) {
        // セクションの選択情報を設定する。
        this.setSelectedSection();
    };
    /**
     * 進捗中ダイアログのカウントを設定します。
     *
     * イベントオブジェクトを生成します。
     * @inheritDoc
     */
    BaseCreateSectionCommand.prototype.request = function (param) {
        // 今から追加または差し替えるSectionVOを設定する
        this.currentSection = this.sectionList && this.sectionList[this.locator.createdSectionCount];
        // Trim
        if (this.currentSection && this.currentSection.name) {
            this.currentSection.name = _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_9__["Sys0StringUtil"].trim(this.currentSection.name);
            // 文字数超過の処理
            if (this.currentSection.name.length > BaseCreateSectionCommand.SECTION_NAME_MAX_LENGTH) {
                this.currentSection.name = this.currentSection.name.substr(0, BaseCreateSectionCommand.SECTION_NAME_MAX_LENGTH);
            }
        }
        // 進捗中表示の設定
        this.addCount = this.locator.createdSectionCount + 1;
        this.allCount = this.locator.uploadSectionCount;
        this.isSystemClose = false;
        // セクション名
        var name = this.sectionList && this.sectionList[this.locator.createdSectionCount].name;
        if (name == null) {
            this.progressObjectName = '';
        }
        else {
            this.progressObjectName = name;
        }
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__["Sys0BaseEvent"](this.eventType);
    };
    /**
     * delegate呼び出し(insertSection)を行ないます。
     * @inheritDoc
     */
    BaseCreateSectionCommand.prototype.call = function () {
        if (this.currentSection) {
            if (this.locator.currentDocument == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null');
            }
            if (this.currentSection.sectionNo == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionNo is null');
            }
            if (this.locator.viewerId == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewerId is null');
            }
            this.locator.updated = true;
            this.http.insertSection(this.locator.currentDocument, this.currentSection.sectionNo, this.currentSection[BaseCreateSectionCommand.PROP_FILE_NAME], this.locator.viewerId);
        }
    };
    /**
     * 作成されたセクションのVOを取得します。
     *
     * サムネイルリストに表示するロケーターにSectionVOを追加します。
     *
     * 次のファイルがあったら続行(checkComplete)し、なかったら処理を終了します。
     * @inheritDoc
     */
    BaseCreateSectionCommand.prototype.succeed = function (result) {
        var feedback = result;
        if (feedback == null) {
            // エラー表示
            return;
        }
        this.refreshList(feedback);
        // 登録済みセクションをカウントアップ
        this.addCount = this.locator.createdSectionCount++;
        if (this.isCanceled || this.locator.uploadSectionCount === this.locator.createdSectionCount) {
            this.postProcess();
            this.terminate();
        }
        else {
            this.checkComplete();
        }
    };
    /**
     * @inheritDoc
     */
    BaseCreateSectionCommand.prototype.abort = function () {
        this.isCanceled = true;
    };
    BaseCreateSectionCommand.prototype.settingProgressLabel = function () {
        // 進捗表示の設定
        this.progressNameLabel = this.wording.get('info.progress.sectionname');
        this.progressMessageLabel = this.wording.get('info.progress.addingsection');
        this.progressCountLabel = this.wording.get('info.progress.progressmessage');
    };
    /**
     * セクションの選択情報を設定します。
     */
    BaseCreateSectionCommand.prototype.setSelectedSection = function () {
        // ★Stitch V1.3対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for sectionView.');
        }
        this.thumbnailList = sectionView.thumbnailList;
        // 選択中のセクション
        this.selectedSection = this.thumbnailList.selectedItem;
        // 未選択または、複数選択されている場合は-1を、単一選択の場合選択しているindexを設定する。
        this.insertIndex =
            this.thumbnailList.selectedIndices.length > 1 || this.thumbnailList.selectedIndex === -1 ? -1 : this.thumbnailList.selectedIndex;
        this.continueProgress = false;
    };
    /**
     * セクション数の上限チェックです。
     */
    BaseCreateSectionCommand.prototype.checkSectionLimit = function () {
        return (this.sectionList ? this.sectionList.length : 0) + (this.locator.sectionList ? this.locator.sectionList.length : 0) <= 200;
    };
    Object.defineProperty(BaseCreateSectionCommand.prototype, "eventType", {
        /**
         * イベントタイプです。
         */
        get: function () {
            return _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_4__["Sys0EventType"].INSERT_SECTION;
        },
        enumerable: true,
        configurable: true
    });
    BaseCreateSectionCommand.prototype.createSection = function (fileName, sectionNo) {
        // 拡張子を外す
        var lastIndex = fileName.lastIndexOf('.');
        var docName = fileName.substr(0, lastIndex);
        if (docName.length > BaseCreateSectionCommand.SECTION_NAME_MAX_LENGTH) {
            docName = docName.substr(0, BaseCreateSectionCommand.SECTION_NAME_MAX_LENGTH);
        }
        // 作成するセクションのVOを作成・設定する
        var sectionVO = new _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_10__["SectionVO"]();
        sectionVO.cabId = this.locator.currentDocument && this.locator.currentDocument.cabId;
        sectionVO.id = this.locator.currentDocument && this.locator.currentDocument.id;
        sectionVO.name = docName;
        sectionVO.sectionNo = sectionNo;
        sectionVO[BaseCreateSectionCommand.PROP_FILE_NAME] = fileName;
        return sectionVO;
    };
    BaseCreateSectionCommand.prototype.postProcess = function () {
        // セクションNo振りなおし
        this.locator.renumberSectionList();
        this.thumbnailList.invalidateDisplayList();
        this.thumbnailList.validateDisplayList();
        this.thumbnailList.selectedIndex = this.lastIndex;
        // ★Stitch V1.3対応
        // 挿入したsectionのアイテム(this.lastIndex) へのスクロール
        // Angularでは行単位でなくアイテムインデックス単位でスクロールするため、scrollToIndex(this.lastIndex)へ置き換える
        // const row: number = this.lastIndex / this.thumbnailList.columnCount;
        // this.thumbnailList.scrollToPos(row - this.thumbnailList.verticalScrollPosition);
        this.thumbnailList.scrollToIndex(this.lastIndex);
        // ドロップしたセクション数に達した場合か、中断された場合。
        if (this.showNavigation && this.locator.createdSectionCount > 0) {
            this.showNavigateMessage();
        }
        // ModelLocatorの内容を初期状態に戻す。
        this.resetModel();
        // メニューの更新
        // ★Stitch V1.3対応  CHANGE イベントに相当するメソッドの実行
        this.thumbnailList.onChange();
        // ★Stitch V1.3対応  ITEM_CLICK イベントに相当するメソッドの実行
        this.thumbnailList.onItemClick();
    };
    /**
     * 追加された文書を一覧に表示します。
     *
     * @param newSection 追加された文書です。
     */
    BaseCreateSectionCommand.prototype.refreshList = function (newSection) {
        newSection.sectionNo = this.locator.sectionList && this.locator.sectionList.length * 10;
        if (this.locator.sectionList) {
            if (this.insertIndex >= 0) {
                // 配列の指定した場所に挿入
                this.locator.sectionList.splice(this.insertIndex + 1, 0, newSection);
                this.insertIndex++;
                this.lastIndex = this.insertIndex;
            }
            else {
                // 後ろに追加する
                this.locator.sectionList.push(newSection);
                this.lastIndex = this.locator.sectionList.length - 1;
            }
        }
        this.thumbnailList.dataProvider = this.locator.sectionList;
    };
    /**
     * ナビゲーションバーにメッセージを表示する。
     */
    BaseCreateSectionCommand.prototype.showNavigateMessage = function () {
        var msg = this.wording.get('info.messagearea.addedsection', this.locator.createdSectionCount);
        // 　メッセージ設定アクション発行
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SetNavigateMessage"](msg));
    };
    /**
     * @private
     * ModelLocatorの内容を初期状態に戻す。
     */
    BaseCreateSectionCommand.prototype.resetModel = function () {
        this.locator.resetUploadSection();
        this.insertIndex = -1;
        this.isCanceled = false;
    };
    /**
     * @inheritdoc
     */
    BaseCreateSectionCommand.prototype.postFailProcess = function () {
        this.postProcess();
    };
    /**
     * @inheritdoc
     */
    BaseCreateSectionCommand.prototype.getErrorInfo = function (exception) {
        if (this.isCanceled) {
            // キャンセルされた場合はエラーを出さない。
            this.postProcess();
            this.terminate();
            return null;
        }
        var errorInfo = _super.prototype.getErrorInfo.call(this, exception);
        if (errorInfo) {
            if (exception.key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_8__["Sys0ErrorType"].UPLOAD_TEMP_FILENAME_SIZE_OVER) {
                // ファイルパスが長すぎた
                this.showNavigation = false;
                errorInfo.message = this.wording.get('warn.docregister.toolongpath');
            }
        }
        return errorInfo;
    };
    /**
     * @inheritdoc
     */
    BaseCreateSectionCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.isSystemClose) {
            // システム終了
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message ? errorInfo.message : '');
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
                // 編集モードの場合
                // 編集を破棄する。
                this.cancelEdit();
            }
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * @inheritdoc
     */
    BaseCreateSectionCommand.prototype.getFileSizeOver = function () {
        return 'warn.common.filenametoolong';
    };
    /**
     * @inheritDoc
     */
    BaseCreateSectionCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * 編集を破棄して終わる。
     */
    BaseCreateSectionCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_3__["Sys0ConnectObject"]();
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('parameter is null');
        }
        else {
            sys0ConnectObject.documentUpdateEnd(this.locator.currentDocument, null, '', '', false, function () { });
        }
    };
    /**
     * 最大文字数
     */
    BaseCreateSectionCommand.SECTION_NAME_MAX_LENGTH = 120;
    /**
     * プロパティ名
     */
    BaseCreateSectionCommand.PROP_FILE_NAME = 'fileName';
    return BaseCreateSectionCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/base-move-section-command.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/commands/base-move-section-command.ts ***!
  \**************************************************************/
/*! exports provided: BaseMoveSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseMoveSectionCommand", function() { return BaseMoveSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");



/**
 * セクション移動用のベースコマンドです。
 */
var BaseMoveSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](BaseMoveSectionCommand, _super);
    /**
     * コンストラクタです。
     */
    function BaseMoveSectionCommand() {
        return _super.call(this) || this;
    }
    BaseMoveSectionCommand.prototype.call = function () {
        throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Method not implemented.');
    };
    BaseMoveSectionCommand.prototype.succeed = function (response) {
        throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Method not implemented.');
    };
    BaseMoveSectionCommand.prototype.request = function (param) {
        throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Method not implemented.');
    };
    return BaseMoveSectionCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/core/help-click-command.ts":
/*!************************************************************!*\
  !*** ./src/app/viewer/commands/core/help-click-command.ts ***!
  \************************************************************/
/*! exports provided: HelpClickCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HelpClickCommand", function() { return HelpClickCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_services_url_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/services/url.service */ "./src/app/core/services/url.service.ts");




/**
 * ヘルプを表示するコマンドです。
 *
 */
var HelpClickCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](HelpClickCommand, _super);
    /**
     * コンストラクタです
     */
    function HelpClickCommand() {
        var _this = _super.call(this) || this;
        _this.urlService = _this.injector.get(_core_services_url_service__WEBPACK_IMPORTED_MODULE_3__["UrlService"]);
        _this.externalJsCallback = _this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_2__["ExternalJsCallback"]);
        return _this;
    }
    /**
     * @inheritDoc
     * ヘルプボタンが押下された時の処理
     * ヘルプ用画面を表示する。
     */
    HelpClickCommand.prototype.doCommand = function () {
        // BaseURLの設定
        var url = this.urlService.getBaseURL();
        // ヘルプ画面を表示
        var helpURL = url + '/doc/RSNUserGuide.pdf';
        this.externalJsCallback.openApp(helpURL);
        this.terminate();
    };
    return HelpClickCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/confirm-update-change-action-command.ts":
/*!********************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/confirm-update-change-action-command.ts ***!
  \********************************************************************************/
/*! exports provided: ConfirmUpdateChangeActionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmUpdateChangeActionCommand", function() { return ConfirmUpdateChangeActionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/models/confirm-update-item */ "./src/app/shared/models/confirm-update-item.ts");

/**
 * CHANGE_UPDATEイベントが発生したときの処理です。
 *
 */




var ConfirmUpdateChangeActionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConfirmUpdateChangeActionCommand, _super);
    /**
     * コンストラクタです
     */
    function ConfirmUpdateChangeActionCommand() {
        return _super.call(this) || this;
    }
    /**
     * @private
     */
    ConfirmUpdateChangeActionCommand.prototype.check = function (param) {
        this.dialog = this.parent;
    };
    /**
     * @private
     * 画面の切り替えを行ないます。
     */
    ConfirmUpdateChangeActionCommand.prototype.doCommand = function () {
        var confirmEvent = this.event;
        if (!confirmEvent.relatedEvent) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('event is null');
        }
        var level = (this.dialog.confirm.item.level === _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_4__["ConfirmUpdateItem"].VERUP_MAJOR) ? 1 : 0;
        // 版上げ後のバージョンを取得する。
        this.dialog.confirm.item.updateVersion =
            _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__["Sys0CommonUtil"].getNextVersion(this.dialog.confirm.item.currentVersion == null ? '' : this.dialog.confirm.item.currentVersion, level);
        this.dialog.confirm.visible = confirmEvent.relatedEvent.target.selectedValue === _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_4__["ConfirmUpdateItem"].UPDATE_VERSIONUP;
        this.terminate();
    };
    return ConfirmUpdateChangeActionCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/divide-section-dialog-creation-complete-command.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/divide-section-dialog-creation-complete-command.ts ***!
  \*******************************************************************************************/
/*! exports provided: DivideSectionDialogCreationCompleteCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DivideSectionDialogCreationCompleteCommand", function() { return DivideSectionDialogCreationCompleteCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_commands_creation_complete_base_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/commands/creation-complete-base-command */ "./src/app/shared/commands/creation-complete-base-command.ts");


/**
 * 文書分割画面のcreationCompleteイベントの処理です。
 */
var DivideSectionDialogCreationCompleteCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DivideSectionDialogCreationCompleteCommand, _super);
    /**
     * コンストラクタです
     */
    function DivideSectionDialogCreationCompleteCommand() {
        return _super.call(this) || this;
    }
    /**
     * 文書分割画面を生成時にvalidatorEnabledプロパティを設定します。
     */
    DivideSectionDialogCreationCompleteCommand.prototype.doCommand = function () {
        var dialog = this.parent;
        dialog.formBindValidatorEnabled = true;
        _super.prototype.doCommand.call(this);
    };
    return DivideSectionDialogCreationCompleteCommand;
}(_shared_commands_creation_complete_base_command__WEBPACK_IMPORTED_MODULE_1__["CreationCompleteBaseCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/divide-section-ok-cancel-command.ts":
/*!****************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/divide-section-ok-cancel-command.ts ***!
  \****************************************************************************/
/*! exports provided: DivideSectionOkCancelCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DivideSectionOkCancelCommand", function() { return DivideSectionOkCancelCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/utils/sys0-string-util */ "./src/app/core/utils/sys0-string-util.ts");
/* harmony import */ var _core_vo_cabinet_vo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/vo/cabinet-vo */ "./src/app/core/vo/cabinet-vo.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");















/**
 * セクション分割設定画面でOK/キャンセルボタンを押されたときの処理です。
 */
var DivideSectionOkCancelCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DivideSectionOkCancelCommand, _super);
    function DivideSectionOkCancelCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_13__["ViewerModelLocatorService"].getInstance();
        _this.dialog = null;
        /**
         * 分割先のフォルダー。エラー時に使用。
         */
        _this.divideFolder = null;
        return _this;
        // ★StitchV1.3対応
        // dispProgress = true;
    }
    /**
     * キャンセル時は、画面を閉じるだけです。
     * OKボタンが押されたときは、確認ダイアログを表示します。
     */
    DivideSectionOkCancelCommand.prototype.check = function (param) {
        this.dialog = this.parent;
        if (this.event.type === _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_10__["BaseDialogViewComponent"].CLICK_OK_EVENT) {
            this.dialog.inputNewName = _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_8__["Sys0StringUtil"].trim(this.dialog.inputNewName);
            var validaterResult = this.dialog.formBind.validateAll();
            if (validaterResult) {
                for (var _i = 0, _a = validaterResult.results; _i < _a.length; _i++) {
                    var valiResult = _a[_i];
                    if (valiResult.isError) {
                        this.messageService.showErrorMessage('warn.common.inputtext', _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_WARNING, null);
                        param.cancel = true;
                        return;
                    }
                }
            }
            param.isAsync = true;
            this.messageService.showErrorMessage('question.section.divide', _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].YES | _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].NO, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_QUESTION, this.confirmCloseHandler);
        }
        else {
            this.popup.removePopUp(this.dialog);
            param.cancel = true;
        }
    };
    /**
     * イベントオブジェクトを生成します。
     */
    DivideSectionOkCancelCommand.prototype.request = function (param) {
        this.progressMessageLabel = this.wording.get('info.progress.divide');
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_6__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].DIVIDE_DOCUMENT);
    };
    /**
     * セクションの分割を呼び出します。
     */
    DivideSectionOkCancelCommand.prototype.call = function () {
        if (this.dialog == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.dialog is null.');
        }
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.currentDocument is null.');
        }
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].SectionView);
        var sectionVO = sectionListView.thumbnailList.selectedItem;
        var mode = this.dialog.selectedValue;
        this.popup.removePopUp(this.dialog);
        this.locator.updated = true;
        // 分割依頼
        this.http.divideDocument(this.locator.currentDocument, sectionVO.sectionNo || 0, mode, this.dialog.inputNewName);
    };
    /**
     * セクション一覧を更新します。
     */
    DivideSectionOkCancelCommand.prototype.succeed = function (event) {
        var newDocment = event;
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.currentDocument is null.');
        }
        var currentSections = this.locator.currentDocument.sections;
        this.locator.currentDocument.sections = currentSections - Number(newDocment.sections);
        // セクション一覧の更新
        var viewerBase = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].ViewerBase);
        var updateCommand = this.commandProvider.getCommand(viewerBase, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SharedCommand"].SharedActionTypes.Update);
        updateCommand.refreshSection(this.refreshCallback);
        this.terminate();
    };
    DivideSectionOkCancelCommand.prototype.getErrorInfo = function (exception) {
        if (exception.key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_7__["Sys0ErrorType"].FOLDER_DOC_CREATE_AUTH) {
            this.divideFolder = exception.userItem;
        }
        return _super.prototype.getErrorInfo.call(this, exception);
    };
    Object.defineProperty(DivideSectionOkCancelCommand.prototype, "failAlertParent", {
        // ★StitchV1.3対応 Sprite⇒anyで対応
        get: function () {
            return this.dialog;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 文書作成権限がない場合のメッセージキーを返します。
     */
    DivideSectionOkCancelCommand.prototype.getCreateAuthMessageKey = function () {
        var folderName = null;
        if (Object(_core_vo_cabinet_vo__WEBPACK_IMPORTED_MODULE_9__["isCabinetVO"])(this.divideFolder)) {
            folderName = this.wording.get('lbl.tree.topcabinet');
        }
        else {
            folderName = this.divideFolder != null && this.divideFolder.name != null ? this.divideFolder.name : '';
        }
        return this.wording.get('warn.section.dividedocauth', folderName);
    };
    /**
     * 裏でアクセス権がなくなった場合のメッセージキーを返す。
     */
    DivideSectionOkCancelCommand.prototype.getAllAuthMessageKey = function () {
        return 'warn.section.docallauth';
    };
    /**
     * 裏でアクセス権が変更されていた場合のメッセージキーを返す。
     */
    DivideSectionOkCancelCommand.prototype.getSeQuenceInvalidKey = function () {
        return 'warn.section.canceleddocedit';
    };
    DivideSectionOkCancelCommand.prototype.confirmCloseHandler = function (event) {
        if (event.detail === _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].YES) {
            this.checkComplete();
        }
        else {
            this.checkComplete(true);
        }
    };
    DivideSectionOkCancelCommand.prototype.refreshCallback = function (sucess) {
        // メッセージを表示
        // IMessageArea(root).navigateMessage = this.wording.get('info.messagearea.divide');
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SetNavigateMessage"](this.wording.get('info.messagearea.divide')));
    };
    return DivideSectionOkCancelCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/edit-confirm-ok-cancel-command.ts":
/*!**************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/edit-confirm-ok-cancel-command.ts ***!
  \**************************************************************************/
/*! exports provided: EditConfirmOkCancelCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditConfirmOkCancelCommand", function() { return EditConfirmOkCancelCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_server_info_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/server-info-type */ "./src/app/core/server-info-type.ts");
/* harmony import */ var _core_services_url_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/services/url.service */ "./src/app/core/services/url.service.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");












/**
 * 保存方法の選択ダイアログでのOK/キャンセルボタンクリック時の処理です。
 */
var EditConfirmOkCancelCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditConfirmOkCancelCommand, _super);
    /**
     * コンストラクタです
     */
    function EditConfirmOkCancelCommand() {
        var _this = _super.call(this) || this;
        /**
         * モデルロケーターです。
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_10__["ViewerModelLocatorService"].getInstance();
        /**
         *
         */
        _this.openMode = 0;
        /**
         * 更新確認のモデルです。
         */
        _this.confirmItem = null;
        _this.urlService = _this.injector.get(_core_services_url_service__WEBPACK_IMPORTED_MODULE_5__["UrlService"]);
        _this.externalJsCallback = _this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_3__["ExternalJsCallback"]);
        return _this;
    }
    EditConfirmOkCancelCommand.prototype.check = function (param) {
        this.dialog = this.parent;
        if (this.dialog.updateAction === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_8__["EditConfirmDialogComponent"].EDIT_CANCEL ||
            this.event.type === _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_11__["BaseDialogViewComponent"].CLICK_CANCEL_EVENT) {
            this.locator.removeApp(this.dialog.sectionNo.toString());
            this.closeDialog();
            var msg = null;
            var mode = null;
            if (this.dialog.currentState == null) {
                msg = this.wording.get('info.messagearea.sectioneditcancel');
                mode = '0';
            }
            else {
                msg = this.wording.get('info.messagearea.ftseditcancel');
                mode = '1';
            }
            this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_7__["SetNavigateMessage"](msg));
            // キャンセル処理
            if (this.locator.viewerId == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewerId is null');
            }
            if (this.dialog.filename == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.dialog.filename is null');
            }
            // キャンセル処理
            this.externalJsCallback.cancelEdit(this.locator.makeEditAppFileName(this.locator.viewerId, this.dialog.docId, this.dialog.sectionNo.toString(), this.dialog.filename, mode));
            param.cancel = true;
        }
    };
    /**
     *
     */
    EditConfirmOkCancelCommand.prototype.doCommand = function () {
        this.dialog = this.parent;
        this.locator.editUpdateMode = this.dialog.updateAction.valueOf();
        var fileName = this.dialog.filename;
        this.closeDialog();
        this.progress.addCommand(null, false, 0, '', '', this.wording.get('info.progress.preparing'), null, 0, true);
        var mode = '0';
        if (this.dialog.currentState != null) {
            mode = '1';
        }
        // キャンセル処理
        if (this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewerId is null');
        }
        if (fileName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.dialog.filename is null');
        }
        if (this.dialog.docId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.dialog.docId is null');
        }
        this.externalJsCallback.uploadFile(this.getUploadUrl(), this.locator.makeEditAppFileName(this.locator.viewerId, this.dialog.docId, this.dialog.sectionNo.toString(), fileName, mode));
        this.terminate();
    };
    /**
     * Upload用のURLを取得します。
     */
    EditConfirmOkCancelCommand.prototype.getUploadUrl = function () {
        var url = null;
        var baseRemoteUrl = this.urlService.getBaseRemoteUrl();
        var loginInfo = this.stateUtilService.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_6__["getLoginInfo"]);
        var loginInfoId = loginInfo[loginInfo.sessionId];
        if (baseRemoteUrl != null && baseRemoteUrl.indexOf('{server.name}') < 0) {
            url = baseRemoteUrl + '/' + _core_server_info_type__WEBPACK_IMPORTED_MODULE_4__["ServerInfoType"].UPLOAD_SERVLET + '?sessionID=' + loginInfoId + '&viewId=' + this.locator.viewerId;
        }
        else {
            // BaseURLの設定
            var baseURL = this.urlService.getBaseURL();
            url = baseURL + '/' + _core_server_info_type__WEBPACK_IMPORTED_MODULE_4__["ServerInfoType"].UPLOAD_SERVLET + '?sessionID=' + loginInfoId + '&viewId=' + this.locator.viewerId;
        }
        return url;
    };
    EditConfirmOkCancelCommand.prototype.closeDialog = function () {
        this.popup.removePopUp(this.parent);
        // メニューの更新
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_9__["ViewerViewTypes"].SectionView);
        sectionListView.thumbnailList.onChange();
    };
    return EditConfirmOkCancelCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/viewer-document-information-change-menu-command.ts":
/*!*******************************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/viewer-document-information-change-menu-command.ts ***!
  \*******************************************************************************************/
/*! exports provided: ViewerDocumentInformationChangeMenuCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerDocumentInformationChangeMenuCommand", function() { return ViewerDocumentInformationChangeMenuCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _shared_commands_dialog_property_base_document_information_change_menu_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/commands/dialog/property/base-document-information-change-menu-command */ "./src/app/shared/commands/dialog/property/base-document-information-change-menu-command.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");







// tslint:disable-next-line:max-line-length


/**
 * ビューア画面の文書情報ダイアログのメニュー切り替えを行うときの処理をおこなうコマンドクラスです。
 *
 */
var ViewerDocumentInformationChangeMenuCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerDocumentInformationChangeMenuCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerDocumentInformationChangeMenuCommand() {
        return _super.call(this) || this;
    }
    ViewerDocumentInformationChangeMenuCommand.prototype.check = function (param) {
        _super.prototype.check.call(this, param);
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__["ViewerModelLocatorService"].getInstance();
    };
    ViewerDocumentInformationChangeMenuCommand.prototype.showErrorMessage = function (exception) {
        // 文書が削除されていた、アクセス権なしの場合
        if (exception.key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_6__["Sys0ErrorType"].DOCUMENT_DELETE || exception.key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_6__["Sys0ErrorType"].DOCUMENT_ALL_AUTH) {
            // 更新モードの場合、ロックを解除
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
                // 編集を破棄する。
                this.cancelEdit();
            }
            else {
                this.disconnect();
            }
            this.showSysCloseDialog('warn.pdf.docnonexist');
        }
        else {
            // ★Stitch V1.3対応 messageDetail空判断を追加する
            var messageDetail = void 0;
            if (exception.messageDetail == null) {
                messageDetail = this.wording.get('warn.common.unknownerror');
            }
            else {
                messageDetail = this.wording.get('warn.common.unknownerror', exception.messageDetail);
            }
            this.messageService.showErrorMessage(messageDetail, _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_SYSTEM_ERROR, null);
        }
    };
    /**
     * 編集を破棄して、ロックを解除します。
     */
    ViewerDocumentInformationChangeMenuCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
        // ★Stitch V1.3対応 currentDocumentの非空判断
        var currentDocument = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__["ViewerModelLocatorService"].getInstance().currentDocument;
        if (currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        sys0ConnectObject.documentUpdateEnd(currentDocument, null, null, null, false, null);
    };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    ViewerDocumentInformationChangeMenuCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerDocumentInformationChangeMenuCommand;
}(_shared_commands_dialog_property_base_document_information_change_menu_command__WEBPACK_IMPORTED_MODULE_7__["BaseDocumentInformationChangeMenuCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/viewer-document-information-change-tab-navigator.ts":
/*!********************************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/viewer-document-information-change-tab-navigator.ts ***!
  \********************************************************************************************/
/*! exports provided: ViewerDocumentInformationChangeTabNavigator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerDocumentInformationChangeTabNavigator", function() { return ViewerDocumentInformationChangeTabNavigator; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _shared_commands_dialog_property_base_document_information_change_tab_navigator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/commands/dialog/property/base-document-information-change-tab-navigator */ "./src/app/shared/commands/dialog/property/base-document-information-change-tab-navigator.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");







// tslint:disable-next-line:max-line-length


/**
 * ビューアの文書情報ダイアログのタブ切り替えを行うときの処理をおこなうコマンドクラスです。
 *
 */
var ViewerDocumentInformationChangeTabNavigator = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerDocumentInformationChangeTabNavigator, _super);
    /**
     * コンストラクタです
     */
    function ViewerDocumentInformationChangeTabNavigator() {
        return _super.call(this) || this;
    }
    ViewerDocumentInformationChangeTabNavigator.prototype.check = function (param) {
        _super.prototype.check.call(this, param);
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__["ViewerModelLocatorService"].getInstance();
    };
    ViewerDocumentInformationChangeTabNavigator.prototype.showErrorMessage = function (exception) {
        // 文書が削除されていた、アクセス権なしの場合
        if (exception.key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_6__["Sys0ErrorType"].DOCUMENT_DELETE || exception.key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_6__["Sys0ErrorType"].DOCUMENT_ALL_AUTH) {
            // 更新モードの場合、ロックを解除
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
                // 編集を破棄する。
                this.cancelEdit();
            }
            else {
                this.disconnect();
            }
            // ★Stitch V1.3対応
            // 他のコマンドに合わせて、showSysCloseDialog()よりmessageServiceを利用する方式に変更
            this.showSysCloseDialog('warn.pdf.docnonexist');
        }
        else {
            this.messageService.showErrorMessage(this.wording.get('warn.common.unknownerror'), _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_SYSTEM_ERROR, null);
        }
    };
    /**
     * 編集を破棄して、ロックを解除します。
     */
    ViewerDocumentInformationChangeTabNavigator.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
        var parentDoc = this.locator.currentDocument;
        // ★Stitch V1.3対応　locatorの空判断
        if (parentDoc == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('parentDoc is null.');
        }
        sys0ConnectObject.documentUpdateEnd(parentDoc, null, null, null, false, null);
    };
    /**
     * システム終了時のダイアログを表示する。
     * ★Stitch V1.3対応
     * 新規作成
     */
    ViewerDocumentInformationChangeTabNavigator.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerDocumentInformationChangeTabNavigator;
}(_shared_commands_dialog_property_base_document_information_change_tab_navigator__WEBPACK_IMPORTED_MODULE_7__["BaseDocumentInformationChangeTabNavigator"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/viewer-document-information-getUser-number-command.ts":
/*!**********************************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/viewer-document-information-getUser-number-command.ts ***!
  \**********************************************************************************************/
/*! exports provided: ViewerDocumentInformationGetUserNumberCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerDocumentInformationGetUserNumberCommand", function() { return ViewerDocumentInformationGetUserNumberCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _shared_commands_dialog_property_base_document_information_get_user_number_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/commands/dialog/property/base-document-information-get-user-number-command */ "./src/app/shared/commands/dialog/property/base-document-information-get-user-number-command.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");



// tslint:disable-next-line:max-line-length


/**
 * ビューア画面の文書情報ダイアログの採番を行うときの処理をおこなうコマンドクラスです。
 *
 */
var ViewerDocumentInformationGetUserNumberCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerDocumentInformationGetUserNumberCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerDocumentInformationGetUserNumberCommand() {
        var _this = _super.call(this) || this;
        /**
         * ビューアーを閉じるように促します。
         */
        _this.isSystemClose = false;
        return _this;
    }
    ViewerDocumentInformationGetUserNumberCommand.prototype.check = function (param) {
        _super.prototype.check.call(this, param);
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_4__["ViewerModelLocatorService"].getInstance();
    };
    Object.defineProperty(ViewerDocumentInformationGetUserNumberCommand.prototype, "targetVo", {
        get: function () {
            // ★Stitch V1.3対応 docProperty初期化方法を変更します。
            var baseDialog = this.event.currentTarget;
            var docProperty = baseDialog.documentProperty;
            return docProperty.vo;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * OKボタンのない、エラーメッセージを表示します。
     *
     * @param errorInfo
     *
     */
    ViewerDocumentInformationGetUserNumberCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.isSystemClose) {
            // disconnectを実行する
            this.disconnect();
            // ★Stitch V1.3対応　errorInfo.messageの空判断
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo is null.');
            }
            this.showSysCloseDialog(errorInfo.message);
            // 初期化
            this.isSystemClose = false;
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * 文書のアクセス権がない場合、エラーメッセージを返します。
     *
     * @return
     */
    ViewerDocumentInformationGetUserNumberCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * 文書が削除されていた場合、エラーメッセージを返します。
     *
     * @return
     */
    ViewerDocumentInformationGetUserNumberCommand.prototype.getDeleteMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    ViewerDocumentInformationGetUserNumberCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_2__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerDocumentInformationGetUserNumberCommand;
}(_shared_commands_dialog_property_base_document_information_get_user_number_command__WEBPACK_IMPORTED_MODULE_3__["BaseDocumentInformationGetUserNumberCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/viewer-document-information-ok-cancel-command.ts":
/*!*****************************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/viewer-document-information-ok-cancel-command.ts ***!
  \*****************************************************************************************/
/*! exports provided: ViewerDocumentInformationOkCancelCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerDocumentInformationOkCancelCommand", function() { return ViewerDocumentInformationOkCancelCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_vo_document_vo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/vo/document-vo */ "./src/app/core/vo/document-vo.ts");
/* harmony import */ var _main_models_main_view_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../main/models/main-view-types */ "./src/app/main/models/main-view-types.ts");
/* harmony import */ var _shared_commands_dialog_property_base_document_information_ok_cancel_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/commands/dialog/property/base-document-information-ok-cancel-command */ "./src/app/shared/commands/dialog/property/base-document-information-ok-cancel-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");







// tslint:disable-next-line:max-line-length



/**
 * ビューアから開いた文書情報ダイアログのOK/キャンセルボタンをクリックしたときの処理です。
 *
 * OKボタンをクリックした場合で、
 * プロパティを表示している場合は、内容を保存して画面を閉じます。
 * プロパティ以外の場合は、何もせず、画面を閉じます。
 * &middot;ビューア参照モードから文書情報ダイアログを表示した場合は、
 * disconnectObjectを実行します。
 * &middot;ビューア更新モードから文書情報ダイアログを表示した場合は、
 * editDocumentDetailを実行します。
 *
 * キャンセルボタンをクリックした場合は、変更した内容を破棄し、
 * 文書情報ダイアログを閉じます。
 *
 */
var ViewerDocumentInformationOkCancelCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerDocumentInformationOkCancelCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerDocumentInformationOkCancelCommand() {
        var _this = _super.call(this) || this;
        /**
         * モデルロケーターです。
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["ViewerModelLocatorService"].getInstance();
        /**
         * ビューアーを閉じるように促します。
         */
        _this.isSystemClose = false;
        return _this;
    }
    ViewerDocumentInformationOkCancelCommand.prototype.call = function () {
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
            // 更新モード時のみ
            this.locator.updated = true;
        }
        // ★Stitch V1.3対応 responderを削除
        _super.prototype.call.call(this);
    };
    ViewerDocumentInformationOkCancelCommand.prototype.succeed = function (event) {
        if (Object(_core_vo_document_vo__WEBPACK_IMPORTED_MODULE_5__["isDocumentVO"])(event.result != null && event.result)) {
            // ★Stitch V1.3対応　this.dialogの空判断
            if (this.dialog == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('dialog is null.');
            }
            // 更新する場合のみ
            if (this.isCommit || this.dialog.viewerMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
                var documentVo = event.result;
                if (this.dialog.viewerMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
                    this.locator.documentPropInfo = documentVo;
                }
                else {
                    this.locator.currentDocument = documentVo;
                }
                // ビューアの名前を変更
                var title = null;
                if (this.locator.version) {
                    title = documentVo.name + '(' + this.wording.get('lbl.viewer.version') + this.locator.version.name + ')';
                }
                else {
                    title = documentVo.name;
                }
                // ★Stitch V1.3対応 MainComponentを取得する
                var main = this.viewManager.get(_main_models_main_view_types__WEBPACK_IMPORTED_MODULE_6__["MainViewTypes"].Root);
                if (main == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('main is null.');
                }
                // ★Stitch V1.3対応 titleを設定、実装方法を修正する
                if (title == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('title is null.');
                }
                // ブラウザの名前を変更
                var externalJsCallback = void 0;
                externalJsCallback = this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_2__["ExternalJsCallback"]);
                externalJsCallback.setTitle(title);
                // メッセージエリアに更新完了のメッセージを表示
                // ★Stitch V1.3対応 navigateMessage対応
                this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SetNavigateMessage"](this.wording.get('info.docprop.update')));
                // terminate();
            }
            // 画面を閉じる
            this.closeDialog();
        }
    };
    /**
     * 文書プロパティの情報を取得します。
     */
    ViewerDocumentInformationOkCancelCommand.prototype.getDialogInfo = function () {
        this.dialog = this.event.currentTarget;
        // ★Stitch V1.3対応　this.locator.currentDocumentの空判断
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        this.selectedItem = this.locator.currentDocument;
    };
    /**
     * OKボタンのないエラーメッセージダイアログを表示します。
     *
     * @param errorInfo
     *
     */
    ViewerDocumentInformationOkCancelCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.isSystemClose) {
            // disconnectを実行する
            this.doPostFailProcess = true;
            this.postFailProcess();
            // ★Stitch V1.3対応　errorInfo.messageの空判断
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo is null.');
            }
            this.showSysCloseDialog(errorInfo.message);
            // 初期化
            this.isSystemClose = false;
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * アクセス権がない場合、エラーメッセージを返します。
     *
     * @return
     *
     */
    ViewerDocumentInformationOkCancelCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * 削除されていた場合、エラーメッセージを返します。
     *
     * @return
     *
     */
    ViewerDocumentInformationOkCancelCommand.prototype.getDeleteMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * ごみ箱に移動されていた場合、エラーメッセージを返します。
     *
     * @return
     *
     */
    ViewerDocumentInformationOkCancelCommand.prototype.getTrashMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docintrash';
    };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    ViewerDocumentInformationOkCancelCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerDocumentInformationOkCancelCommand;
}(_shared_commands_dialog_property_base_document_information_ok_cancel_command__WEBPACK_IMPORTED_MODULE_7__["BaseDocumentInformationOkCancelCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/viewer-inform-dialog-ok-cancel-command.ts":
/*!**********************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/viewer-inform-dialog-ok-cancel-command.ts ***!
  \**********************************************************************************/
/*! exports provided: ViewerInformDialogOkCancelCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerInformDialogOkCancelCommand", function() { return ViewerInformDialogOkCancelCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _shared_commands_dialog_base_inform_dialog_ok_cancel_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/commands/dialog/base-inform-dialog-ok-cancel-command */ "./src/app/shared/commands/dialog/base-inform-dialog-ok-cancel-command.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");







/**
 * ビューアからの通知入力ダイアログでOKまたは、キャンセルボタンを押されたときの処理です。
 *
 */
var ViewerInformDialogOkCancelCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerInformDialogOkCancelCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerInformDialogOkCancelCommand() {
        return _super.call(this) || this;
    }
    ViewerInformDialogOkCancelCommand.prototype.check = function (param) {
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_6__["ViewerModelLocatorService"].getInstance();
        _super.prototype.check.call(this, param);
    };
    ViewerInformDialogOkCancelCommand.prototype.showErrorMessage = function (status) {
        // 削除されていた or アクセス権なし
        if (status.erase || status.disable) {
            this.showSysCloseDialog('warn.pdf.docnonexist');
            // 更新モードの場合、ロックを解除
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
                // 編集モードの場合
                // 編集を破棄する。
                this.cancelEdit();
            }
            this.checkComplete(true);
            return true;
        }
        return false;
    };
    /**
     * 編集を破棄して、ロックを解除します。
     */
    ViewerInformDialogOkCancelCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
        // ★Stitch V1.3対応 viewerのundefined判断
        var locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_6__["ViewerModelLocatorService"].getInstance();
        if (locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        sys0ConnectObject.documentUpdateEnd(locator.currentDocument, null, null, null, false, null);
    };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    ViewerInformDialogOkCancelCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerInformDialogOkCancelCommand;
}(_shared_commands_dialog_base_inform_dialog_ok_cancel_command__WEBPACK_IMPORTED_MODULE_5__["BaseInformDialogOkCancelCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/dialog/viewer-show-document-information-command.ts":
/*!************************************************************************************!*\
  !*** ./src/app/viewer/commands/dialog/viewer-show-document-information-command.ts ***!
  \************************************************************************************/
/*! exports provided: ViewerShowDocumentInformationCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShowDocumentInformationCommand", function() { return ViewerShowDocumentInformationCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/commands/sys0-object */ "./src/app/core/commands/sys0-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _shared_commands_menu_base_show_document_information_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/commands/menu/base-show-document-information-command */ "./src/app/shared/commands/menu/base-show-document-information-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");












/**
 * メニューからの文書プロパティダイアログの表示を行ないます。
 * ビューアから文書プロパティダイアログを表示する際に呼ばれます。
 *
 */
var ViewerShowDocumentInformationCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerShowDocumentInformationCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerShowDocumentInformationCommand() {
        var _this = _super.call(this) || this;
        _this.viewerLocator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__["ViewerModelLocatorService"].getInstance();
        _this.setLocator = false;
        return _this;
    }
    /**
     * @inheirtDoc
     */
    ViewerShowDocumentInformationCommand.prototype.check = function (param) {
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__["ViewerModelLocatorService"].getInstance();
        _super.prototype.check.call(this, param);
        // 旧版の場合、編集不可
        /* if(locator.version != null) {
            notEdit = true;
        } */
        param.isAsync = true;
    };
    // ★Stitch V1.3対応 親クラスのメッソドを継承するためにここで定義する
    ViewerShowDocumentInformationCommand.prototype.doCommand = function () { };
    /**
     * ビューアのdocumentVoを取得します。
     */
    ViewerShowDocumentInformationCommand.prototype.getSelectedItem = function () {
        // ★Stitch V1.3対応 viewerLocator.currentDocumentの非空判断
        if (this.viewerLocator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        this.selectedItem = this.viewerLocator.currentDocument.clone();
    };
    /**
     * 選択している文書の文書情報詳細を取得します。
     *
     * 編集権限がない文書、ごみ箱に移動された文書、ビューアが更新モードの場合は、
     * getDocumentDetailを実行します。
     * ビューアが参照モードで更新権限がある場合は、
     * connectObjectを実行します。
     *
     * @param target documentVo
     */
    ViewerShowDocumentInformationCommand.prototype.getDocumentInformationDetail = function (target) {
        // ★Stitch V1.3対応 currentMode取得方法
        this.viewerMode = this.locator.currentMode;
        if (this.viewerMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_EDITABLE || this.notEdit) {
            if (!this.notEdit) {
                this.viewerEdit = true;
            }
            // ロケーターに値がセットされている場合
            if (this.viewerLocator.documentPropInfo == null) {
                var sys0Object = new _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_3__["Sys0Object"]();
                sys0Object.getDocumentDetail(target, null, this.documentDetailCallback);
                this.setLocator = true;
            }
            else {
                this.documentDetailCallback(this.viewerLocator.documentPropInfo.clone());
            }
        }
        else {
            var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
            sys0ConnectObject.connectObject(target, null, this.documentDetailCallback);
        }
    };
    /**
     * ブラウザを閉じられた場合、メッセージを表示するか判断するためのフラグをセット
     */
    ViewerShowDocumentInformationCommand.prototype.setBeforeUnloadShowMsgDocPropFlg = function () {
        this.locator.beforeUnloadShowMsgDocProp = true;
    };
    ViewerShowDocumentInformationCommand.prototype.showErrorMessage = function (exception) {
        switch (exception.key) {
            // 文書が削除されている
            case _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_7__["Sys0ErrorType"].DOCUMENT_DELETE:
            // 文書のアクセス権なし
            case _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_7__["Sys0ErrorType"].DOCUMENT_ALL_AUTH:
                this.showSysCloseDialog('warn.pdf.docnonexist');
                // 更新モードの場合、ロックを解除
                if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_EDITABLE) {
                    // 編集モードの場合
                    // 編集を破棄する。
                    this.cancelEdit();
                }
                break;
            default:
                // ★Stitch V1.3対応 messageDetail空判断を追加する
                var messageDetail = void 0;
                if (exception.messageDetail == null) {
                    messageDetail = this.wording.get('warn.common.unknownerror');
                }
                else {
                    messageDetail = this.wording.get('warn.common.unknownerror', exception.messageDetail);
                }
                this.messageService.showErrorMessage(messageDetail, _core_models_alert__WEBPACK_IMPORTED_MODULE_5__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR);
                break;
        }
    };
    /**
     * OK/キャンセルが押された場合に呼ばれるコマンドを定義しています。
     *
     * @param event
     *
     */
    ViewerShowDocumentInformationCommand.prototype.saveDocumentInformation = function (event) {
        // ★Stitch V1.3対応
        // commandMap.execEvent対応
        var base = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].ViewerBase);
        if (base == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected undefined value for base.');
        }
        this.commandProvider.execCommand(base, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__["SharedCommand"].SharedActionTypes.DocumentInformationClick, event);
    };
    /**
     * 文書情報ダイアログのタブを切り替えたときの処理です。
     *
     * @param event
     */
    ViewerShowDocumentInformationCommand.prototype.changeTabNavigator = function (event) {
        // ★Stitch V1.3対応
        // commandMap.execEvent対応
        var base = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].ViewerBase);
        if (base == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected undefined value for base.');
        }
        this.commandProvider.execCommand(base, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__["SharedCommand"].SharedActionTypes.DocumentInformationClick, event);
    };
    /**
     * 文書情報ダイアログ採番実行時の処理です。
     *
     * @param event
     *
     */
    ViewerShowDocumentInformationCommand.prototype.getUserNumber = function (event) {
        // ★Stitch V1.3対応
        // commandMap.execEvent対応
        var base = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].ViewerBase);
        if (base == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected undefined value for base.');
        }
        this.commandProvider.execCommand(base, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__["SharedCommand"].SharedActionTypes.GetUserNumber, event);
    };
    /**
     * 文書情報ダイアログのメニューを切り替えたときの処理です。
     *
     * @param event
     *
     */
    ViewerShowDocumentInformationCommand.prototype.changeMenu = function (event) {
        // ★Stitch V1.3対応
        // commandMap.execEvent対応
        var base = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].ViewerBase);
        if (base == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected undefined value for base.');
        }
        this.commandProvider.execCommand(base, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__["SharedCommand"].SharedActionTypes.ChangeMenu, event);
    };
    /**
     * 編集を破棄して、ロックを解除します。
     */
    ViewerShowDocumentInformationCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
        // ★Stitch V1.3対応 currentDocumentの非空判断
        var currentDocument = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__["ViewerModelLocatorService"].getInstance().currentDocument;
        if (currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        sys0ConnectObject.documentUpdateEnd(currentDocument, null, null, null, false, null);
    };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    ViewerShowDocumentInformationCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerShowDocumentInformationCommand;
}(_shared_commands_menu_base_show_document_information_command__WEBPACK_IMPORTED_MODULE_8__["BaseShowDocumentInformationCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/edit-complete-command.ts":
/*!**********************************************************!*\
  !*** ./src/app/viewer/commands/edit-complete-command.ts ***!
  \**********************************************************/
/*! exports provided: EditCompleteCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditCompleteCommand", function() { return EditCompleteCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _shared_commands_base_edit_application_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/commands/base-edit-application-command */ "./src/app/shared/commands/base-edit-application-command.ts");
/* harmony import */ var _shared_event_auto_edit_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/event/auto-edit-event */ "./src/app/shared/event/auto-edit-event.ts");
/* harmony import */ var _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");










/**
 * 編集終了後の処理です。
 *
 */
var EditCompleteCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditCompleteCommand, _super);
    /**
     * コンストラクタです
     */
    function EditCompleteCommand() {
        var _this = _super.call(this) || this;
        _this.viewerLocator = _this.locator;
        return _this;
    }
    Object.defineProperty(EditCompleteCommand.prototype, "locator", {
        get: function () {
            return _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["ViewerModelLocatorService"].getInstance();
        },
        enumerable: true,
        configurable: true
    });
    EditCompleteCommand.prototype.doCommand = function () {
        var running = -1;
        var viewerLocator = this.locator;
        if (viewerLocator.runnningAppSections.hasOwnProperty(this.autoEditEvent.sectionNo.toString())) {
            running = viewerLocator.runnningAppSections[this.autoEditEvent.sectionNo.toString()];
        }
        if (running === _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__["SectionVO"].APP_OPEN) {
            // アプリが開いている
            if (this.autoEditEvent.editResult === _shared_event_auto_edit_event__WEBPACK_IMPORTED_MODULE_6__["AutoEditEvent"].RESULT_EDIT) {
                // 編集あり
                if (this.viewerLocator.sectionList == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
                }
                var sectionList = this.viewerLocator.sectionList;
                var sectionVo = sectionList[this.autoEditEvent.sectionNo - 1];
                this.logger.info('アプリ終了 >> 編集されていました: ' +
                    sectionVo.name +
                    ' sectionVo.runningApp=' +
                    sectionVo.runningApp.toString() +
                    ' running = ' +
                    running.toString());
                if (running === _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__["SectionVO"].APP_OPEN && this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__["BaseModelLocator"].MODE_EDITABLE) {
                    // 更新モードで編集してたファイル
                    // ★Stitch V1.3対応 Componentの生成方法をPopup Service経由に変更
                    // tslint:disable-next-line:max-line-length
                    var componentRef = this.popup.createComponentInstance(_containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_7__["EditConfirmDialogComponent"]);
                    if (componentRef == null) {
                        throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to create component<DocumentSubDataDialogComponent>.');
                    }
                    var dialog = componentRef.instance;
                    dialog.filename = this.autoEditEvent.fileName || '';
                    dialog.docId = this.autoEditEvent.docId;
                    dialog.sectionNo = this.autoEditEvent.sectionNo;
                    dialog.notifyChange();
                    // セクション名は拡張子を除いたファイル名
                    dialog.sectionName = _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__["Sys0CommonUtil"].getFileNameWithoutExt(dialog.filename);
                    // ★Stitch V1.3対応 component取得
                    var pdfView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].PdfView);
                    pdfView.offIFrame(true);
                    // IFrameエリアを閉じる
                    // ★Stitch V1.3対応 component取得
                    var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].SectionView);
                    sectionView.visibleIFrameHtml = false;
                    this.locator.lastEditFileName = this.autoEditEvent.fileName;
                    // ダイアログを表示します。
                    this.popup.addPopUp(componentRef);
                    dialog.callLater(this.viewDetail);
                    if (this.autoEditEvent.isFts) {
                        // 全文データの場合は追加なしの画面
                        dialog.currentState = _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_7__["EditConfirmDialogComponent"].STATE_FTS;
                        dialog.editCurrentVersionLabel = this.wording.get('lbl.ftseditconfirm.message').replace('\n', '<br/>');
                        dialog.editVisible = false;
                    }
                    this.popup.createPopUp(_containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_7__["EditConfirmDialogComponent"]);
                }
                else {
                    this.logger.info('アプリ終了 >> その他 (runningApp = ' + running.toString() + ' ' + 'editMode = ' + this.locator.currentMode.toString() + ')');
                }
            }
            else {
                this.logger.info('アプリ終了 >> 編集されてませんでした。(セクション番号: ' + this.autoEditEvent.sectionNo.toString() + ')');
                this.resetFlag(this.autoEditEvent.sectionNo);
                this.refresh();
                if (this.viewerLocator.viewerId == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewerId is null.');
                }
                this.postNonEdit(this.viewerLocator.viewerId);
            }
        }
        else {
            this.logger.info('アプリは更新可能ではないので何もせずに終了します。');
            // nullでないことを保証した上で動作する
            if (this.viewerLocator.viewerId == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewerId is null.');
            }
            // 編集なしなどの場合
            this.resetFlag(this.autoEditEvent.sectionNo);
            this.refresh();
            // ★Stitch V1.3対応
            // キャストしたパラメータをnullチェックしてもエラーが解消しなかったため、
            // BaseLocatorからキャストせず、viewerLocatorから参照するように変更
            this.postNonEdit(this.viewerLocator.viewerId);
            // postNonEdit(ViewerModelLocator(locator).viewerId);
        }
        this.terminate();
    };
    EditCompleteCommand.prototype.viewDetail = function (dialog) {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.viewerLocator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        // セクション数が200以上だったら追加できない。
        // ★Stitch V1.3対応
        // キャストしたパラメータをnullチェックしてもエラーが解消しなかったため、
        // BaseLocatorからキャストせず、viewerLocatorから参照するように変更
        dialog.insert.enabled = !(this.viewerLocator.sectionList.length >= 200);
        // dialog.insert.enabled = !((this.locator as ViewerModelLocator).sectionList.length >= 200);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (dialog.filename == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('fileName is null.');
        }
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__["Sys0CommonUtil"].setFocusToFirstItem(dialog.confirm);
    };
    EditCompleteCommand.prototype.resetFlag = function (sectionNo) {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.viewerLocator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        // ★Stitch V1.3対応
        // キャストしたパラメータをnullチェックしてもエラーが解消しなかったため、
        // BaseLocatorからキャストせず、viewerLocatorから参照するように変更
        var sectionVO = this.viewerLocator.sectionList[sectionNo - 1];
        // const sectionVO: SectionVO = (this.locator as ViewerModelLocator).sectionList[sectionNo - 1] as SectionVO;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionVO.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionVO.sectionNo is null.');
        }
        this.locator.removeApp(sectionVO.sectionNo.toString());
    };
    EditCompleteCommand.prototype.refresh = function () {
        // セクション一覧更新
        // D&Dエリアも更新される
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応 dispatch対応
        sectionListView.thumbnailList.onChange();
        // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
    };
    return EditCompleteCommand;
}(_shared_commands_base_edit_application_command__WEBPACK_IMPORTED_MODULE_5__["BaseEditApplicationCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/edit-upload-command.ts":
/*!********************************************************!*\
  !*** ./src/app/viewer/commands/edit-upload-command.ts ***!
  \********************************************************/
/*! exports provided: EditUploadCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditUploadCommand", function() { return EditUploadCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");





/**
 * アプリ/全文データ 編集後の再登録をおこないます。
 *
 */
var EditUploadCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditUploadCommand, _super);
    /**
     * コンストラクタです
     */
    function EditUploadCommand() {
        var _this = _super.call(this) || this;
        /**
         * イベントオブジェクトです。
         */
        _this.autoEditEvent = null;
        return _this;
    }
    /**
     *
     */
    EditUploadCommand.prototype.doCommand = function () {
        this.autoEditEvent = this.event;
        var sys0Command = null;
        // ★Stitch V1.3対応
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__["ViewerViewTypes"].Root);
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewer.');
        }
        // 全文か？
        if (this.autoEditEvent.isFts) {
            sys0Command = this.commandProvider.getCommand(viewer, _store_viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.EditUploadFts);
        }
        else {
            sys0Command = this.commandProvider.getCommand(viewer, _store_viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.EditUploadSection);
        }
        sys0Command.event = this.event; // そのまま渡す
        sys0Command.execCommand();
        this.terminate();
    };
    return EditUploadCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/edit-upload-fts-command.ts":
/*!************************************************************!*\
  !*** ./src/app/viewer/commands/edit-upload-fts-command.ts ***!
  \************************************************************/
/*! exports provided: EditUploadFtsCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditUploadFtsCommand", function() { return EditUploadFtsCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _core_utils_store_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/utils/store-util */ "./src/app/core/utils/store-util.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
















/**
 * 全文データ 編集後の再登録をおこないます。
 */
var EditUploadFtsCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditUploadFtsCommand, _super);
    /**
     * コンストラクタです。
     */
    function EditUploadFtsCommand() {
        var _this = _super.call(this) || this;
        /** イベントオブジェクトです。 */
        _this.autoEditEvent = null;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_14__["ViewerModelLocatorService"].getInstance();
        _this.cancelable = false;
        _this.displayProgress = true;
        _this.stateUtil = _this.injector.get(_core_services_state_util_service__WEBPACK_IMPORTED_MODULE_6__["StateUtilService"]);
        _this.externalJsCallback = _this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_4__["ExternalJsCallback"]);
        return _this;
    }
    /**
     *
     */
    EditUploadFtsCommand.prototype.check = function (param) {
        this.autoEditEvent = this.event;
        this.progress.removeCommand(null); // 準備中を消す
        this.progressNameLabel = this.wording.get('info.progress.sectionname');
        if (this.locator.editUpdateMode === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_12__["EditConfirmDialogComponent"].EDIT_UPDATE) {
            this.progressMessageLabel = this.wording.get('info.progress.updatesection');
        }
        else {
            this.progressMessageLabel = this.wording.get('info.progress.addingsection');
        }
    };
    /**
     *
     */
    EditUploadFtsCommand.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_5__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].SET_SUB_DATA);
    };
    /**
     * 全文検索データの差し替えを呼び出す。
     */
    EditUploadFtsCommand.prototype.call = function () {
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.');
        }
        if (this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.viewerId.');
        }
        if (this.autoEditEvent.fileName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.fileName.');
        }
        // 全文データを登録する
        this.http.setSubData(this.locator.currentDocument, this.autoEditEvent.sectionNo, _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__["SectionVO"].RENDITION_TYPE_FTS, this.locator.viewerId, this.autoEditEvent.fileName);
    };
    EditUploadFtsCommand.prototype.succeed = function (event) {
        // メッセージを出す
        var msg = this.wording.get('info.messagearea.updatefts');
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SetNavigateMessage"](msg));
        // 終了処理
        this.postProcess();
        this.locator.updated = true;
        this.terminate();
    };
    EditUploadFtsCommand.prototype.fail = function (event) {
        _super.prototype.fail.call(this, event);
        // ★Stitch V1.3対応 isStoppedの情報をStateUtilServiceから取得
        var isStopped = this.stateUtil.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_7__["getApplicationStop"]) || false;
        if (isStopped) {
            // OKボタンなしの場合
            this.resumeAppEdit();
        }
    };
    EditUploadFtsCommand.prototype.postFailProcess = function () {
        this.postProcess();
        this.resumeAppEdit();
    };
    /**
     * @inheritDoc
     */
    EditUploadFtsCommand.prototype.postProcess = function () {
        // ★Stitch V1.3対応
        // Flex版ではSectionViewのイベントを呼び出すためにthumbnailListを取得していたが、
        // 直接SectionViewのイベントを呼び出すので、thumbnailListは不要。よって処理を削除
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        // 起動フラグ解除
        this.locator.removeApp(this.autoEditEvent.sectionNo.toString());
        // ★Stitch V1.3対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_13__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionView.');
        }
        // メニューの更新
        // ★Stitch V1.3対応 storeを利用したChangeコマンド呼び出しに変更
        var changeListEvent = new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__["ListEvent"].CHANGE);
        var changeAction = _core_utils_store_util__WEBPACK_IMPORTED_MODULE_8__["StoreUtil"].makeAction(_shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SharedCommand"].Change, sectionView, changeListEvent);
        this.store.dispatch(changeAction);
        // ★Stitch V1.3対応 storeを利用したClickコマンド呼び出しに変更
        var itemClickEvent = new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__["ListEvent"].ITEM_CLICK);
        var itemClickAction = _core_utils_store_util__WEBPACK_IMPORTED_MODULE_8__["StoreUtil"].makeAction(_shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SharedCommand"].ItemClick, sectionView, itemClickEvent);
        this.store.dispatch(itemClickAction);
    };
    EditUploadFtsCommand.prototype.getAllAuthMessageKey = function () {
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.');
        }
        if (this.locator.currentDocument.name == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.name.');
        }
        return this.wording.get('warn.application.updatedocauth', this.locator.currentDocument.name);
    };
    EditUploadFtsCommand.prototype.getUpdateAuthMessageKey = function () {
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.');
        }
        if (this.locator.currentDocument.name == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.name.');
        }
        return this.wording.get('warn.application.updatedocauth', this.locator.currentDocument.name);
    };
    /**
     * アプリを再起動する
     */
    EditUploadFtsCommand.prototype.resumeAppEdit = function () {
        // ★Stitch V1.3対応
        if (this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.viewerId.');
        }
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        if (this.autoEditEvent.fileName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.fileName.');
        }
        // アプリを再起動する
        this.externalJsCallback.resumeEditFTS(this.locator.makeEditAppFileName(this.locator.viewerId, this.autoEditEvent.docId, this.autoEditEvent.sectionNo.toString(), this.autoEditEvent.fileName, '1'), 1);
    };
    return EditUploadFtsCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/edit-upload-section-command.ts":
/*!****************************************************************!*\
  !*** ./src/app/viewer/commands/edit-upload-section-command.ts ***!
  \****************************************************************/
/*! exports provided: EditUploadSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditUploadSectionCommand", function() { return EditUploadSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _menu_replace_section_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./menu/replace-section-command */ "./src/app/viewer/commands/menu/replace-section-command.ts");









/**
 * アプリ編集後の再登録をおこないます。
 */
var EditUploadSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditUploadSectionCommand, _super);
    /**
     * コンストラクタです。
     */
    function EditUploadSectionCommand() {
        var _this = _super.call(this) || this;
        /** イベントオブジェクトです。 */
        _this.autoEditEvent = null;
        _this.cancelable = false;
        _this.stateUtil = _this.injector.get(_core_services_state_util_service__WEBPACK_IMPORTED_MODULE_3__["StateUtilService"]);
        return _this;
    }
    /**
     *
     */
    EditUploadSectionCommand.prototype.check = function (param) {
        this.autoEditEvent = this.event;
        this.progress.removeCommand(null);
        this.setSelectedSection();
        this.sectionList = [];
        // セクション番号
        var sectionNo = this.startSectionNo();
        // ★Stitch V1.3対応
        if (this.autoEditEvent.fileName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.fileName.');
        }
        var section = this.createSection(this.autoEditEvent.fileName, sectionNo);
        if (this.autoEditEvent.fileName == null || this.autoEditEvent.fileName === '') {
            param.cancel = true;
            return;
        }
        this.sectionList.push(section);
        this.locator.createdSectionCount = 0;
        this.locator.uploadSectionCount = 1;
    };
    /**
     * セクションの差し替えを呼び出す。
     */
    EditUploadSectionCommand.prototype.call = function () {
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.');
        }
        if (this.currentSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.currentSection.');
        }
        if (this.currentSection.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.currentSection.sectionNo.');
        }
        if (this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.viewerId.');
        }
        if (this.locator.editUpdateMode === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_6__["EditConfirmDialogComponent"].EDIT_UPDATE) {
            this.http.replaceSection(this.locator.currentDocument, this.currentSection.sectionNo, this.currentSection[EditUploadSectionCommand.PROP_FILE_NAME], this.locator.viewerId);
        }
        else {
            this.http.insertSection(this.locator.currentDocument, this.currentSection.sectionNo + 1, this.currentSection[EditUploadSectionCommand.PROP_FILE_NAME], this.locator.viewerId);
        }
        this.locator.updated = true;
    };
    EditUploadSectionCommand.prototype.fail = function (event) {
        _super.prototype.fail.call(this, event);
        // ★Stitch V1.3対応 isStoppedの情報をStateUtilServiceから取得
        var isStopped = this.stateUtil.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_4__["getApplicationStop"]) || false;
        if (isStopped) {
            // OKボタンなしの場合
            this.resumeAppEdit();
        }
    };
    EditUploadSectionCommand.prototype.settingProgressLabel = function () {
        this.progressNameLabel = this.wording.get('info.progress.sectionname');
        if (this.locator.editUpdateMode === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_6__["EditConfirmDialogComponent"].EDIT_UPDATE) {
            this.progressMessageLabel = this.wording.get('info.progress.updatesection');
        }
        else {
            this.progressMessageLabel = this.wording.get('info.progress.addingsection');
        }
    };
    EditUploadSectionCommand.prototype.setSelectedSection = function () {
        // ★Stitch V1.3対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionView.');
        }
        this.thumbnailList = sectionView.thumbnailList;
        // ★Stitch V1.3対応
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        this.insertIndex = this.autoEditEvent.sectionNo - 1;
        this.continueProgress = false;
    };
    Object.defineProperty(EditUploadSectionCommand.prototype, "eventType", {
        get: function () {
            if (this.locator.editUpdateMode === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_6__["EditConfirmDialogComponent"].EDIT_UPDATE) {
                return _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__["Sys0EventType"].REPLACE_SECTION;
            }
            else {
                return _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__["Sys0EventType"].INSERT_SECTION;
            }
        },
        enumerable: true,
        configurable: true
    });
    EditUploadSectionCommand.prototype.refreshList = function (newSection) {
        if (this.locator.editUpdateMode === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_6__["EditConfirmDialogComponent"].EDIT_UPDATE) {
            this.replaceSection(newSection, this.insertIndex);
        }
        else {
            // ★Stitch V1.3対応
            if (this.locator.sectionList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.sectionList.');
            }
            this.locator.sectionList.splice(this.insertIndex + 1, 0, newSection);
        }
        this.lastIndex = this.insertIndex;
        this.insertIndex++;
    };
    /**
     * @inheritDoc
     */
    EditUploadSectionCommand.prototype.showNavigateMessage = function () {
        var msg = null;
        if (this.locator.editUpdateMode === _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_6__["EditConfirmDialogComponent"].EDIT_UPDATE) {
            msg = this.wording.get('info.messagearea.updatesection');
        }
        else {
            msg = this.wording.get('info.messagearea.insertothersection');
        }
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__["SetNavigateMessage"](msg));
    };
    EditUploadSectionCommand.prototype.postFailProcess = function () {
        _super.prototype.postProcess.call(this); // 元の動作をする(endEditを呼び出さない)
        this.resumeAppEdit();
    };
    EditUploadSectionCommand.prototype.resetModel = function () {
        // ★Stitch V1.3対応
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        this.locator.removeApp(this.autoEditEvent.sectionNo.toString());
        _super.prototype.resetModel.call(this);
    };
    /**
     * @inheritDoc
     */
    EditUploadSectionCommand.prototype.postProcess = function () {
        _super.prototype.postProcess.call(this);
        this.endAppEdit();
    };
    EditUploadSectionCommand.prototype.getUpdateAuthMessageKey = function () {
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.');
        }
        if (this.locator.currentDocument.name == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.currentDocument.name.');
        }
        return this.wording.get('warn.application.updatedocauth', this.locator.currentDocument.name);
    };
    /**
     * アプリを再起動する
     */
    EditUploadSectionCommand.prototype.resumeAppEdit = function () {
        // ★Stitch V1.3対応
        if (this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.viewerId.');
        }
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        if (this.autoEditEvent.fileName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.fileName.');
        }
        // アプリを再起動する
        this.externalJsCallback.resumeEdit(this.locator.makeEditAppFileName(this.locator.viewerId, this.autoEditEvent.docId, this.autoEditEvent.sectionNo.toString(), this.autoEditEvent.fileName), 1);
    };
    /**
     * アプリ編集終了処理を行う。
     */
    EditUploadSectionCommand.prototype.endAppEdit = function () {
        // ★Stitch V1.3対応
        if (this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.locator.viewerId.');
        }
        if (this.autoEditEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.');
        }
        if (this.autoEditEvent.fileName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve this.autoEditEvent.fileName.');
        }
        // 編集終了
        this.externalJsCallback.endEdit(this.locator.makeEditAppFileName(this.locator.viewerId, this.autoEditEvent.docId, this.autoEditEvent.sectionNo.toString(), this.autoEditEvent.fileName));
    };
    return EditUploadSectionCommand;
}(_menu_replace_section_command__WEBPACK_IMPORTED_MODULE_8__["ReplaceSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/export-section-command.ts":
/*!***********************************************************!*\
  !*** ./src/app/viewer/commands/export-section-command.ts ***!
  \***********************************************************/
/*! exports provided: ExportSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportSectionCommand", function() { return ExportSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_document_base_export_section_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/commands/document/base-export-section-command */ "./src/app/core/commands/document/base-export-section-command.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./abstract-section-deleted-update-command */ "./src/app/viewer/commands/abstract-section-deleted-update-command.ts");






/**
 *
 * ダウンロードIDを元にダウンロードを行ないます。
 *
 */
var ExportSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ExportSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function ExportSectionCommand() {
        var _this = _super.call(this) || this;
        // ★Stitch V1.3対応 ViewerModelを定義
        /**
         * @private
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_4__["ViewerModelLocatorService"].getInstance();
        /**
         * @private
         */
        _this.sectionDeletedUpdate = null;
        return _this;
    }
    /**
     * @inheritDoc
     */
    ExportSectionCommand.prototype.getErrorInfo = function (exception) {
        var errorInfo = _super.prototype.getErrorInfo.call(this, exception);
        var key = exception.key;
        // ダウンロードIDが存在しない場合（既に中止処理がされている場合）
        if (key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_2__["Sys0ErrorType"].INVALID_DOWNLOAD_ID) {
            return null;
        }
        // ★Stitch V1.3対応 errorInfoのnullよけ
        if (errorInfo) {
            // セクション数が0の場合
            if (key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_2__["Sys0ErrorType"].DOWNLOAD_DOC_SECTION_NOT_EXIST) {
                this.doPostFailPropcess = false;
                if (this.isDownloadSection) {
                    errorInfo.message = this.wording.get('warn.downloadsection.sectionnoexist');
                    errorInfo.func = this.errorAlertOkHandler;
                }
                else {
                    errorInfo.message = this.wording.get('warn.download.sectionnonexist');
                    errorInfo.func = this.errorAlertOkHandler;
                }
            }
            else if (key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_2__["Sys0ErrorType"].SECTION_DELETE) {
                errorInfo.func = this.errorAlertOkHandler;
            }
        }
        return errorInfo;
    };
    /**
     * @inheritDoc
     */
    ExportSectionCommand.prototype.getSectionNotExist = function () {
        if (this.isDownloadSection) {
            return 'warn.downloadsection.sectionnoexist';
        }
        else {
            return 'warn.download.sectionnonexist';
        }
    };
    /**
     * @inheritDoc
     */
    ExportSectionCommand.prototype.postFailProcess = function () {
        // 何もしない
    };
    /**
     * ダウンロード対象のセクションでエラーが起きた場合に画面の更新を行います。
     *
     * @param event
     *
     */
    ExportSectionCommand.prototype.errorAlertOkHandler = function (event) {
        if (this.sectionDeletedUpdate == null) {
            this.sectionDeletedUpdate = new _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_5__["AbstractSectionDeletedUpdateCommand"]();
        }
        var section = new _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_3__["SectionVO"]();
        section.sectionNo = this.sectionNo;
        // ★Stitch V1.3対応 this.sectionDeletedUpdateのnullよけ
        if (this.sectionDeletedUpdate) {
            this.sectionDeletedUpdate.deleteSection(section);
        }
    };
    return ExportSectionCommand;
}(_core_commands_document_base_export_section_command__WEBPACK_IMPORTED_MODULE_1__["BaseExportSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/get-document-detail-command.ts":
/*!****************************************************************!*\
  !*** ./src/app/viewer/commands/get-document-detail-command.ts ***!
  \****************************************************************/
/*! exports provided: GetDocumentDetailCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetDocumentDetailCommand", function() { return GetDocumentDetailCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_base_get_document_detail_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/base-get-document-detail-command */ "./src/app/core/commands/base-get-document-detail-command.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _init_context_menu_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./init-context-menu-command */ "./src/app/viewer/commands/init-context-menu-command.ts");








/**
 * 文書情報(セクション数)を取得します。
 *
 */
var GetDocumentDetailCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GetDocumentDetailCommand, _super);
    function GetDocumentDetailCommand() {
        var _this = _super.call(this) || this;
        _this.externalJsCallback = _this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_3__["ExternalJsCallback"]);
        return _this;
    }
    Object.defineProperty(GetDocumentDetailCommand.prototype, "sectionList", {
        get: function () {
            return this.locator.sectionList;
        },
        // ★Stitch V1.3対応 ArrayCollection　→　any[]
        set: function (list) {
            this.locator.sectionList = list;
        },
        enumerable: true,
        configurable: true
    });
    GetDocumentDetailCommand.prototype.setModelLocator = function () {
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_6__["ViewerModelLocatorService"].getInstance();
    };
    Object.defineProperty(GetDocumentDetailCommand.prototype, "currentMode", {
        get: function () {
            var thumbnailView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].ThumbnailView);
            if (thumbnailView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for thumbnailView.');
            }
            return thumbnailView.getSelectedTabIndex();
        },
        enumerable: true,
        configurable: true
    });
    GetDocumentDetailCommand.prototype.getThumbnailList = function () {
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for sectionView.');
        }
        return sectionView.thumbnailList;
    };
    GetDocumentDetailCommand.prototype.getSectionListCallback = function (result) {
        _super.prototype.getSectionListCallback.call(this, result);
        if (result == null) {
            // ★Stitch V1.3対応
            var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].SectionView);
            if (sectionView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for sectionView.');
            }
            // セクション数を反映させる
            sectionView.executeBindings();
        }
    };
    GetDocumentDetailCommand.prototype.getPdfView = function () {
        // ★Stitch V1.3対応 Viewer(root)対応
        var mainView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].MainView);
        if (mainView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for mainView.');
        }
        return mainView.pdfView;
    };
    GetDocumentDetailCommand.prototype.postGetDocumentDetail = function () {
        var title = null;
        var currentDocument = this.locator.currentDocument;
        // ★Stitch V1.3対応
        if (currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for currentDocument.');
        }
        // ★Stitch V1.3対応
        if (this.locator.version) {
            title = '(' + this.wording.get('lbl.viewer.version') + this.locator.version.name + ')' + currentDocument.name;
        }
        else {
            title = currentDocument.name;
        }
        // ★Stitch V1.3対応 Viewer(root)対応
        var mainView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].MainView);
        if (mainView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for mainView.');
        }
        if (title == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for title.');
        }
        mainView.messageArea.documentName = title;
        // ★Stitch V1.3対応 externalJsCallbackを利用
        this.externalJsCallback.setTitle(title);
    };
    GetDocumentDetailCommand.prototype.initalizeSectionView = function () {
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応 sectionView.currentContextMenu == nullだけでは必ずfalseになってしまう為に
        // sectionView.currentContextMenu.modelがnullであるかどうかで判断するように変更した。
        if (sectionView.currentContextMenu.model == null) {
            // 最初だけやる
            // 右クリックメニューを作成する。
            var initContextMenu = new _init_context_menu_command__WEBPACK_IMPORTED_MODULE_7__["InitContextMenuCommand"]();
            var listMenu = void 0;
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_EDITABLE) {
                listMenu = _init_context_menu_command__WEBPACK_IMPORTED_MODULE_7__["InitContextMenuCommand"].EDITABLE_MENU;
            }
            else {
                listMenu = _init_context_menu_command__WEBPACK_IMPORTED_MODULE_7__["InitContextMenuCommand"].READ_MENU;
            }
            initContextMenu.initContextMenuView(sectionView, sectionView.thumbnailList, listMenu);
        }
        if (this.locator.sectionList != null) {
            this.locator.sectionList = [];
        }
        // メニューの初期状態
        this.setEnableModel();
        _super.prototype.initalizeSectionView.call(this);
    };
    /**
     * メニューの制御をします。
     */
    GetDocumentDetailCommand.prototype.setEnableModel = function () {
        // ★Stitch V1.3対応 Viewer(root)対応
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].Root);
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for viewer.');
        }
        var enableModel = viewer.enableModel;
        // 右クリックメニュー用にセクションリストビューを設定します。
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for sectionView.');
        }
        enableModel.contextView = sectionView;
        enableModel.property = true;
        enableModel.download = true;
        enableModel.update = true;
        enableModel.inform = true;
        enableModel.versionManagement = true;
        enableModel.copyUrl = true;
        enableModel.copyMobileUrl = true;
        enableModel.reCreateSubData = true;
        viewer.refreshMenuEnable();
    };
    return GetDocumentDetailCommand;
}(_core_commands_base_get_document_detail_command__WEBPACK_IMPORTED_MODULE_2__["BaseGetDocumentDetailCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/init-context-menu-command.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/commands/init-context-menu-command.ts ***!
  \**************************************************************/
/*! exports provided: InitContextMenuCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InitContextMenuCommand", function() { return InitContextMenuCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");






/**
 * 右メニュー初期化処理を行なうコマンドです。
 *
 */
var InitContextMenuCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InitContextMenuCommand, _super);
    /**
     * コンストラクタです
     */
    function InitContextMenuCommand() {
        return _super.call(this) || this;
    }
    /**
     * 右クリックメニューを作成します。
     *
     * @param contextView 右メニューの定義を保持するビューを指定します。
     * @param list 右クリックメニューを表示するコンポーネントです。
     * @param currentMenuData 右クリックメニューの定義名です。
     *
     */
    InitContextMenuCommand.prototype.initContextMenuView = function (contextView, list, currentMenuData) {
        // 文書一覧用のメニューをセット
        contextView.listMenuData = contextView[currentMenuData];
        // メニュー情報取得
        var listMenuData = contextView.listMenuData;
        // ★Stitch V1.3対応 Viewer(root)対応
        var viewerBase = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].ViewerBase);
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].Root);
        // 右クリックメニュー作成
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__["Sys0CommonUtil"].setContextMenu(list, listMenuData, 
        // ★Stitch V1.3対応 getCommand対応
        this.commandProvider.getCommand(viewerBase, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__["SharedCommand"].SharedActionTypes.MenuClick).clickContextMenu, this.commandProvider.getCommand(viewer, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__["SharedCommand"].SharedActionTypes.ContextMenuClick).clickMenu);
        // 現在のメニューをロケーターに保持
        contextView.currentContextMenu = list.contextMenu;
        // ★Stitch V1.3対応
        if (contextView.listMenuData == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('contextView.listMenuData is null');
        }
        // 使用可否の初期化
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_3__["Sys0CommonUtil"].refreshContextMenuEnable(contextView.currentContextMenu, contextView.listMenuData, viewer.enableModel);
    };
    InitContextMenuCommand.prototype.doCommand = function () { };
    /**
     * 参照用
     */
    InitContextMenuCommand.READ_MENU = 'readMenu';
    /**
     * 更新用
     */
    InitContextMenuCommand.EDITABLE_MENU = 'editableMenu';
    return InitContextMenuCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/list-context-menu-click-command.ts":
/*!********************************************************************!*\
  !*** ./src/app/viewer/commands/list-context-menu-click-command.ts ***!
  \********************************************************************/
/*! exports provided: ListContextMenuClickCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListContextMenuClickCommand", function() { return ListContextMenuClickCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_base_list_context_menu_click_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/base-list-context-menu-click-command */ "./src/app/core/commands/base-list-context-menu-click-command.ts");
/* harmony import */ var _core_utils_sys0_data_util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/utils/sys0-data-util */ "./src/app/core/utils/sys0-data-util.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");





/**
 * 右クリックメニューを表示するときの処理。
 *
 */
var ListContextMenuClickCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ListContextMenuClickCommand, _super);
    /**
     * コンストラクタです
     */
    function ListContextMenuClickCommand() {
        return _super.call(this) || this;
    }
    /**
     * @private
     *
     */
    ListContextMenuClickCommand.prototype.doCommand = function () {
        // メニューを閉じます
        // ★Stitch V1.3対応 MainComponentを取得する
        var view = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].Root);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (view == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve Main.');
        }
        view.onSys0ApplicationComplete();
        var menuEvent = this.event;
        // ★Stitch V1.3対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for sectionView.');
        }
        // ★Stitch V1.3対応
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].Root);
        // nullでないことを保証した上で動作する
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewer.');
        }
        var enableModel = viewer.enableModel;
        enableModel.contextView = sectionView;
        _core_utils_sys0_data_util__WEBPACK_IMPORTED_MODULE_3__["Sys0DataUtil"].copyProp(enableModel, sectionView.enableModel, ['contextView']);
        var listBase = null;
        var reSelect = false;
        // ★Stitch V1.3対応 以下の処理は不要と判断する
        // const item: ThumbnailItemRendererComponent | null = this.thumnailList.indexToItemRenderer(this.selectionIndex);
        // let itemRenderer: IListItemRenderer | null = null;
        // if (isListBase(menuEvent.contextMenuOwner)) {
        //   listBase = menuEvent.contextMenuOwner as ListBase;
        //   itemRenderer = getItemRenderer(menuEvent.mouseTarget);
        //   if (isSys0ThumbnailList(itemRenderer == null && listBase)) {
        //     itemRenderer = getThumbnailItemRenderer(listBase as Sys0ThumbnailList, menuEvent.mouseTarget);
        //   }
        //   let object: Sys0BaseVO = itemRenderer ? (itemRenderer.data as Sys0BaseVO) : null;
        //   let selectedItems: any[] = listBase.selectedItems;
        // }
        // if (listBase instanceof IHideHighlight) {
        // (listBase as IHideHighlight).hideHighlight();
        // }
        this.terminate();
    };
    return ListContextMenuClickCommand;
}(_core_commands_base_list_context_menu_click_command__WEBPACK_IMPORTED_MODULE_2__["BaseListContextMenuClickCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/add-section-command.ts":
/*!*************************************************************!*\
  !*** ./src/app/viewer/commands/menu/add-section-command.ts ***!
  \*************************************************************/
/*! exports provided: AddSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddSectionCommand", function() { return AddSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_server_info_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/server-info-type */ "./src/app/core/server-info-type.ts");
/* harmony import */ var _core_services_url_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/services/url.service */ "./src/app/core/services/url.service.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/utils/sys0-string-util */ "./src/app/core/utils/sys0-string-util.ts");
/* harmony import */ var _shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/models/file-reference */ "./src/app/shared/models/file-reference.ts");
/* harmony import */ var _shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/models/file-reference-list */ "./src/app/shared/models/file-reference-list.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _base_create_section_command__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../base-create-section-command */ "./src/app/viewer/commands/base-create-section-command.ts");














/**
 * メニューからのセクション追加を行ないます。
 * ファイル選択から、アップロードの処理をします。
 * 実際のセクションの登録は、親クラスで実装されます。
 *
 */
var AddSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AddSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function AddSectionCommand() {
        var _this = _super.call(this) || this;
        _this.fileSelecting = false;
        _this.isUploading = false;
        _this.externalJsCallback = _this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_2__["ExternalJsCallback"]);
        _this.urlService = _this.injector.get(_core_services_url_service__WEBPACK_IMPORTED_MODULE_6__["UrlService"]);
        return _this;
    }
    /**
     * FileReferenceのインスタンスを初期化する。
     * FileReferenceでファイル選択ダイアログを表示する。
     * @inheritDoc
     */
    AddSectionCommand.prototype.check = function (param) {
        _super.prototype.check.call(this, param);
        if (this.locator.fileReferenceList != null) {
            // 破棄する
            this.terminateFileReferenceList(this.locator.fileReferenceList);
            this.locator.fileReferenceList = null;
        }
        // 新規に作成
        this.locator.fileReferenceList = this.generateFileReferenceList();
        if (this.fileSelecting) {
            // ファイル選択中
            param.cancel = true;
            return;
        }
        // 膜を張る
        this.progress.transProgress(null);
        // ★Stitch V1.3対応 rootからExternalJsCallbackに変更
        this.externalJsCallback.setFocusHtmlBody();
        // ファイル選択ダイアログを開く
        this.locator.fileReferenceList.browse();
        this.fileSelecting = true;
        param.isAsync = true;
    };
    /**
     * ファイルが選択されたときの処理を行ないます。
     * 選択されたファイル情報から、登録するSectionVOを生成する。
     * セクションの登録を行なう(checkComplete)。
     *
     * @param event イベントオブジェクトです
     *
     */
    AddSectionCommand.prototype.selectFileHandler = function (event) {
        if (this.fileSelecting) {
            // ファイル選択中だったら、膜解除
            this.progress.removeTransProgressBusyCursor(null);
            this.fileSelecting = false;
        }
        // ★Stitch V1.3対応 this.locator.fileReferenceList のnullチェック追加
        if (this.locator.fileReferenceList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.fileReferenceList is null.');
        }
        this.externalJsCallback.setFocusSwf(); // フォーカスをswfに戻す。
        if (this.locator.fileReferenceList.fileList.length > 200) {
            // ファイルの個数チェック
            this.messageService.showErrorMessage(this.getLimitFilesMessageKey());
            this.checkComplete(true);
            return;
        }
        // セクション番号
        var sectionNo = this.startSectionNo();
        this.sectionList = [];
        for (var _i = 0, _a = this.locator.fileReferenceList.fileList; _i < _a.length; _i++) {
            var fileRef = _a[_i];
            try {
                if (fileRef.size > 100 * 1024 * 1024) {
                    // ファイルサイズのチェック
                    this.messageService.showErrorMessage(this.wording.get('warn.common.maxsize', fileRef.name));
                    this.checkComplete(true);
                    return;
                }
                else if (fileRef.size === 0) {
                    // ファイルサイズ0バイト時
                    this.messageService.showErrorMessage('warn.section.docregisterfail');
                    this.checkComplete(true);
                    return;
                }
            }
            catch (e) {
                var error = e;
                this.logger.warn('ファイル選択時にエラーが発生しました。 : ' + error.message);
                this.messageService.showErrorMessage(this.getFileAuthMessage());
                this.checkComplete(true);
                return;
            }
            if (!this.checkExtention(fileRef)) {
                this.checkComplete(true);
                return;
            }
            // 作成するセクションのVOを作成・設定する
            var sectionVO = this.createSection(fileRef.name, sectionNo);
            this.sectionList.push(sectionVO);
            sectionNo++;
        }
        // セクション数が200を超える場合
        if (!this.checkSectionLimit()) {
            this.messageService.showErrorMessage('warn.section.addingsectionlimit');
            this.checkComplete(true);
            return;
        }
        this.locator.createdSectionCount = 0;
        this.locator.uploadSectionCount = 0;
        this.asyncFileUpload();
    };
    AddSectionCommand.prototype.getLimitFilesMessageKey = function () {
        this.showNavigation = false;
        return 'warn.section.docregisteruplimitfiles';
    };
    /**
     * 追加する先頭のセクションNoです。
     */
    AddSectionCommand.prototype.startSectionNo = function () {
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.sectionList is null.');
        }
        return this.insertIndex >= 0 ? this.insertIndex + 2 : this.locator.sectionList.length + 1;
    };
    /**
     * アップロードが完了したときの処理を行ないます。
     *
     * @param event イベントオブジェクトです
     *
     */
    AddSectionCommand.prototype.complateHandler = function (event) {
        this.logger.info('complateHandler : event = ' + event);
        // ★Stitch V1.3対応 this.locator.fileReferenceList のnullチェック追加
        if (this.locator.fileReferenceList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.fileReferenceList is null.');
        }
        this.locator.uploadSectionCount++;
        // 全てアップロードしたら
        if (this.locator.uploadSectionCount === this.locator.fileReferenceList.fileList.length) {
            // 準備中を解除
            this.progress.removeTransProgressBusyCursor(null);
            this.isUploading = false;
            // 2件以上の場合、キャンセル可能
            if (this.sectionList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.sectionList is null.');
            }
            this.cancelable = this.sectionList.length > 1;
            // 登録処理へ
            this.checkComplete();
        }
        else {
            this.asyncFileUpload();
        }
    };
    /**
     * ファイル選択がキャンセルされたときの処理を行ないます。
     *
     * @param event イベントオブジェクトです
     *
     */
    AddSectionCommand.prototype.cancelHandler = function (event) {
        this.externalJsCallback.setFocusSwf(); // フォーカスをswfに戻す。
        if (this.fileSelecting) {
            this.progress.removeTransProgressBusyCursor(null);
            this.fileSelecting = false;
        }
        this.logger.info('cancelHandler');
        this.terminate();
    };
    /**
     * I/Oエラー時の処理を行ないます。
     *
     * @param event イベントオブジェクトです
     *
     */
    AddSectionCommand.prototype.ioErrorHandler = function (event) {
        this.fileRefError(event);
    };
    /**
     * セキュリティエラー時の処理を行ないます。
     *
     * @param event イベントオブジェクトです。
     *
     */
    AddSectionCommand.prototype.securityErrorHandler = function (event) {
        this.fileRefError(event);
    };
    /**
     *
     */
    AddSectionCommand.prototype.getFileAuthMessage = function () {
        return 'warn.section.docregisterfail';
    };
    /**
     * @private
     * FileReferenceListを生成して、イベントリスナーを割り当てます。
     */
    AddSectionCommand.prototype.generateFileReferenceList = function () {
        var fileUpload = this.getFileUpload();
        var fileReferenceList = new _shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceList"](fileUpload);
        fileReferenceList.addEventListener(_shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceListEventName"].cancel, this.cancelHandler);
        fileReferenceList.addEventListener(_shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceListEventName"].select, this.selectFileHandler);
        return fileReferenceList;
    };
    AddSectionCommand.prototype.getFileUpload = function () {
        var mainView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].MainView);
        if (mainView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('MainView is null.');
        }
        return mainView.fileUpload;
    };
    /**
     * @private
     * FileReferenceListを破棄します。
     */
    AddSectionCommand.prototype.terminateFileReferenceList = function (fileReferenceList) {
        if (fileReferenceList.fileList.length > 0) {
            // ★Stitch V1.3対応 this.locator.fileReferenceList のnullチェック追加
            if (this.locator.fileReferenceList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.fileReferenceList is null.');
            }
            // イベントリスナーを削除しておく
            for (var _i = 0, _a = this.locator.fileReferenceList.fileList; _i < _a.length; _i++) {
                var fileReference = _a[_i];
                if (fileReference.hasEventListener(_shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__["FileReferenceEventName"].complete)) {
                    fileReference.removeEventListener(_shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__["FileReferenceEventName"].complete, this.complateHandler);
                }
                if (fileReference.hasEventListener(_shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__["FileReferenceEventName"].error)) {
                    fileReference.removeEventListener(_shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__["FileReferenceEventName"].error, this.ioErrorHandler);
                }
                // ★Stitch V1.3対応 セキュリティエラーをエラーと区別して扱わないのでコメントアウト
                // if (fileReference.hasEventListener(SecurityErrorEvent.SECURITY_ERROR)) {
                //   fileReference.removeEventListener(SecurityErrorEvent.SECURITY_ERROR, this.securityErrorHandler);
                // }
            }
        }
        // イベントリスナーを破棄します。
        if (fileReferenceList.hasEventListener(_shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceListEventName"].cancel)) {
            fileReferenceList.removeEventListener(_shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceListEventName"].cancel);
        }
        if (fileReferenceList.hasEventListener(_shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceListEventName"].select)) {
            fileReferenceList.removeEventListener(_shared_models_file_reference_list__WEBPACK_IMPORTED_MODULE_11__["FileReferenceListEventName"].select);
        }
    };
    AddSectionCommand.prototype.checkExtention = function (fileRef) {
        var files = fileRef.name.split('.');
        if (files.length > 1) {
            // 拡張子あり
            var ext = files[files.length - 1];
            if (ext.length > 6) {
                // 拡張子サイズが6を越えた
                this.messageService.showErrorMessage('warn.common.extensionovrelength', _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_WARNING, null);
                return false;
            }
            else if (this.locator.illigaleExtentions.hasOwnProperty(ext.toLowerCase())) {
                this.messageService.showErrorMessage('warn.common.extension', _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_WARNING, null);
                return false;
            }
        }
        var fileName = _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_8__["Sys0CommonUtil"].getFileNameWithoutExt(fileRef.name);
        fileName = _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_9__["Sys0StringUtil"].trim(fileName);
        if (fileName === '') {
            this.messageService.showErrorMessage('warn.common.filenameallspace', _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_WARNING, null);
            return false;
        }
        else if (_core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_8__["Sys0CommonUtil"].checkCharacterCode(fileName)) {
            this.messageService.showErrorMessage('warn.filename.charactercode', _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_WARNING, null);
            return false;
        }
        return true;
    };
    /**
     * @private
     * ファイルアップロードを行ないます
     */
    AddSectionCommand.prototype.asyncFileUpload = function () {
        // 準備中
        if (this.locator.uploadSectionCount === 0) {
            this.progress.addCommand(null, false, 0, '', '', this.wording.get('info.progress.preparing'), null, 0, true);
        }
        // ★Stitch V1.3対応 this.locator.fileReferenceList のnullチェック追加
        if (this.locator.fileReferenceList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.fileReferenceList is null.');
        }
        var fileRef = this.locator.fileReferenceList.fileList[this.locator.uploadSectionCount];
        // イベントリスナーを設定する
        fileRef.addEventListener(_shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__["FileReferenceEventName"].complete, this.complateHandler);
        fileRef.addEventListener(_shared_models_file_reference__WEBPACK_IMPORTED_MODULE_10__["FileReferenceEventName"].error, this.ioErrorHandler);
        // ★Stitch V1.3対応 セキュリティエラーをエラーと区別して扱わないのでコメントアウト
        // fileRef.addEventListener(SecurityErrorEvent.SECURITY_ERROR, this.securityErrorHandler);
        // セッションIDを引数に追加する
        var uploadUrl = null;
        // ★Stitch V1.3対応 URL情報、ログイン情報を取得
        var baseRemoteUrl = this.urlService.getBaseRemoteUrl();
        var loginInfo = this.stateUtilService.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_7__["getLoginInfo"]);
        if (baseRemoteUrl != null && baseRemoteUrl.indexOf('{server.name}') < 0) {
            uploadUrl =
                baseRemoteUrl + '/' + _core_server_info_type__WEBPACK_IMPORTED_MODULE_5__["ServerInfoType"].UPLOAD_SERVLET + '?sessionID=' + loginInfo.sessionId + '&viewId=' + this.locator.viewerId;
        }
        else {
            uploadUrl =
                baseRemoteUrl + '/' + _core_server_info_type__WEBPACK_IMPORTED_MODULE_5__["ServerInfoType"].UPLOAD_SERVLET + '?sessionID=' + loginInfo.sessionId + '&viewId=' + this.locator.viewerId;
        }
        this.logger.info('upload url = ' + uploadUrl);
        // アップロードする
        // ★Stitch V1.3対応 URLRequestは不要なので削除
        fileRef.upload(uploadUrl);
        if (!this.isUploading) {
            this.isUploading = true;
        }
    };
    AddSectionCommand.prototype.fileRefError = function (event) {
        this.externalJsCallback.setFocusSwf(); // フォーカスをswfに戻す。
        if (this.fileSelecting) {
            // 膜を解除
            this.progress.removeTransProgressBusyCursor(null);
            this.fileSelecting = false;
        }
        else if (this.isUploading) {
            this.isUploading = false;
            this.progress.removeCommand(null);
            this.messageService.showErrorMessage(this.getFileAuthMessage());
        }
        // ★Stitch V1.3対応 IOErrorとSecurityErrorが分かれるわけではないので一緒に扱う
        // if (event instanceof IOErrorEvent) {
        //   this.logger.info('ioErrorHandler :\n' + event);
        // } else if (event instanceof SecurityErrorEvent) {
        //   this.logger.info('securityErrorHandler :\n' + event);
        // }
        this.logger.info('error: ', event);
        this.terminate();
    };
    return AddSectionCommand;
}(_base_create_section_command__WEBPACK_IMPORTED_MODULE_13__["BaseCreateSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/change-mode-command.ts":
/*!*************************************************************!*\
  !*** ./src/app/viewer/commands/menu/change-mode-command.ts ***!
  \*************************************************************/
/*! exports provided: ChangeModeCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeModeCommand", function() { return ChangeModeCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_event_menu_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/event/menu-event */ "./src/app/core/event/menu-event.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");





/**
 * メニューからのモード切替
 *
 */
var ChangeModeCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ChangeModeCommand, _super);
    /**
     * コンストラクタです
     */
    function ChangeModeCommand() {
        var _this = _super.call(this) || this;
        _this.mode = 0;
        // ★StitchV1.3対応 PrimeNGのTabを使う
        _this.tabBar = null;
        return _this;
    }
    ChangeModeCommand.prototype.check = function (param) {
        // ★Stitch V1.3対応 ThumbnailViewコンポーネントの参照取得を追加
        this.thumbnailView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].ThumbnailView);
        if (this.thumbnailView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for this.thumbnailView.');
        }
        this.tabBar = this.thumbnailView.mainTabBar;
        if (this.tabBar == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('tabBar is null.');
        }
        if (this.event instanceof _core_event_menu_event__WEBPACK_IMPORTED_MODULE_3__["MenuEvent"]) {
            var menuEvent = this.event;
            if (menuEvent.item.name === 'changeMode') {
                this.mode = 1;
            }
            else {
                this.mode = 0;
            }
            if (this.thumbnailView.getSelectedTabIndex() === this.mode) {
                param.cancel = true;
            }
        }
        else {
            if (this.thumbnailView.getSelectedTabIndex() === 1) {
                this.mode = 0;
            }
        }
    };
    ChangeModeCommand.prototype.doCommand = function () {
        // ★StitchV1.3対応 PrimeNGのTabを使う
        /* const itemClickEvent: ItemClickEvent = new ItemClickEvent(ItemClickEvent.ITEM_CLICK, false, false, null, this.mode);
        this.tabBar.activeIndex = this.mode;
        this.tabBar.validateProperties();
        this.tabBar.dispatchEvent(itemClickEvent);*/
        if (this.tabBar == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('tabBar is null.');
        }
        this.tabBar.activeIndex = this.mode;
        if (this.thumbnailView) {
            this.thumbnailView.onTabChange({ index: this.mode });
        }
        this.terminate();
    };
    return ChangeModeCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/delete-command.ts":
/*!********************************************************!*\
  !*** ./src/app/viewer/commands/menu/delete-command.ts ***!
  \********************************************************/
/*! exports provided: DeleteCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteCommand", function() { return DeleteCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");














/**
 * セクションの削除を行ないます。
 * 削除はメニューから呼ばれます。
 *
 */
var DeleteCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DeleteCommand, _super);
    /**
     * コンストラクタです。
     */
    function DeleteCommand() {
        var _this = _super.call(this) || this;
        /**
         * @private
         * 削除アイテム（複数）
         */
        _this.deleteItems = null;
        /**
         * @private
         * 削除アイテム（単数）
         */
        _this.delteItem = null;
        /**
         * @private
         * 選択されているアイテムのインデックス
         */
        _this.selectedItemIndex = -1;
        /**
         * 処理数
         */
        _this.execCount = 0;
        /**
         * 進捗中表示でキャンセルが押されたかどうか
         */
        _this.isCanceled = false;
        /**
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_13__["ViewerModelLocatorService"].getInstance();
        /**
         * 更新処理で使用する削除されたアイテムの配列
         */
        _this.deletedSectionList = null;
        /**
         * 画面を閉じるアラートを表示するかどうか
         */
        _this.isSystemClose = false;
        _this.displayProgress = true;
        return _this;
    }
    /**
     * 現在選択しているセクションを取得します。
     *
     * @inheritDoc
     */
    DeleteCommand.prototype.check = function (param) {
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].SectionView);
        this.deleteItems = sectionListView.thumbnailList.selectedItems;
        // ★Stitch V1.3対応 Sys0CommonUtilのソート処理に置き換え
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_9__["Sys0CommonUtil"].sortItem(this.deleteItems, 'sectionNo', false, true, true);
        var selectedItem = sectionListView.thumbnailList.selectedItem;
        this.selectedItemIndex = selectedItem.sectionNo;
        if (this.deleteItems == null) {
            param.cancel = true;
            return;
        }
        else if (this.deleteItems.length > 1) {
            this.cancelable = true;
        }
        else {
            this.cancelable = false;
        }
        // 進捗中表示の設定
        this.allCount = this.deleteItems.length;
        this.addCount = 1;
        this.execCount = 0;
        this.progressNameLabel = this.wording.get('info.progress.sectionname');
        this.progressMessageLabel = this.wording.get('info.progress.delete');
        this.progressCountLabel = this.wording.get('info.progress.progressmessage');
        param.isAsync = true;
        this.isSystemClose = false;
        // 削除確認ダイアログ
        this.messageService.showErrorMessage('question.delete.section', _core_models_alert__WEBPACK_IMPORTED_MODULE_6__["Alert"].OK | _core_models_alert__WEBPACK_IMPORTED_MODULE_6__["Alert"].CANCEL, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_7__["Sys0AlertType"].TYPE_QUESTION, this.closeHandler);
    };
    /**
     * セクション削除のイベントオブジェクトの生成を行ないます。
     *
     * @inheritDoc
     */
    DeleteCommand.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_8__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_4__["Sys0EventType"].DELETE_SECTION);
    };
    /**
     * セクションの削除を呼び出します。
     *
     * @inheritDoc
     */
    DeleteCommand.prototype.call = function () {
        // ★Stitch V1.3対応
        if (this.deleteItems == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.deleteItems is null.');
        }
        this.delteItem = this.deleteItems[this.execCount];
        // ★Stitch V1.3対応
        if (this.delteItem == null || this.delteItem.name == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.delteItem is null.');
        }
        this.progressObjectName = this.delteItem.name;
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.currentDocument is null.');
        }
        var document = this.locator.currentDocument;
        this.locator.updated = true;
        this.http.deleteSection(document, this.delteItem.sectionNo);
    };
    /**
     * 削除したセクションを画面上から消します。
     * 次のSectionVOがあったら続行し、なかったら処理を終了します。
     * メッセージエリアにセクションを削除した旨のメッセージを表示します。
     *
     * メイン選択のセクションが削除された場合、メイン選択の位置にあるセクションを選択状態にします。
     * 先頭のセクションが削除された場合、削除後に先頭になったセクションを選択状態にします。
     *
     * PDFエリアに削除後選択状態になったセクションを表示します。
     * @inheritDoc
     */
    DeleteCommand.prototype.succeed = function (event) {
        // 画面の更新のための配列作成
        // ★Stitch V1.3対応
        if (this.delteItem == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.delteItem is null.');
        }
        this.createDeleteObject(this.delteItem);
        // 進捗中表示
        this.addCount++;
        this.execCount++;
        // ★Stitch V1.3対応
        if (this.deleteItems == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.deleteItems is null.');
        }
        if (this.isCanceled || this.deleteItems.length < this.addCount) {
            // ★Stitch V1.3対応
            if (this.deletedSectionList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.deletedSectionList is null.');
            }
            this.deleteSection(this.deletedSectionList);
            // セクションNoの振りなおし
            this.locator.renumberSectionList();
            this.changeMainSelectedSection();
            this.isCanceled = false;
            // ★Stitch V1.3対応 store.dispatchを利用
            var msg = this.wording.get('info.delete.sectiondeleted', this.execCount);
            this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_11__["SetNavigateMessage"](msg));
            this.checkComplete(true);
            // メニューの更新
            // ★Stitch V1.3対応 Viewer(root)対応
            var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].SectionView);
            sectionListView.thumbnailList.onChange();
        }
        else {
            this.checkComplete(false);
        }
    };
    /**
     * @inheritDoc
     */
    DeleteCommand.prototype.abort = function () {
        this.isCanceled = true;
    };
    /**
     * @inheritDoc
     */
    DeleteCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.isSystemClose) {
            // ★Stitch V1.3対応
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo.message is null.');
            }
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_7__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message);
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
                this.cancelEdit();
            }
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * @inheritDoc
     */
    DeleteCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * 編集モードを終了します。
     */
    DeleteCommand.prototype.cancelEdit = function () {
        // ★Stitch V1.3対応
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.currentDocument is null.');
        }
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_3__["Sys0ConnectObject"]();
        sys0ConnectObject.documentUpdateEnd(this.locator.currentDocument, null, null, null, false, null);
    };
    /**
     * セクションの削除を行います。
     * @param deleteList 削除するアイテム配列
     *
     */
    DeleteCommand.prototype.deleteSection = function (deleteList) {
        var sectionList = this.locator.sectionList;
        // ★Stitch V1.3対応
        if (sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        if (sectionList.length === deleteList.length) {
            sectionList = [];
        }
        else {
            for (var _i = 0, deleteList_1 = deleteList; _i < deleteList_1.length; _i++) {
                var item = deleteList_1[_i];
                _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_9__["Sys0CommonUtil"].deleteSection(item, sectionList);
                // ★Stitch V1.3対応 Collectionクラスではないためrefreshは不要
                // sectionList.refresh();
            }
        }
    };
    /**
     * 画面更新で使用するアイテムの配列を作成します。
     *
     * @param item 削除したアイテム
     */
    DeleteCommand.prototype.createDeleteObject = function (item) {
        // ★Stitch V1.3対応
        if (this.deletedSectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.deletedSectionList is null.');
        }
        this.deletedSectionList.push(item);
    };
    /**
     * 削除確認ダイアログのボタン押下時の処理を行います。
     * @private
     */
    DeleteCommand.prototype.closeHandler = function (event) {
        if (event.detail === _core_models_alert__WEBPACK_IMPORTED_MODULE_6__["Alert"].OK) {
            this.deletedSectionList = [];
            this.checkComplete(false);
        }
        else if (event.detail === _core_models_alert__WEBPACK_IMPORTED_MODULE_6__["Alert"].CANCEL) {
            this.checkComplete(true);
        }
    };
    /**
     * 画面の更新に伴い、メイン選択の変更を行います。
     *
     */
    DeleteCommand.prototype.changeMainSelectedSection = function () {
        // メイン選択の移動
        var selectItem;
        // ★Stitch V1.3対応
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.sectionList is null.');
        }
        if (this.locator.sectionList.length < 1) {
            selectItem = null;
        }
        else if (this.selectedItemIndex > this.locator.sectionList.length) {
            selectItem = this.locator.sectionList[this.locator.sectionList.length - 1];
        }
        else {
            selectItem = this.locator.sectionList[this.selectedItemIndex - 1];
        }
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_12__["ViewerViewTypes"].SectionView);
        sectionListView.thumbnailList.selectedItem = selectItem;
        sectionListView.thumbnailList.onItemClick(new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_10__["ListEvent"].ITEM_CLICK));
    };
    return DeleteCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/divide-section-command.ts":
/*!****************************************************************!*\
  !*** ./src/app/viewer/commands/menu/divide-section-command.ts ***!
  \****************************************************************/
/*! exports provided: DivideSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DivideSectionCommand", function() { return DivideSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _containers_dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../containers/dialogs/divide-section-dialog/divide-section-dialog.component */ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");






/**
 * <span style="color:red; font-weight:bold;">Ite4</span>
 * 文書分割設定を表示します。
 *
 */
var DivideSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DivideSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function DivideSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["ViewerModelLocatorService"].getInstance();
        /**
         * サムネイルリスト
         */
        _this.thumbnailList = null;
        /**
         * ダイアログのインスタンス
         */
        _this.dialog = null;
        return _this;
    }
    DivideSectionCommand.prototype.check = function (param) {
        this.thumbnailList = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView).thumbnailList;
        if (this.thumbnailList.selectedIndices.length > 1) {
            param.cancel = true;
        }
    };
    /**
     * 文書分割設定画面を表示します。
     * 選択されているセクション位置からラベルを生成する。
     * 文書名を取得する。
     * ダイアログを表示する。
     */
    DivideSectionCommand.prototype.doCommand = function () {
        if (this.dialog == null) {
            this.initDialog();
        }
        if (this.dialog == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.dialog is null.');
        }
        this.popup.addPopUp(this.componentRef);
        // 画面表示初期化
        this.dialog.callLater(this.viewDetail);
        this.terminate();
    };
    DivideSectionCommand.prototype.viewDetail = function () {
        if (this.dialog == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.dialog is null.');
        }
        var selectedItem = this.thumbnailList.selectedItem;
        // ラベルの設定
        this.dialog.beforeLabel = this.wording.get('lbl.dividesection.beforesection', selectedItem.sectionNo || 0);
        this.dialog.afterLabel = this.wording.get('lbl.dividesection.aftersection', selectedItem.sectionNo || 0);
        if (this.thumbnailList.selectedIndex === 0) {
            // 先頭のセクションが選択されている。
            this.dialog.beforeEnabled = true;
            this.dialog.afterEnabled = false;
            this.dialog.selectedValue = 0;
        }
        else if (this.locator.sectionList && this.thumbnailList.selectedIndex === this.locator.sectionList.length - 1) {
            // 最後のセクションが選択されている
            this.dialog.beforeEnabled = false;
            this.dialog.afterEnabled = true;
            this.dialog.selectedValue = 1;
        }
        else {
            // その他
            this.dialog.beforeEnabled = true;
            this.dialog.afterEnabled = true;
            this.dialog.selectedValue = 0;
        }
        // セクション名表示用
        this.dialog.inputNewName = (selectedItem.name || '').substr(0, DivideSectionCommand.DOCUMENT_NAME_MAX_LENGTH);
        // 先頭の項目にフォーカス移動
        // ★StitchV1.3対応 編集不可のラベルが対象なのでコメントアウト
        // Sys0CommonUtil.setFocusToFirstItem(this.dialog.panel);
    };
    /**
     * プログレスダイアログのインスタンス作成する
     */
    DivideSectionCommand.prototype.initDialog = function () {
        var componentRef = this.popup.createComponentInstance(_containers_dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DivideSectionDialogComponent"]);
        if (componentRef == null) {
            this.logger.info('cannot create component instance');
        }
        else {
            this.componentRef = componentRef;
            this.dialog = this.componentRef.instance;
        }
    };
    /**
     * 最大文字数
     */
    DivideSectionCommand.DOCUMENT_NAME_MAX_LENGTH = 120;
    return DivideSectionCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/download-command.ts":
/*!**********************************************************!*\
  !*** ./src/app/viewer/commands/menu/download-command.ts ***!
  \**********************************************************/
/*! exports provided: DownloadCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DownloadCommand", function() { return DownloadCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_event_menu_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/event/menu-event */ "./src/app/core/event/menu-event.ts");
/* harmony import */ var _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/event/sys0-object-operate-event */ "./src/app/core/event/sys0-object-operate-event.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _main_models_main_view_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../main/models/main-view-types */ "./src/app/main/models/main-view-types.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _shared_event_context_menu_event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./../../../shared/event/context-menu-event */ "./src/app/shared/event/context-menu-event.ts");










/**
 * <span style="color:red; font-weight:bold;">Ite4（修正）</span>
 * メニューのダウンロードから呼ばれるコマンドクラスです。
 * ※文書とセクションのダウンロードを統合します。
 *
 *
 */
var DownloadCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DownloadCommand, _super);
    /**
     * コンストラクタです
     */
    function DownloadCommand() {
        var _this = _super.call(this) || this;
        _this.downloadItem = null;
        /**
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    // ★Stitch V1.3対応 親クラスのメッソドを実現する。
    DownloadCommand.prototype.call = function () { };
    DownloadCommand.prototype.succeed = function (response) { };
    DownloadCommand.prototype.request = function (param) {
        return null;
    };
    /**
     * ダウンロードID
     */
    /**
     * ダウンロードする対象を取得します。
     *
     * @inheritDoc
     */
    DownloadCommand.prototype.check = function (param) {
        // ダウンロードする対象の情報取得
        if (event instanceof _core_event_menu_event__WEBPACK_IMPORTED_MODULE_3__["MenuEvent"]) {
            var menuEvent = event;
            /* ★Stitch V1.3対応
             * 引数について以下の通り変更
             * menu：Sys0Applicationのmenu:XMLListはStateでRsnMenuItem[]として管理されるようになっているので、型変更
             * */
            var xml = menuEvent.item;
            var xmlList = xml.items;
            if (xmlList) {
                this.downloadItem = xmlList[0];
            }
        }
        else if (event instanceof _shared_event_context_menu_event__WEBPACK_IMPORTED_MODULE_9__["ContextMenuEvent"]) {
            this.downloadItem = DownloadCommand.DOWNLOAD_TYPE_SECTION;
        }
    };
    /**
     * @inheritDoc
     */
    DownloadCommand.prototype.doCommand = function () {
        var document = this.locator.currentDocument;
        var sectionNo = null;
        var command;
        var downloadEvent;
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // セクションのダウンロード
        if (this.downloadItem === DownloadCommand.DOWNLOAD_TYPE_SECTION) {
            // 選択セクションの取得
            // ★Stitch V1.3対応 Viewer(root)を代わって使う
            var documentView = this.viewManager.get(_main_models_main_view_types__WEBPACK_IMPORTED_MODULE_6__["MainViewTypes"].DocumentView);
            // ★Stitch V1.3対応 documentView非空判断
            if (documentView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve DocumentView.');
            }
            var thumbnailList = documentView.thumbnailTileList;
            var selectedSection = thumbnailList.selectedItem;
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
                command = this.commandProvider.getCommand(sectionListView, _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT);
                downloadEvent = new _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"](_core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT, selectedSection, null);
                command.event = downloadEvent;
                command.execCommand();
                this.terminate();
                return;
            }
            else {
                sectionNo = selectedSection.sectionNo;
            }
        }
        command = this.commandProvider.getCommand(sectionListView, _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT);
        downloadEvent = new _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"](_core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT, document, null);
        downloadEvent.sectionNo = sectionNo;
        downloadEvent.fromViewer = true;
        if (this.locator.version) {
            // ★Stitch V1.3対応 downloadEvent.info非空判断
            if (this.locator.version.id == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve version.id.');
            }
            downloadEvent.info = this.locator.version.id;
        }
        command.event = downloadEvent;
        command.execCommand();
        this.terminate();
    };
    /**
     * セクションのダウンロードを示す定数
     * @private
     */
    DownloadCommand.DOWNLOAD_TYPE_SECTION = 'sectionDownload';
    return DownloadCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/menu-control-command.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/commands/menu/menu-control-command.ts ***!
  \**************************************************************/
/*! exports provided: MenuControlCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenuControlCommand", function() { return MenuControlCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");



/**
 * メニュー表示・非表示時のPDFエリアの制御を行ないます。
 *
 */
var MenuControlCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MenuControlCommand, _super);
    /**
     * コンストラクタです
     */
    function MenuControlCommand() {
        return _super.call(this) || this;
    }
    MenuControlCommand.prototype.doCommand = function () {
        // メニュー表示
        if (this.event.type === _store_viewer_actions__WEBPACK_IMPORTED_MODULE_2__["ViewerCommand"].ViewerActionTypes.MenuShow) {
            // Viewer(root).pdfView.offIFrame(true);
        }
        else if (this.event.type === _store_viewer_actions__WEBPACK_IMPORTED_MODULE_2__["ViewerCommand"].ViewerActionTypes.MenuHide) {
            // もし、メニュー非表示ではなく、メニュークリックの場合、offIFrameにしない
            // Viewer(root).pdfView.offIFrame(false);
        }
        this.terminate();
    };
    return MenuControlCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/move-command.ts":
/*!******************************************************!*\
  !*** ./src/app/viewer/commands/menu/move-command.ts ***!
  \******************************************************/
/*! exports provided: MoveCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveCommand", function() { return MoveCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/event/sys0-object-operate-event */ "./src/app/core/event/sys0-object-operate-event.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");






/**
 * メニューからのセクションの移動を行ないます。
 *
 */
var MoveCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MoveCommand, _super);
    /**
     * コンストラクタです
     */
    function MoveCommand() {
        var _this = _super.call(this) || this;
        /**
         * 選択されているセクション
         * @private
         */
        _this.selectedItem = null;
        /**
         * 移動先の情報
         * @private
         */
        _this.moveTarget = null;
        return _this;
    }
    /**
     * 移動するSectionVOを取得します。
     * 移動先の情報を取得します。（先頭/最後/前/後）
     * @inheritDoc
     */
    MoveCommand.prototype.check = function (param) {
        // 選択セクションの取得
        // ★Stitch V1.3対応 Viewer(root)対応
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].SectionView);
        this.selectedItem = sectionListView.thumbnailList.selectedItem;
        // 移動先の情報取得
        this.moveTarget = this.commandId;
        if (this.selectedItem == null || this.moveTarget == null) {
            param.cancel = true;
        }
    };
    /**
     * イベントオブジェクトを生成し実行します。
     * @inheritDoc
     */
    MoveCommand.prototype.doCommand = function () {
        var moveEvent = new _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_3__["Sys0ObjectOperateEvent"](_core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_3__["Sys0ObjectOperateEvent"].MOVE_OBJECT_EVENT, this.selectedItem, null);
        // ★Stitch V1.3対応
        if (this.moveTarget == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.moveTarget is null.');
        }
        moveEvent.info = this.moveTarget;
        // ★Stitch V1.3対応 commandの呼び出し
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_5__["ViewerViewTypes"].SectionView);
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_4__["SharedCommand"].MoveObject({ event: moveEvent }, sectionListView));
        this.terminate();
    };
    return MoveCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/open-application-command.ts":
/*!******************************************************************!*\
  !*** ./src/app/viewer/commands/menu/open-application-command.ts ***!
  \******************************************************************/
/*! exports provided: OpenApplicationCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenApplicationCommand", function() { return OpenApplicationCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/event/sys0-object-operate-event */ "./src/app/core/event/sys0-object-operate-event.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_param__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/param */ "./src/app/core/models/param.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _download_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./download-command */ "./src/app/viewer/commands/menu/download-command.ts");









/**
 * メニューからアプリケーションで開きます。
 *
 */
var OpenApplicationCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OpenApplicationCommand, _super);
    /**
     * コンストラクタです
     */
    function OpenApplicationCommand() {
        var _this = _super.call(this) || this;
        _this.selectedSection = null;
        return _this;
    }
    OpenApplicationCommand.prototype.check = function (param) {
        this.setDownloadItem();
        this.selectedSection = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__["ViewerViewTypes"].SectionView).thumbnailList
            .selectedItem;
        if (this.selectedSection.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.selectedSection is null.');
        }
        if (this.locator.runnningAppSections.hasOwnProperty(this.selectedSection.sectionNo.toString())) {
            var running = this.locator.runnningAppSections[this.selectedSection.sectionNo.toString()];
            if (running === _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_5__["SectionVO"].APP_OPEN) {
                if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_READONRY) {
                    this.messageService.showErrorMessage('warn.section.alreadyopeneditmode');
                }
                else {
                    this.messageService.showErrorMessage('warn.section.alreadyopen');
                }
                param.cancel = true;
            }
            else if (running === _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_5__["SectionVO"].APP_OPEN_READONLY) {
                if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
                    this.messageService.showErrorMessage('warn.section.alreadyopenreadonly');
                }
                else {
                    this.messageService.showErrorMessage('warn.section.alreadyopen');
                }
                param.cancel = true;
            }
        }
    };
    OpenApplicationCommand.prototype.$check = function (param) {
        _super.prototype.check.call(this, param);
    };
    OpenApplicationCommand.prototype.setDownloadItem = function () {
        var param = new _core_models_param__WEBPACK_IMPORTED_MODULE_4__["Param"]();
        this.$check(param);
        // ★StitchV1.3対応 nullじゃなかったら
        // if (this.event instanceof ContextMenuEvent) {
        if (this.event != null) {
            this.downloadItem = OpenApplicationCommand.DOWNLOAD_TYPE_OPEN_APP;
        }
    };
    OpenApplicationCommand.prototype.doCommand = function () {
        var command = null;
        var downloadEvent = null;
        // セクションのダウンロード
        if (this.downloadItem === OpenApplicationCommand.DOWNLOAD_TYPE_OPEN_APP) {
            var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__["ViewerViewTypes"].SectionView);
            command = this.commandProvider.getCommand(sectionListView, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_6__["SharedCommand"].SharedActionTypes.OpenAppDownload);
            downloadEvent = new _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_2__["Sys0ObjectOperateEvent"](_core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_2__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT, this.selectedSection, this.locator.currentDocument);
            downloadEvent.fromViewer = true;
            command.event = downloadEvent;
            command.execCommand();
        }
        this.terminate();
    };
    OpenApplicationCommand.DOWNLOAD_TYPE_OPEN_APP = 'openApplication';
    return OpenApplicationCommand;
}(_download_command__WEBPACK_IMPORTED_MODULE_8__["DownloadCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/open-full-text-application-command.ts":
/*!****************************************************************************!*\
  !*** ./src/app/viewer/commands/menu/open-full-text-application-command.ts ***!
  \****************************************************************************/
/*! exports provided: OpenFullTextApplicationCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenFullTextApplicationCommand", function() { return OpenFullTextApplicationCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_event_menu_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/event/menu-event */ "./src/app/core/event/menu-event.ts");
/* harmony import */ var _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/event/sys0-object-operate-event */ "./src/app/core/event/sys0-object-operate-event.ts");
/* harmony import */ var _shared_event_context_menu_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../shared/event/context-menu-event */ "./src/app/shared/event/context-menu-event.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _open_application_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./open-application-command */ "./src/app/viewer/commands/menu/open-application-command.ts");








var OpenFullTextApplicationCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OpenFullTextApplicationCommand, _super);
    /**
     * コンストラクタです
     */
    function OpenFullTextApplicationCommand() {
        var _this = _super.call(this) || this;
        _this.downloadItem = null;
        return _this;
    }
    OpenFullTextApplicationCommand.prototype.setDownloadItem = function () {
        // ダウンロードする対象の情報取得
        if (this.event instanceof _core_event_menu_event__WEBPACK_IMPORTED_MODULE_2__["MenuEvent"]) {
            var menuEvent = this.event;
            /* ★Stitch V1.3対応
             * 引数について以下の通り変更
             * menu：Sys0Applicationのmenu:XMLListはStateでRsnMenuItem[]として管理されるようになっているので、型変更
             * */
            var xml = menuEvent.item;
            var xmlList = xml.items;
            if (xmlList) {
                this.downloadItem = xmlList[0];
            }
        }
        else if (this.event instanceof _shared_event_context_menu_event__WEBPACK_IMPORTED_MODULE_4__["ContextMenuEvent"]) {
            this.downloadItem = OpenFullTextApplicationCommand.DOWNLOAD_TYPE_FTS;
        }
    };
    OpenFullTextApplicationCommand.prototype.doCommand = function () {
        // 選択セクションの取得
        // ★Stitch V1.3対応 Viewer(root)を代わって使う
        var downloadEvent = null;
        // セクションのダウンロード
        if (this.downloadItem === OpenFullTextApplicationCommand.DOWNLOAD_TYPE_FTS) {
            var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__["ViewerViewTypes"].SectionView);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (sectionListView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
            }
            // ★Stitch V1.3対応 Shadowed nameため再命名する
            var viewCommand = this.commandProvider.getCommand(sectionListView, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__["SharedCommand"].SharedActionTypes.OpenFtsData);
            downloadEvent = new _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_3__["Sys0ObjectOperateEvent"](_core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_3__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT, this.selectedSection, this.locator.currentDocument);
            downloadEvent.fromViewer = true;
            viewCommand.event = downloadEvent;
            viewCommand.execCommand();
        }
        this.terminate();
    };
    OpenFullTextApplicationCommand.DOWNLOAD_TYPE_FTS = 'fts';
    return OpenFullTextApplicationCommand;
}(_open_application_command__WEBPACK_IMPORTED_MODULE_7__["OpenApplicationCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/replace-section-command.ts":
/*!*****************************************************************!*\
  !*** ./src/app/viewer/commands/menu/replace-section-command.ts ***!
  \*****************************************************************/
/*! exports provided: ReplaceSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReplaceSectionCommand", function() { return ReplaceSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_param__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/param */ "./src/app/core/models/param.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _add_section_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./add-section-command */ "./src/app/viewer/commands/menu/add-section-command.ts");








/**
 * セクションの差し替えを行ないます。
 * ファイル選択からのセクション登録の流れとほぼ同じです。差分を実装します。
 *
 */
var ReplaceSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ReplaceSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function ReplaceSectionCommand() {
        return _super.call(this) || this;
    }
    /**
     * 確認ダイアログを表示します。
     */
    ReplaceSectionCommand.prototype.check = function (param) {
        // とりあえず確認ダイアログを表示する。
        this.messageService.showErrorMessage('question.section.replace', _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK | _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].CANCEL, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_QUESTION, this.checkAlertCloseHandler);
        param.isAsync = true;
    };
    /**
     * セクションの差し替えを呼び出す。
     */
    ReplaceSectionCommand.prototype.call = function () {
        if (this.locator.createdSectionCount === 0) {
            // ★Stitch V1.3対応
            if (this.locator.currentDocument == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.currentDocument is null.');
            }
            if (this.currentSection == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.currentSection is null.');
            }
            if (this.locator.viewerId == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.viewerId is null.');
            }
            this.locator.updated = true;
            this.http.replaceSection(this.locator.currentDocument, this.currentSection.sectionNo, this.currentSection[ReplaceSectionCommand.PROP_FILE_NAME], this.locator.viewerId);
        }
        else {
            _super.prototype.call.call(this);
        }
    };
    /**
     * @inheritDoc
     */
    ReplaceSectionCommand.prototype.settingProgressLabel = function () {
        // ♪進捗表示の設定
        this.progressNameLabel = this.wording.get('info.progress.sectionname');
        this.progressMessageLabel = this.wording.get('info.progress.replacesection');
        this.progressCountLabel = this.wording.get('info.progress.progressmessage');
    };
    /**
     * @inheritDoc
     */
    ReplaceSectionCommand.prototype.checkSectionLimit = function () {
        // ★Stitch V1.3対応
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.sectionList is null.');
        }
        if (this.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.sectionList is null.');
        }
        return this.locator.sectionList.length - this.thumbnailList.selectedIndices.length + this.sectionList.length <= 200;
    };
    /**
     * @private
     */
    ReplaceSectionCommand.prototype.checkAlertCloseHandler = function (closeEvent) {
        if (closeEvent.detail !== _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK) {
            // OKボタン以外がクリックされた
            // 処理をキャンセルする
            this.checkComplete(true);
            return;
        }
        // 処理をcheckから続行する。
        var param = new _core_models_param__WEBPACK_IMPORTED_MODULE_4__["Param"]();
        _super.prototype.check.call(this, param);
        if (param.cancel) {
            // キャンセルの場合。
            this.checkComplete(true);
        }
    };
    Object.defineProperty(ReplaceSectionCommand.prototype, "eventType", {
        /**
         * @inheritDoc
         */
        get: function () {
            return _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__["Sys0EventType"].REPLACE_SECTION;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 追加する先頭のセクションNoです。
     */
    ReplaceSectionCommand.prototype.startSectionNo = function () {
        // ★Stitch V1.3対応
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.sectionList is null.');
        }
        return this.insertIndex >= 0 ? this.insertIndex + 1 : this.locator.sectionList.length + 1;
    };
    /**
     * @inheritDoc
     */
    ReplaceSectionCommand.prototype.refreshList = function (newSection) {
        var sectionList = this.locator.sectionList;
        if (this.locator.createdSectionCount === 0) {
            this.replaceSection(newSection, this.insertIndex);
        }
        else {
            // ★Stitch V1.3対応
            if (sectionList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
            }
            sectionList.splice(this.insertIndex, 0, newSection);
        }
        this.insertIndex++;
    };
    ReplaceSectionCommand.prototype.replaceSection = function (newSection, index) {
        var sectionList = this.locator.sectionList;
        // ★Stitch V1.3対応
        if (sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        var oldSection = sectionList[index];
        if (oldSection.tag) {
            // 付箋は引き継ぐ
            newSection.tag = oldSection.tag;
        }
        sectionList.splice(index, 0, newSection);
    };
    /**
     * @inheritDoc
     */
    ReplaceSectionCommand.prototype.showNavigateMessage = function () {
        var msg = this.wording.get('info.messagearea.replacesection', this.locator.createdSectionCount);
        // ★Stitch V1.3対応 store.dispatchを利用
        // 　メッセージ設定アクション発行
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_6__["SetNavigateMessage"](msg));
    };
    /**
     * @inheritDoc
     */
    ReplaceSectionCommand.prototype.getLimitFilesMessageKey = function () {
        this.showNavigation = false;
        return 'warn.section.replacelimitfiles';
    };
    /**
     * @inheritDoc
     */
    ReplaceSectionCommand.prototype.getFileAuthMessage = function () {
        return 'warn.section.replacefail';
    };
    return ReplaceSectionCommand;
}(_add_section_command__WEBPACK_IMPORTED_MODULE_7__["AddSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/select-all-command.ts":
/*!************************************************************!*\
  !*** ./src/app/viewer/commands/menu/select-all-command.ts ***!
  \************************************************************/
/*! exports provided: SelectAllCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectAllCommand", function() { return SelectAllCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");




/**
 * メニューから全選択を行ないます。
 *
 */
var SelectAllCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SelectAllCommand, _super);
    /**
     * コンストラクタです
     */
    function SelectAllCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * 事前確認をします。
     * セクションが存在しない場合は何もしません。
     */
    SelectAllCommand.prototype.check = function (param) {
        this.selectItems = this.locator.sectionList;
        if (this.selectItems == null || this.selectItems.length === 0) {
            param.cancel = true;
            return;
        }
    };
    /**
     * 全てのリストを選択状態に変更します。
     */
    SelectAllCommand.prototype.doCommand = function () {
        var thumbnailList = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__["ViewerViewTypes"].SectionView).thumbnailList;
        thumbnailList.selectedItem = this.selectItems;
        thumbnailList.invalidateProperties();
        // ★StitchV1.3対応
        // thumbnailList.dispatchEvent(new ListEvent(Event.CHANGE));
        thumbnailList.onChange();
        this.terminate();
    };
    return SelectAllCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/unselect-command.ts":
/*!**********************************************************!*\
  !*** ./src/app/viewer/commands/menu/unselect-command.ts ***!
  \**********************************************************/
/*! exports provided: UnselectCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UnselectCommand", function() { return UnselectCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");



/**
 * メニューからの選択解除を行います。
 */
var UnselectCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](UnselectCommand, _super);
    /**
     * コンストラクタです
     */
    function UnselectCommand() {
        return _super.call(this) || this;
    }
    /**
     * 全てのリストを選択状態に変更します。
     */
    UnselectCommand.prototype.doCommand = function () {
        var thumbnailList = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__["ViewerViewTypes"].SectionView).thumbnailList;
        thumbnailList.selectedItem = [];
        thumbnailList.invalidateProperties();
        // ★StitchV1.3対応
        // thumbnailList.dispatchEvent(new ListEvent(Event.CHANGE));
        thumbnailList.onChange();
    };
    return UnselectCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_1__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/update-command.ts":
/*!********************************************************!*\
  !*** ./src/app/viewer/commands/menu/update-command.ts ***!
  \********************************************************/
/*! exports provided: UpdateCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UpdateCommand", function() { return UpdateCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _get_document_detail_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../get-document-detail-command */ "./src/app/viewer/commands/get-document-detail-command.ts");





/**
 * メニューからの更新を行います。
 */
var UpdateCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](UpdateCommand, _super);
    function UpdateCommand() {
        var _this = _super.call(this) || this;
        /**
         * コールバック呼び出し用。
         */
        _this.callback = null;
        /**
         * ビジーカーソルの制御をするかどうかのフラグ
         */
        _this.showBusyCursor = true;
        _this.displayTransparent = false; // 膜を自動で張らない
        _this.sectionChecking = false;
        return _this;
    }
    /**
     * 同期呼び出し用のメソッドです。更新が終わったら、コールバックが呼ばれます。
     *
     * @param callback コールバック用のFunctionです。
     *
     */
    UpdateCommand.prototype.refreshSection = function (callback) {
        this.callback = callback;
        this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__["ViewerViewTypes"].PdfView).iframe.source = null;
        this.execCommand();
    };
    UpdateCommand.prototype.check = function (param) {
        this.showBusyCursor = this.callback == null;
        if (this.showBusyCursor) {
            this.progress.setTransProgressBusyCursor(null);
        }
        _super.prototype.check.call(this, param);
    };
    UpdateCommand.prototype.succeed = function (event) {
        _super.prototype.succeed.call(this, event);
        this.clearNavigation();
    };
    UpdateCommand.prototype.fail = function (event) {
        if (this.showBusyCursor) {
            this.progress.removeTransProgressBusyCursor(null);
        }
        _super.prototype.fail.call(this, event);
        this.clearNavigation();
        if (this.callback != null) {
            this.callback(false);
            this.callback = null;
        }
    };
    UpdateCommand.prototype.begin = function () {
        var returnValue = _super.prototype.begin.call(this);
        if (returnValue && this.callback != null) {
            // 念の為
            this.callback(false);
            this.callback = null;
        }
        return returnValue;
    };
    UpdateCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        if (this.showBusyCursor) {
            this.progress.removeTransProgressBusyCursor(null);
        }
        return _super.prototype.showSysCloseDialog.call(this, msgKey, args);
    };
    UpdateCommand.prototype.setEnableModel = function () {
        var enableModel = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__["ViewerViewTypes"].Root).enableModel;
        enableModel.add = this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_1__["BaseModelLocator"].MODE_EDITABLE;
        _super.prototype.setEnableModel.call(this);
    };
    UpdateCommand.prototype.checkComplete = function (cancel) {
        if (cancel === void 0) { cancel = false; }
        _super.prototype.checkComplete.call(this, cancel);
        if (cancel && this.callback != null) {
            this.callback(false);
            this.callback = null;
        }
    };
    UpdateCommand.prototype.getSectionListCallback = function (result) {
        _super.prototype.getSectionListCallback.call(this, result);
        if (this.showBusyCursor) {
            this.progress.removeTransProgressBusyCursor(null);
        }
        if (this.callback != null) {
            this.callback(true);
            this.callback = null;
        }
    };
    /**
     * メッセージエリアをクリアします。
     */
    UpdateCommand.prototype.clearNavigation = function () {
        // 　メッセージ設定アクション発行
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SetNavigateMessage"](''));
    };
    return UpdateCommand;
}(_get_document_detail_command__WEBPACK_IMPORTED_MODULE_4__["GetDocumentDetailCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/viewer-show-create-url-command.ts":
/*!************************************************************************!*\
  !*** ./src/app/viewer/commands/menu/viewer-show-create-url-command.ts ***!
  \************************************************************************/
/*! exports provided: ViewerShowCreateURLCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShowCreateURLCommand", function() { return ViewerShowCreateURLCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_services_url_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/services/url.service */ "./src/app/core/services/url.service.ts");
/* harmony import */ var _shared_commands_menu_show_create_url_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/commands/menu/show-create-url-command */ "./src/app/shared/commands/menu/show-create-url-command.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");




/**
 * URLコピー画面を行なうコマンドです。
 *
 */
var ViewerShowCreateURLCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerShowCreateURLCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerShowCreateURLCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__["ViewerModelLocatorService"].getInstance();
        _this.urlService = _this.injector.get(_core_services_url_service__WEBPACK_IMPORTED_MODULE_1__["UrlService"]);
        return _this;
    }
    /**
     * 選択されている文書を取得します。
     *
     * @param param
     */
    ViewerShowCreateURLCommand.prototype.check = function (param) {
        // 選択されている文書又はフォルダーを取得する。
        this.selectItem = this.locator.currentDocument;
        // 取得できなかった場合は何もしない
        if (!this.selectItem) {
            this.logger.error('URLコピー対象が指定されていません。');
            param.cancel = true;
        }
        this.verId = this.urlService.getUrlParam(ViewerShowCreateURLCommand.VER_ID_PARAM);
        var menuEvent = this.event;
        if (menuEvent) {
            this.menuItem = menuEvent.item.name;
        }
    };
    ViewerShowCreateURLCommand.VER_ID_PARAM = 'VerID';
    return ViewerShowCreateURLCommand;
}(_shared_commands_menu_show_create_url_command__WEBPACK_IMPORTED_MODULE_2__["ShowCreateURLCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/viewer-show-document-sub-data-dialog-command.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/viewer/commands/menu/viewer-show-document-sub-data-dialog-command.ts ***!
  \**************************************************************************************/
/*! exports provided: ViewerShowDocumentSubDataDialogCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShowDocumentSubDataDialogCommand", function() { return ViewerShowDocumentSubDataDialogCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_commands_menu_show_document_sub_data_dialog_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/commands/menu/show-document-sub-data-dialog-command */ "./src/app/shared/commands/menu/show-document-sub-data-dialog-command.ts");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");



var ViewerShowDocumentSubDataDialogCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerShowDocumentSubDataDialogCommand, _super);
    function ViewerShowDocumentSubDataDialogCommand() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    // ★Stitch V1.3対応
    // 継承元もlocatorの変数を定義しており、TypeScriptではprivateでも重複して定義することができない。
    // 継承元のlocatorの変数を利用するように変更するため、このクラス内のlocatorの定義を削除する。
    // private locator: ViewerModelLocator = ViewerModelLocatorService.getInstance();
    /**
     * 選択している文書を取得します。
     *
     * @param param
     */
    ViewerShowDocumentSubDataDialogCommand.prototype.check = function (param) {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_2__["ApplicationError"]('currentDocument is null.');
        }
        var selectItem = this.locator.currentDocument;
        this.selectItems = new Array(selectItem);
        this.isViewer = true;
    };
    return ViewerShowDocumentSubDataDialogCommand;
}(_shared_commands_menu_show_document_sub_data_dialog_command__WEBPACK_IMPORTED_MODULE_1__["ShowDocumentSubDataDialogCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/menu/viewer-show-inform-dialog-command.ts":
/*!***************************************************************************!*\
  !*** ./src/app/viewer/commands/menu/viewer-show-inform-dialog-command.ts ***!
  \***************************************************************************/
/*! exports provided: ViewerShowInformDialogCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerShowInformDialogCommand", function() { return ViewerShowInformDialogCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_services_base_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/services/base-model-locator.service */ "./src/app/core/services/base-model-locator.service.ts");
/* harmony import */ var _shared_commands_menu_base_show_inform_dialog_command__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared/commands/menu/base-show-inform-dialog-command */ "./src/app/shared/commands/menu/base-show-inform-dialog-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");










/**
 * メニューからの通知ダイアログの表示を行ないます。
 *
 */
var ViewerShowInformDialogCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerShowInformDialogCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerShowInformDialogCommand() {
        var _this = _super.call(this) || this;
        /**
         * モデルロケーター
         */
        _this.viewerLocator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * @inheritDoc
     */
    ViewerShowInformDialogCommand.prototype.check = function (param) {
        this.locator = _core_services_base_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocatorService"].getInstance();
        // 旧版の場合、バージョンIDを取得
        if (this.locator.version != null) {
            this.versionId = this.locator.version.id;
        }
        _super.prototype.check.call(this, param);
        param.isAsync = true;
    };
    /**
     * ビューアのdocumentVoを取得します。
     */
    ViewerShowInformDialogCommand.prototype.getSelectedItem = function () {
        // ★Stitch V1.3対応 selectedSection非空判断
        if (this.viewerLocator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        this.documentVo = this.viewerLocator.currentDocument.clone();
        this.fromViewer = true;
    };
    /**
     * 文書が削除されていた、アクセス権なし、ごみ箱に移動されていた場合、メッセージを表示します。
     *
     * @param status
     * @return
     *
     */
    ViewerShowInformDialogCommand.prototype.showErrorMessage = function (status) {
        // 削除されていた or アクセス権なし
        if (status.erase || status.disable) {
            this.showSysCloseDialog('warn.pdf.docnonexist');
            this.cancelEdit();
            return true;
        }
        else if (status.remove) {
            this.showSysCloseDialog('warn.pdf.docintrash');
            this.cancelEdit();
            return true;
        }
        return false;
    };
    /**
     * ビューアからの通知ダイアログOK、キャンセル時の処理です。
     */
    ViewerShowInformDialogCommand.prototype.informDocument = function (event) {
        // ★Stitch V1.3対応  commandMap.execEvent  を置換して移植
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].Root);
        // ★Stitch V1.3対応 viewerのundefined判断
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewer is null.');
        }
        this.commandProvider.execCommand(viewer, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_7__["SharedCommand"].SharedActionTypes.InformDialogOkCancel, event);
    };
    /**
     * 編集を破棄して、ロックを解除します。
     */
    ViewerShowInformDialogCommand.prototype.cancelEdit = function () {
        // 更新モードの場合、ロックを解除
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
            // 編集を破棄する。
            var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
            // ★Stitch V1.3対応 viewerのundefined判断
            var locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["ViewerModelLocatorService"].getInstance();
            if (locator.currentDocument == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
            }
            sys0ConnectObject.documentUpdateEnd(locator.currentDocument, null, null, null, false, null);
        }
    };
    /**
     * システム終了時のダイアログを表示する。
     */
    // ★Stitch V1.3対応 IFlexDisplayObject →　ComponentRef<SystemCloseDialogComponent> | null
    // protected showSysCloseDialog(msgKey: string, ...args): IFlexDisplayObject {
    ViewerShowInformDialogCommand.prototype.showSysCloseDialog = function (msgKey) {
        var args = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            args[_i - 1] = arguments[_i];
        }
        var _a;
        return (_a = this.messageService).showSystemCloseDialog.apply(_a, [_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_SYSTEM_ERROR, msgKey].concat(args));
    };
    return ViewerShowInformDialogCommand;
}(_shared_commands_menu_base_show_inform_dialog_command__WEBPACK_IMPORTED_MODULE_6__["BaseShowInformDialogCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/pdf/show-pdf-command.ts":
/*!*********************************************************!*\
  !*** ./src/app/viewer/commands/pdf/show-pdf-command.ts ***!
  \*********************************************************/
/*! exports provided: ShowPdfCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowPdfCommand", function() { return ShowPdfCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _shared_commands_base_show_pdf_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/commands/base-show-pdf-command */ "./src/app/shared/commands/base-show-pdf-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../abstract-section-deleted-update-command */ "./src/app/viewer/commands/abstract-section-deleted-update-command.ts");









/**
 * PDF表示時の処理を行ないます。
 *
 */
var ShowPdfCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ShowPdfCommand, _super);
    /**
     * コンストラクタです
     */
    function ShowPdfCommand() {
        var _this = _super.call(this) || this;
        /**
         *
         */
        _this.sectionDeletedUpdate = null;
        return _this;
    }
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.setModelLocator = function () {
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__["ViewerModelLocatorService"].getInstance();
    };
    Object.defineProperty(ShowPdfCommand.prototype, "viewerId", {
        /**
         * @inheritDoc
         */
        get: function () {
            return this.locator.viewerId || '';
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.postShowPdf = function () {
        // ★Stitch V1.3対応
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__["ViewerViewTypes"].SectionView);
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for sectionView.');
        }
        sectionView.thumbnailList.setFocus();
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.getPdfView = function () {
        var pdfView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__["ViewerViewTypes"].PdfView);
        if (pdfView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for pdfView.');
        }
        return pdfView;
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.postSystemClose = function (errorInfo) {
        // システム終了
        this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_ERROR, errorInfo.message || '');
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
            // 編集モードの場合
            // 編集を破棄する。
            this.cancelEdit();
        }
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.deleteSection = function () {
        // セクションが削除されていた場合の処理をする。
        if (this.sectionDeletedUpdate == null) {
            this.sectionDeletedUpdate = new _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_8__["AbstractSectionDeletedUpdateCommand"]();
        }
        // ★Stitch V1.3対応 null対応
        if (this.showPdfEvent.sectionVO) {
            this.sectionDeletedUpdate.deleteSection(this.showPdfEvent.sectionVO);
            _super.prototype.deleteSection.call(this);
        }
        else {
            this.logger.info('this.showPdfEvent.sectionVO is null');
        }
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.getTrashMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docintrash';
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.getDeleteMessageKey = function () {
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
            this.editable = true;
            return '';
        }
        else if (this.isSectionError) {
            return 'warn.section.nonexist';
        }
        else {
            this.isSystemClose = true;
            return 'warn.pdf.docnonexist';
        }
    };
    /**
     * @inheritDoc
     */
    ShowPdfCommand.prototype.getReadAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docreadauth';
    };
    ShowPdfCommand.prototype.getVersionDelete = function () {
        this.isSystemClose = true;
        return 'warn.pdf.versionnotexist';
    };
    /**
     * 編集を破棄して終わる。
     */
    ShowPdfCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.locator.currentDocument is null ');
        }
        sys0ConnectObject.documentUpdateEnd(this.locator.currentDocument, null, null, null, false, null);
    };
    return ShowPdfCommand;
}(_shared_commands_base_show_pdf_command__WEBPACK_IMPORTED_MODULE_5__["BaseShowPdfCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/start-export-section-command.ts":
/*!*****************************************************************!*\
  !*** ./src/app/viewer/commands/start-export-section-command.ts ***!
  \*****************************************************************/
/*! exports provided: StartExportSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartExportSectionCommand", function() { return StartExportSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_commands_document_base_start_export_section_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/commands/document/base-start-export-section-command */ "./src/app/core/commands/document/base-start-export-section-command.ts");
/* harmony import */ var _core_models_sys0_error_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/models/sys0-error-info */ "./src/app/core/models/sys0-error-info.ts");
/* harmony import */ var _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/models/sys0-error-type */ "./src/app/core/models/sys0-error-type.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./abstract-section-deleted-update-command */ "./src/app/viewer/commands/abstract-section-deleted-update-command.ts");
/* harmony import */ var _export_section_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./export-section-command */ "./src/app/viewer/commands/export-section-command.ts");








/**
 * <span style="color:red; font-weight:bold;">Ite4</span>
 * 文書・セクションの実データのダウンロードを開始します。
 *
 */
var StartExportSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](StartExportSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function StartExportSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * @private
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["ViewerModelLocatorService"].getInstance();
        /**
         * @private
         */
        _this.sectionDeletedUpdate = null;
        return _this;
    }
    /**
     * 正常終了時の処理です。
     * 戻ってきたダウンロードIDを元にExportSectionCommandを実行します。
     */
    StartExportSectionCommand.prototype.succeed = function (event) {
        // error
        if (event.result == null) {
            return;
        }
        var downloadId = event.result;
        this.export = new _export_section_command__WEBPACK_IMPORTED_MODULE_7__["ExportSectionCommand"]();
        this.export.exportSection(downloadId, this.isDownloadSection, this.downloadDoc, this.sectionNo, this.abortFlg, this.fromViewer);
        this.terminate();
    };
    /**
     * @inheritDoc
     */
    StartExportSectionCommand.prototype.getErrorInfo = function (exception) {
        var errorInfo = _super.prototype.getErrorInfo.call(this, exception);
        var key = exception.key;
        // ★Stitch V1.3対応 errorInfo非空判断
        if (errorInfo == null) {
            return new _core_models_sys0_error_info__WEBPACK_IMPORTED_MODULE_2__["Sys0ErrorInfo"]();
        }
        // セクションが削除されていた場合
        if (key === _core_models_sys0_error_type__WEBPACK_IMPORTED_MODULE_3__["Sys0ErrorType"].SECTION_DELETE) {
            this.doPostFailPropcess = false;
            errorInfo.message = this.wording.get('warn.downloadsection.sectionnoexist');
            errorInfo.func = this.errorAlertOkHandler;
        }
        return errorInfo;
    };
    /**
     * @inheritDoc
     */
    StartExportSectionCommand.prototype.postFailProcess = function () {
        // 何もしない
    };
    /**
     * ダウンロード対象のセクションでエラーが起きた場合に画面の更新を行います。
     *
     * @param event
     *
     */
    StartExportSectionCommand.prototype.errorAlertOkHandler = function (event) {
        if (this.sectionDeletedUpdate == null) {
            this.sectionDeletedUpdate = new _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_6__["AbstractSectionDeletedUpdateCommand"]();
        }
        var section = new _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__["SectionVO"]();
        section.sectionNo = this.sectionNo;
        this.sectionDeletedUpdate.deleteSection(section);
    };
    return StartExportSectionCommand;
}(_core_commands_document_base_start_export_section_command__WEBPACK_IMPORTED_MODULE_1__["BaseStartExportSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/sys0-application-complete-command.ts":
/*!**********************************************************************!*\
  !*** ./src/app/viewer/commands/sys0-application-complete-command.ts ***!
  \**********************************************************************/
/*! exports provided: Sys0ApplicationCompleteCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sys0ApplicationCompleteCommand", function() { return Sys0ApplicationCompleteCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_document_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/commands/document-type */ "./src/app/core/commands/document-type.ts");
/* harmony import */ var _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/commands/sys0-object */ "./src/app/core/commands/sys0-object.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_services_url_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/services/url.service */ "./src/app/core/services/url.service.ts");
/* harmony import */ var _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/utils/sys0-string-util */ "./src/app/core/utils/sys0-string-util.ts");
/* harmony import */ var _core_vo_document_vo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/vo/document-vo */ "./src/app/core/vo/document-vo.ts");
/* harmony import */ var _core_vo_version_vo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/vo/version-vo */ "./src/app/core/vo/version-vo.ts");
/* harmony import */ var _shared_commands_abstract_sys0_application_complete_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../shared/commands/abstract-sys0-application-complete-command */ "./src/app/shared/commands/abstract-sys0-application-complete-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");














/**
 * Sys0アプリケーションの初期化終了時の処理を行ないます。
 * 旧版の参照に対応。
 * 更新モードなしで表示。版情報を取得してタイトルに表示する。
 *
 */
var Sys0ApplicationCompleteCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Sys0ApplicationCompleteCommand, _super);
    /**
     * コンストラクタです
     */
    function Sys0ApplicationCompleteCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_12__["ViewerModelLocatorService"].getInstance();
        _this.docId = null;
        _this.verId = null;
        _this.urlService = _this.injector.get(_core_services_url_service__WEBPACK_IMPORTED_MODULE_5__["UrlService"]);
        return _this;
    }
    /**
     * Sys0BaseApplicationのlocatorプロパティの設定を行ないます。
     * URLパラメータより文書IDが取得されているかのチェックを行います。
     * 文書IDが設定されていない場合は、エラーとします。
     * タブラベルをリソースから設定します。
     * 旧版表示の場合は、更新タブを非表示に設定します。
     * 旧版表示の場合は、版情報を取得します。
     *
     *
     */
    Sys0ApplicationCompleteCommand.prototype.check = function (param) {
        this.logger.info('Sys0ApplicationCompleteCommand#check start');
        var viewerBase = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].ViewerBase);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (viewerBase == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewerBase.');
        }
        // メニューエリアを表示する
        viewerBase.menuBar.visible = true;
        // ★Stitch V1.3 不要のため削除
        // モデルロケーターを設定
        // Sys0BaseApplication(root).locator = locator;
        if (this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.DOC_ID) == null) {
            // ★Stitch V1.3対応
            // デバッグモードの処理は不要のため削除
            // if (root.isDebug) {
            //   Sys0InputName.show('文書ID入力', 512, false, null, root, this.inputNameCallback);
            //   param.isAsync = true;
            //   return;
            // } else {
            //   this.logger.error(Sys0ApplicationCompleteCommand.DOC_ID + 'が指定されていません。');
            //   const message = this.wording.get('error.common.systeminvalid');
            //   this.messageService.showSystemCloseDialog(Sys0AlertType.TYPE_SYSTEM_ERROR, message);
            //   param.cancel = true;
            // }
        }
        else {
            // 膜を張る
            this.progress.transProgress();
            this.docId = this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.DOC_ID);
            this.verId = this.getVerId();
            if (this.verId == null) {
                this.initTabLabel();
            }
            // パラメータ取得
            var urlParam = this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.EDIT_SECTION);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (urlParam) {
                this.locator.editSection = parseInt(urlParam, 10);
            }
        }
    };
    Sys0ApplicationCompleteCommand.prototype.call = function () {
        this.progress.removeCommand(null);
        _super.prototype.call.call(this);
    };
    /**
     * キャビネット情報の取得をします。
     * 文書情報を保持する、DocumentVOを生成し、モデルロケーターに設定します。
     * 文書タイプリストを取得します。
     * デフォルトのタブを設定します。(Ite4からはプロファイル対応もする。)
     * アクセス時間、アクセス回数を更新します。
     * 文書情報を取得します(名前、セクション数、バージョン)。
     */
    Sys0ApplicationCompleteCommand.prototype.succeed = function (event) {
        // 膜を張る
        this.progress.transProgress();
        _super.prototype.succeed.call(this, event);
        if (event == null) {
            return;
        }
        this.viewDetail();
        this.getProfileSetting(function () { });
        this.terminate();
    };
    /**
     * プロファイル情報を、モデルロケーターに設定します。
     */
    Sys0ApplicationCompleteCommand.prototype.setProfileSetting = function (profile) {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (profile.showPdf == null || profile.displayDocumentInfo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to setProfileSetting.');
        }
        this.locator.showPdf = profile.showPdf;
        this.locator.defaultDisplayDocumentInfo = profile.displayDocumentInfo;
    };
    Sys0ApplicationCompleteCommand.prototype.setEnableModel = function () {
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].Root);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewer.');
        }
        var enableModel = viewer.enableModel;
        if (this.locator.version != null) {
            enableModel.changeMode = false;
            enableModel.apply = false;
            enableModel.approve = false;
            enableModel.passback = false;
            enableModel.withdraw = false;
        }
        else {
            enableModel.apply = true;
            enableModel.approve = true;
            enableModel.passback = true;
            enableModel.withdraw = true;
        }
        enableModel.renameSection = false;
        enableModel.openApplication = false;
        viewer.refreshMenuEnable();
    };
    /**
     *
     */
    Sys0ApplicationCompleteCommand.prototype.endEditError = function (autoEditParam) {
        var sectionNo = autoEditParam.sectionNo;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        var sectionVO = this.locator.sectionList[sectionNo - 1];
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionVO.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionVO.sectionNo is null.');
        }
        this.locator.removeApp(sectionVO.sectionNo.toString());
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].SectionView);
        sectionListView.thumbnailList.onChange();
        _super.prototype.endEditError.call(this, autoEditParam); // endEditを呼んでいる。
    };
    Sys0ApplicationCompleteCommand.prototype.getVerId = function () {
        var id = this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.VER_ID);
        if (id != null) {
            id = _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_6__["Sys0StringUtil"].trim(id);
            if (id.length === 0) {
                id = null;
            }
        }
        return id;
    };
    /**
     * 画面を描画します。
     */
    Sys0ApplicationCompleteCommand.prototype.viewDetail = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.cabinet == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('cabinet is null.');
        }
        var cabinet = this.locator.cabinet;
        var vo = new _core_vo_document_vo__WEBPACK_IMPORTED_MODULE_7__["DocumentVO"]();
        vo.cabId = cabinet.cabId;
        vo.id = this.docId;
        vo.version = null; // 版をクリア
        this.locator.currentDocument = vo;
        // ★Stitch V1.3対応
        // Alertのラベルの初期化はAlertDialogComponentで解決するため削除
        // 文書用のVO作成後の処理です。
        this.postCreateDocument();
        this.progress.removeCommand(null);
    };
    /**
     * 文書用のVO作成後の処理です。
     */
    Sys0ApplicationCompleteCommand.prototype.postCreateDocument = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.cabinet == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('cabinet is null.');
        }
        var cabinet = this.locator.cabinet;
        var sys0Object = null;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        var vo = this.locator.currentDocument;
        this.externalJsCallback.editErrorFunction = this.editErrorCallback;
        this.externalJsCallback.editDownloadEndFunction = this.editDownloadEndCallback;
        // 文書タイプリストを取得する
        var documentType = new _core_commands_document_type__WEBPACK_IMPORTED_MODULE_2__["DocumentType"]();
        documentType.getDocumentTypeList(cabinet, this.getDocumentTypeCallback);
        this.locator.viewerId = this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.VIEWER_ID);
        if (!this.locator.viewerId) {
            // ★Stitch V1.3対応 urlから取得できない場合 常に"1"を設定
            this.locator.viewerId = Sys0ApplicationCompleteCommand.VIEWER_VIEW_ID;
        }
        // 版ビューアーの場合、版情報を取得します。
        if (this.verId != null) {
            this.logger.info('VerID = ' + this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.VER_ID));
            var versionVo = new _core_vo_version_vo__WEBPACK_IMPORTED_MODULE_8__["VersionVO"]();
            this.locator.version = versionVo;
            versionVo.cabId = cabinet.cabId;
            versionVo.docId = vo.id;
            versionVo.id = this.urlService.getUrlParam(Sys0ApplicationCompleteCommand.VER_ID);
            this.initTabLabel();
        }
        // アクセス回数カウントアップ
        sys0Object = new _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_3__["Sys0Object"]();
        sys0Object.declareAccessDocument(vo);
        if (this.locator.editSection) {
            var thumbnailView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].ThumbnailView);
            // 編集モードで起動
            // 更新タブに設定する。
            thumbnailView.mainTabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_EDITABLE;
            // ★Stitch V1.3対応 primeNGのtabを利用する
            thumbnailView.onTabChange({ index: _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_EDITABLE });
        }
        else {
            // 読み取りタブに設定する。
            var thumbnailView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].ThumbnailView);
            var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].SectionView);
            thumbnailView.mainTabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_READONRY;
            // ★Stitch V1.3対応 dispatch対応
            sectionListView.thumbnailList.onChange();
            // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(Event.CHANGE));
            // 文書情報を取得する
            // 版情報を取得する
            // ★Stitch V1.3対応
            // ISys0View→ISupportCommandMap
            // undefinedチェック
            var parent_1 = this.parent;
            if (parent_1 === undefined) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected undefined value for parent.');
            }
            // ★Stitch V1.3対応 execCommand対応
            this.commandProvider.execCommand(parent_1, _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.GetDocumentDetail, this.event);
            // ISys0View(parent).commandMap.execEvent(Sys0ViewerCommandType.COMMAND_TYPE_GET_DOCUMENT_DETAIL, this.event);
            this.setEnableModel();
        }
    };
    Sys0ApplicationCompleteCommand.prototype.initTabLabel = function () {
        var thumbnailView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].ThumbnailView);
        if (thumbnailView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Unexpected null value for thumbnailView.');
        }
        var tabLabel = thumbnailView.tabLabel;
        var tabNum = 2;
        if (this.locator.version != null) {
            tabNum--;
        }
        // ★Stitch V1.3対応 tabLabelはobjectではなく、string[] に変更したため、それに合わせて設定方法を変更
        for (var i = 0; i < tabNum; i++) {
            if (i === 0) {
                // 読み取り
                tabLabel.push(this.wording.get('lbl.viewer.read'));
            }
            else if (i === 1) {
                // 更新
                tabLabel.push(this.wording.get('lbl.viewer.update'));
            }
        }
    };
    Sys0ApplicationCompleteCommand.prototype.getDocumentTypeCallback = function (result) {
        if (result instanceof Array) {
            var documentTypeList = result;
            // 文書タイプを取得する。
            // ★Stitch V1.3対応
            this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_10__["SetDocumentType"](documentTypeList));
        }
    };
    Sys0ApplicationCompleteCommand.EDIT_SECTION = 'editSection';
    Sys0ApplicationCompleteCommand.VIEWER_VIEW_ID = '1';
    return Sys0ApplicationCompleteCommand;
}(_shared_commands_abstract_sys0_application_complete_command__WEBPACK_IMPORTED_MODULE_9__["AbstractSys0ApplicationCompleteCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/change-mode-command.ts":
/*!******************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/change-mode-command.ts ***!
  \******************************************************************/
/*! exports provided: ChangeModeCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ChangeModeCommand", function() { return ChangeModeCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/commands/sys0-object */ "./src/app/core/commands/sys0-object.ts");
/* harmony import */ var _core_event_item_click_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/event/item-click-event */ "./src/app/core/event/item-click-event.ts");
/* harmony import */ var _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/event/sys0-object-operate-event */ "./src/app/core/event/sys0-object-operate-event.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/models/cursor-css */ "./src/app/core/models/cursor-css.ts");
/* harmony import */ var _core_models_prop_name_type__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/models/prop-name-type */ "./src/app/core/models/prop-name-type.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _core_vo_document_vo__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../core/vo/document-vo */ "./src/app/core/vo/document-vo.ts");
/* harmony import */ var _core_vo_workflow_vo__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../core/vo/workflow-vo */ "./src/app/core/vo/workflow-vo.ts");
/* harmony import */ var _shared_commands_sys0_commit_type__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../shared/commands/sys0-commit-type */ "./src/app/shared/commands/sys0-commit-type.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");
/* harmony import */ var _shared_components_dialog_approved_edit_comment_dialog_approved_edit_comment_dialog_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../shared/components/dialog/approved-edit-comment-dialog/approved-edit-comment-dialog.component */ "./src/app/shared/components/dialog/approved-edit-comment-dialog/approved-edit-comment-dialog.component.ts");
/* harmony import */ var _shared_components_menu_box_base_menu_box_base_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../shared/components/menu-box-base/menu-box-base.component */ "./src/app/shared/components/menu-box-base/menu-box-base.component.ts");
/* harmony import */ var _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../shared/models/confirm-update-item */ "./src/app/shared/models/confirm-update-item.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _containers_dialogs_confirm_update__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../containers/dialogs/confirm-update */ "./src/app/viewer/containers/dialogs/confirm-update.ts");
/* harmony import */ var _containers_section_section_view_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../containers/section/section-view.component */ "./src/app/viewer/containers/section/section-view.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _init_context_menu_command__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../init-context-menu-command */ "./src/app/viewer/commands/init-context-menu-command.ts");



















// tslint:disable-next-line:max-line-length









/**
 * タブをクリックしたときの動作を実装します。
 *
 */
var ChangeModeCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ChangeModeCommand, _super);
    function ChangeModeCommand() {
        var _this = _super.call(this) || this;
        /**
         * モデルロケーターです。
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_26__["ViewerModelLocatorService"].getInstance();
        /**
         * タブバーのインスタンスです。
         */
        _this.tabBar = null;
        /**
         * 現在処理中のモード
         */
        _this.currentMode = -1;
        /**
         * セクション一覧ビューです。
         */
        _this.thumbnailView = null;
        /**
         * 確認にダイアログです。
         */
        _this.confirmDialog = null;
        /**
         * 更新確認のモデルです。
         */
        _this.confirmItem = null;
        /**
         * 保存するか破棄するかを表します。
         */
        _this.isUpdate = false;
        /**
         * 版ID
         */
        _this.versionId = null;
        /**
         * 版番号
         */
        _this.versionNo = null;
        /**
         * 版上げ時のコメント
         */
        _this.versionComment = null;
        /**
         * システムエラーを表示するかどうか。
         */
        _this.systemCloseError = false;
        /**
         * @private
         * 承認後編集コメントダイアログ
         */
        _this.approvedEditCommentDialog = null;
        /**
         * 編集ご修正コメント修正あり。
         */
        _this.isCommentEdit = false;
        _this.displayTransparent = false;
        _this.controller = _this.injector.get(_core_services_controller_service__WEBPACK_IMPORTED_MODULE_13__["ControllerService"]);
        return _this;
    }
    /**
     * ロック前の事前処理を行ないます。
     * サムネイルリストを編集状態にします。
     * メニューの状態をリフレッシュします。
     *
     */
    ChangeModeCommand.prototype.check = function (param) {
        this.thumbnailView = this.parent;
        var itemClickEvent = null;
        if (this.event instanceof MouseEvent) {
            itemClickEvent = new _core_event_item_click_event__WEBPACK_IMPORTED_MODULE_5__["ItemClickEvent"](_shared_components_menu_box_base_menu_box_base_component__WEBPACK_IMPORTED_MODULE_20__["MenuBoxBaseComponent"].EXIT_CLICK);
            // 閉じるボタンからの場合
            itemClickEvent.index = 0;
            this.thumbnailView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].ThumbnailView);
            this.tabBar = this.thumbnailView.mainTabBar;
            this.tabBar.activeIndex = 0;
        }
        else {
            itemClickEvent = this.event;
            this.tabBar = itemClickEvent.target;
        }
        this.logger.info('check() >> 切り替わったタブの状態 = ' + itemClickEvent.index.toString() + ' 現在のモード = ' + this.locator.currentMode.toString());
        if (itemClickEvent.index === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY) {
            this.isCommentEdit = false; // 初期化
            var pdfView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].PdfView);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (pdfView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve pdfView.');
            }
            pdfView.offIFrame(true);
            this.confirmItem = new _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_21__["ConfirmUpdateItem"]();
            if (!this.locator.updated) {
                if (this.locator.runningApp) {
                    this.progressManager.removeCommand(null);
                    var msg = this.wording.get('question.application.runningapp');
                    this.messageService.showErrorMessage(msg, _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].YES | _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].NO, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__["Sys0AlertType"].TYPE_QUESTION, this.checkSectionCloseHandler);
                    param.isAsync = true;
                }
                else {
                    this.isUpdate = false;
                }
                return;
            }
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.locator.currentDocument == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to check. currentDocument is null.');
            }
            this.confirmItem.currentVersion = this.locator.currentDocument.version;
            // Validatorチェック
            var results = this.thumbnailView.sectionView.thumbnailList.checkValidator();
            if (results.length) {
                // エラーがあった。
                var msg = this.wording.get('warn.common.inputtext');
                this.messageService.showErrorMessage(msg);
                this.tabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE;
                this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE);
                param.cancel = true;
                return;
            }
            else if (this.locator.runningApp) {
                this.progressManager.removeCommand(null);
                var msg = this.wording.get('question.application.editsection');
                this.messageService.showErrorMessage(msg, _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].YES | _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].NO, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__["Sys0AlertType"].TYPE_QUESTION, this.checkSectionCloseHandler);
                param.isAsync = true;
                return;
            }
            // 膜を解除
            this.progressManager.removeCommand(null);
            var confirmUpdate = new _containers_dialogs_confirm_update__WEBPACK_IMPORTED_MODULE_23__["ConfirmUpdate"](this.wording, this.controller, this.stateUtilService, this.popup);
            this.confirmDialog = confirmUpdate.createDialog(this.confirmItem, this.confirmCloseHander);
        }
        else if (itemClickEvent.index === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].WAIT;
            if (this.checkDocumentSize()) {
                // ★Stitch V1.3対応
                // nullでないことを保証した上で動作する
                if (this.locator.currentDocument == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to check. currentDocument is null.');
                }
                var sys0Object = new _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_4__["Sys0Object"]();
                sys0Object.getDocumentDetail(this.locator.currentDocument, [_core_models_prop_name_type__WEBPACK_IMPORTED_MODULE_10__["PropNameType"].PROP_WORKFLOW_STATUS], this.getWorkflowStatusCallback);
            }
        }
        param.isAsync = true;
    };
    /**
     * 文書の編集開始/終了のイベントオブジェクトを生成します。
     * @inheritDoc
     */
    ChangeModeCommand.prototype.request = function (param) {
        var eventType = null;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.tabBar == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('tabBar is null.');
        }
        // ★Stitch V1.3対応 tabの選択値取得
        if (this.thumbnailView && this.thumbnailView.getSelectedTabIndex() !== this.currentMode) {
            this.currentMode = this.thumbnailView.getSelectedTabIndex();
        }
        else {
            this.logger.info('request() >> selectedIndex = ' +
                (this.thumbnailView && this.thumbnailView.getSelectedTabIndex()) +
                ' currentMode = ' +
                this.currentMode.toString());
        }
        if (this.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            eventType = _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].DOCUMENT_UPDATE_START;
        }
        else {
            eventType = _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].DOCUMENT_UPDATE_END;
        }
        this.logger.info('request >> currentMode = ' + this.currentMode.toString() + ' eventType = ' + eventType);
        // フラグ類を初期化する
        this.systemCloseError = false;
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_12__["Sys0BaseEvent"](eventType);
    };
    /**
     * 更新タブに切り替えた場合は、文書の編集開始を行ないます。
     * 参照タブに切り替えた場合は、文書の編集をコミット/ロールバックを行ないます。
     * 版上げに対応します。(<span style="color:red; font-weight:bold;">Ite4</span>)
     * @inheritDoc
     */
    ChangeModeCommand.prototype.call = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to call. currentDocument is null.');
        }
        this.logger.info('call >> currentMode = ' + this.currentMode.toString());
        if (this.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            this.http.documentUpdateStart(this.locator.currentDocument);
        }
        else {
            if (this.isCommentEdit) {
                // ★Stitch V1.3対応
                // nullでないことを保証した上で動作する
                if (this.approvedEditCommentDialog == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to call. approvedEditCommentDialog is null.');
                }
                this.http.updateDocumentAfterApprove(this.locator.currentDocument, this.versionId, this.versionNo, this.versionComment, this.approvedEditCommentDialog.textComment.nativeElement.value);
            }
            else {
                this.http.documentUpdateEnd(this.locator.currentDocument, this.versionId, this.versionNo, this.versionComment, this.isUpdate);
            }
        }
    };
    /**
     *
     */
    // ★Stitch V1.3対応
    // 引数のeventは使われていないため削除
    ChangeModeCommand.prototype.succeed = function () {
        var initContextMenu = new _init_context_menu_command__WEBPACK_IMPORTED_MODULE_27__["InitContextMenuCommand"]();
        var listMenu;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.thumbnailView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to succeed. thumbnailView is null.');
        }
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.tabBar == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('tabBar is null.');
        }
        if (this.thumbnailView.getSelectedTabIndex() === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            this.locator.currentMode = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE;
            listMenu = _init_context_menu_command__WEBPACK_IMPORTED_MODULE_27__["InitContextMenuCommand"].EDITABLE_MENU;
            initContextMenu.initContextMenuView(this.thumbnailView.sectionView, this.thumbnailView.sectionView.thumbnailList, listMenu);
            var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].Root);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (viewer == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewer.');
            }
            viewer.refreshMenuEnable();
            if (this.thumbnailView.sectionView.iframe.source == null) {
                // iframeのソースが設定されていない。
                // IFrameのソースURLを設定する
                this.thumbnailView.sectionView.iframe.source = this.locator.getJspUrl();
            }
            // ★Stitch V1.3対応 Viewer(root).navigateMessage対応
            this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SetNavigateMessage"](''));
            // Viewer(root).navigateMessage = '';
            if (this.locator.editSection) {
                // 自動アプリ編集モード
                this.openApplication();
            }
            // 膜を解除して終了
            // 膜を解除
            this.progressManager.removeCommand(null);
            document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].AUTO;
            var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].SectionView);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (sectionListView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionList View.');
            }
            // ★Stitch V1.3 dispatch対応
            sectionListView.thumbnailList.onChange();
            // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(Event.CHANGE));
            this.terminate();
        }
        else {
            this.locator.currentMode = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY;
            // 右クリックメニューの再作成
            listMenu = _init_context_menu_command__WEBPACK_IMPORTED_MODULE_27__["InitContextMenuCommand"].READ_MENU;
            initContextMenu.initContextMenuView(this.thumbnailView.sectionView, this.thumbnailView.sectionView.thumbnailList, listMenu);
            var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].Root);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (viewer == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewer.');
            }
            viewer.refreshMenuEnable();
            if (this.updateCommand == null) {
                var base = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].ViewerBase);
                // ★Stitch V1.3対応
                // nullでないことを保証した上で動作する
                if (base == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewerBase View.');
                }
                this.updateCommand = this.commandProvider.getCommand(base, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SharedCommand"].SharedActionTypes.Update);
            }
            this.updateCommand.refreshSection(this.updateComplateRefreshCallback);
        }
    };
    /**
     * @private
     * ダミー
     */
    ChangeModeCommand.prototype.cancel = function () { };
    ChangeModeCommand.prototype.begin = function () {
        var busy = _super.prototype.begin.call(this);
        this.progressManager = this.progress;
        if (busy) {
            var itemClickEvent = this.event;
            this.logger.info('begin() >> 切り替わったタブの状態 = ' + itemClickEvent.index.toString() + ' 現在のモード = ' + this.locator.currentMode.toString());
            if (itemClickEvent.index === this.locator.currentMode) {
                this.tabBar = itemClickEvent.target;
                this.tabBar.activeIndex =
                    itemClickEvent.index === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY ? _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE : _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY;
            }
        }
        else {
            // 膜を張る
            this.progressManager.transProgress(null);
        }
        return busy;
    };
    /**
     * 読み取りモードへ戻った後のセクション更新。
     */
    ChangeModeCommand.prototype.updateComplateRefreshCallback = function (success) {
        if (success) {
            // メッセージエリアにメッセージ表示。
            if (this.isUpdate) {
                // ★Stitch V1.3対応 Viewer(root).navigateMessage対応
                var message = this.wording.get('info.messagearea.updatedocument');
                this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SetNavigateMessage"](message));
                // Viewer(root).navigateMessage = root.getMessage('info.messagearea.updatedocument');
            }
            else if (this.locator.updated) {
                // ★Stitch V1.3対応 Viewer(root).navigateMessage対応
                var message = this.wording.get('info.messagearea.sectionupdatecancel');
                this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SetNavigateMessage"](message));
                // Viewer(root).navigateMessage = root.getMessage('info.messagearea.sectionupdatecancel');
            }
            this.locator.updated = false;
            this.locator.documentPropInfo = null;
        }
        this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY);
        if (this.isUpdate) {
            this.progressManager.removeCommand(null);
        }
        else {
            this.progressManager.removeTransProgressBusyCursor(null);
        }
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // ★Stitch V1.3対応 dispatch対応
        sectionListView.thumbnailList.onChange();
        // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(Event.CHANGE));
        if (this.isBusy) {
            this.terminate();
        }
    };
    /**
     * @private
     */
    ChangeModeCommand.prototype.showFailAlert = function (errorInfo) {
        this.progressManager.removeTransProgressBusyCursor(null);
        if (this.systemCloseError) {
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to showFailAlert. errorInfo.message is null.');
            }
            // ボタンなしのエラーダイアログ
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message);
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    ChangeModeCommand.prototype.getAllAuthMessageKey = function () {
        this.systemCloseError = true;
        return 'warn.section.docnotaccess';
    };
    ChangeModeCommand.prototype.getDeleteMessageKey = function () {
        this.systemCloseError = true;
        return 'warn.section.docnotaccess';
    };
    ChangeModeCommand.prototype.getTrashMessageKey = function () {
        this.systemCloseError = true;
        return 'warn.section.docnotaccess';
    };
    ChangeModeCommand.prototype.getUpdateAuthMessageKey = function () {
        return 'warn.section.docupdateauth';
    };
    /**
     * ロックされている。
     */
    ChangeModeCommand.prototype.getLockMessageKey = function () {
        return 'warn.common.lockdoc';
    };
    ChangeModeCommand.prototype.getPreviouslySavedMessageKey = function () {
        return 'warn.section.previouslysave';
    };
    /**
     *
     */
    ChangeModeCommand.prototype.getSeQuenceInvalidKey = function () {
        return 'warn.section.canceleddocedit';
    };
    /**
     *
     */
    ChangeModeCommand.prototype.postFailProcess = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.tabBar == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to post FailProcess. tabBar is null.');
        }
        if (this.tabBar.activeIndex === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            this.tabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY;
            this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.thumbnailView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to postFailProcess. thumbnailView is null.');
            }
            var thumbnailList = this.thumbnailView.sectionView.thumbnailList;
            // ★Stitch V1.3 dispatch対応
            thumbnailList.onChange();
            // thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE)); // 再制御
        }
        else if (this.tabBar.activeIndex === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY) {
            // 正常系へ。
            this.isUpdate = false; // 破棄した事にする。
            this.succeed();
            return;
        }
        // ★Stitch V1.3対応
        // ワークフロー機能は提供しない
        // const sys0Object: Sys0Object = new Sys0Object();
        // // ★Stitch V1.3対応
        // // nullでないことを保証した上で動作する
        // if (this.locator.currentDocument == null) {
        //   throw new ApplicationError('Failed to postFailProcess. currentDocument is null.');
        // }
        // sys0Object.getWorkFlow(this.locator.currentDocument, [], this.getWorkFlowCallBack);
    };
    ChangeModeCommand.prototype.changeView = function (mode) {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.thumbnailView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to changeView. thumbnailView is null.');
        }
        if (mode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY) {
            this.thumbnailView.sectionView.currentState = _containers_section_section_view_component__WEBPACK_IMPORTED_MODULE_24__["SectionViewComponent"].STATE_READONRY;
        }
        else if (mode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            this.thumbnailView.sectionView.currentState = _containers_section_section_view_component__WEBPACK_IMPORTED_MODULE_24__["SectionViewComponent"].STATE_EDITABLE;
        }
        this.setEnableModel(mode);
    };
    ChangeModeCommand.prototype.setEnableModel = function (mode) {
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].Root);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve Viewer View.');
        }
        var enableModel = viewer.enableModel;
        enableModel.add = mode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE && !this.locator.runningApp;
        if (mode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY) {
            enableModel.changeMode = true;
            enableModel.updateComplete = false;
        }
        else if (mode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE) {
            enableModel.changeMode = false;
            enableModel.updateComplete = true;
        }
    };
    ChangeModeCommand.prototype.refreshEditableMode = function () {
        var viewerBase = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].ViewerBase);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (viewerBase == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve viewerBase View.');
        }
        // セクション一覧の更新
        this.updateCommand = this.commandProvider.getCommand(viewerBase, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SharedCommand"].SharedActionTypes.Update);
        // this.updateCommand = viewerBase.commandMap.getCommand(Sys0CommandType.COMMAND_TYPE_UPDATE) as UpdateCommand;
        this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE);
        this.updateCommand.refreshSection(this.refreshSectionCallback);
    };
    /**
     * 更新モード変更時の、セクション一覧リフレッシュ。
     */
    ChangeModeCommand.prototype.refreshSectionCallback = function (success) {
        if (!success) {
            // 成功時のみチェック
            // 膜を解除
            this.progressManager.removeCommand(null);
            document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].AUTO;
            this.returnReadOnlyMode();
        }
        this.checkComplete(!success);
    };
    ChangeModeCommand.prototype.checkDocumentSize = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to checkDocumentSize. currentDocument is null.');
        }
        var docSize = this.locator.currentDocument.size;
        var oversize = 1.9 * ChangeModeCommand.GB;
        if (docSize > oversize) {
            this.progressManager.removeCommand(null);
            document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].AUTO;
            var message = this.wording.get('question.updatedocument.overdocsize');
            this.messageService.showErrorMessage(message, _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].YES | _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].NO, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__["Sys0AlertType"].TYPE_QUESTION, this.sizeCheckAlertCloseHandler);
            return false;
        }
        return true;
    };
    ChangeModeCommand.prototype.sizeCheckAlertCloseHandler = function (event) {
        var success = event.detail === _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].NO;
        if (success) {
            var sys0Object = new _core_commands_sys0_object__WEBPACK_IMPORTED_MODULE_4__["Sys0Object"]();
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.locator.currentDocument == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to sizeCheckAlertCloseHandler. currentDocument is null.');
            }
            sys0Object.getDocumentDetail(this.locator.currentDocument, new Array([_core_models_prop_name_type__WEBPACK_IMPORTED_MODULE_10__["PropNameType"].PROP_WORKFLOW_STATUS]), this.getWorkflowStatusCallback);
        }
        else {
            this.returnReadOnlyMode();
            this.checkComplete(!success);
        }
    };
    ChangeModeCommand.prototype.getWorkflowStatusCallback = function (result) {
        if (Object(_core_vo_document_vo__WEBPACK_IMPORTED_MODULE_15__["isDocumentVO"])(result)) {
            var docVo = result;
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.locator.currentDocument == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to getWorkflowStatusCallback. currentDocument is null.');
            }
            this.locator.currentDocument.workFlowStatus = docVo.workFlowStatus; // 現在値を設定
            if (docVo.workFlowStatus === _core_vo_workflow_vo__WEBPACK_IMPORTED_MODULE_16__["WorkflowVO"].WFSTATUS_APPROVED) {
                this.progressManager.removeCommand(null);
                document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].AUTO;
                var message = this.wording.get('question.updatedocument.approvecancel');
                this.messageService.showErrorMessage(message, _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].YES | _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].NO, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__["Sys0AlertType"].TYPE_QUESTION, this.workflowStatusCheckCloseHandler);
            }
            else {
                document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].WAIT;
                this.refreshEditableMode();
            }
        }
        else {
            this.returnReadOnlyMode();
            this.checkComplete(true);
        }
    };
    ChangeModeCommand.prototype.workflowStatusCheckCloseHandler = function (event) {
        if (event.detail === _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].YES) {
            document.body.style.cursor = _core_models_cursor_css__WEBPACK_IMPORTED_MODULE_9__["CursorType"].WAIT;
            this.refreshEditableMode();
        }
        else {
            this.returnReadOnlyMode();
            this.checkComplete(true);
        }
    };
    ChangeModeCommand.prototype.checkSectionCloseHandler = function (event) {
        if (event.detail === _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].YES) {
            // 				locator.removeAllApp();
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.confirmItem == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('this.confirmItem is null.');
            }
            if (this.locator.updated) {
                var confirmUpdate = new _containers_dialogs_confirm_update__WEBPACK_IMPORTED_MODULE_23__["ConfirmUpdate"](this.wording, this.controller, this.stateUtilService, this.popup);
                this.confirmDialog = confirmUpdate.createDialog(this.confirmItem, this.confirmCloseHander);
            }
            else {
                this.isUpdate = false;
                this.checkComplete();
            }
        }
        else {
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.tabBar == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to checkSectionCloseHandler. tabBar is null.');
            }
            this.tabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE;
            this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE);
            this.checkComplete(true);
        }
    };
    ChangeModeCommand.prototype.returnReadOnlyMode = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.tabBar == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to returnReadOnlyMode. tabBar is null.');
        }
        // 読み取りタブに戻る
        this.tabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY;
        this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_READONRY);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.thumbnailView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to returnReadOnlyMode. thumbnailView is null.');
        }
        var thumbnailList = this.thumbnailView.sectionView.thumbnailList;
        thumbnailList.selectedIndex = 0;
        // ★Stitch V1.3対応 dispatch対応
        thumbnailList.onItemClick();
        thumbnailList.onChange();
        // thumbnailList.dispatchEvent(new ListEvent(ListEvent.ITEM_CLICK));
        // thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
    };
    /**
     * 更新確認ダイアログでボタンが押された場合の処理です。
     *
     * @param event イベントオブジェクトです。
     *
     */
    ChangeModeCommand.prototype.confirmCloseHander = function (event) {
        var doTerminate = false;
        if (event.type === _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_18__["BaseDialogViewComponent"].CLICK_OK_EVENT) {
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.confirmDialog == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('confirmDialog is null.');
            }
            var confirmItem = this.confirmDialog.confirm.item;
            if (confirmItem.updateAction === _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_21__["ConfirmUpdateItem"].UPDATE_OVERWRITE) {
                this.versionId = _shared_commands_sys0_commit_type__WEBPACK_IMPORTED_MODULE_17__["Sys0CommitType"].COMMIT_VERSION_KEEP;
                this.isUpdate = true;
            }
            else if (confirmItem.updateAction === _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_21__["ConfirmUpdateItem"].UPDATE_VERSIONUP) {
                if (!this.confirmDialog.confirm.checkVersion()) {
                    return;
                }
                // 文字コードチェック
                if (_core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_14__["Sys0CommonUtil"].checkCharacterCode(confirmItem.comment)) {
                    var message = this.wording.get('warn.updatecomment.charactercode');
                    this.messageService.showErrorMessage(message, _core_models_alert__WEBPACK_IMPORTED_MODULE_8__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_11__["Sys0AlertType"].TYPE_WARNING, null);
                    return;
                }
                if (confirmItem.level === _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_21__["ConfirmUpdateItem"].VERUP_MAJOR) {
                    this.versionId = _shared_commands_sys0_commit_type__WEBPACK_IMPORTED_MODULE_17__["Sys0CommitType"].COMMIT_VERSION_UP_MAJOR;
                }
                else {
                    this.versionId = _shared_commands_sys0_commit_type__WEBPACK_IMPORTED_MODULE_17__["Sys0CommitType"].COMMIT_VERSION_UP_MINOR;
                }
                this.versionComment = confirmItem.comment;
                this.isUpdate = true;
            }
            else if (confirmItem.updateAction === _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_21__["ConfirmUpdateItem"].UPDATE_CANCEL) {
                this.isUpdate = false;
            }
            if (this.isUpdate) {
                // ★Stitch V1.3対応
                // nullでないことを保証した上で動作する
                if (this.locator.currentDocument == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to confirmCloseHander. currentDocument is null.');
                }
                if (this.locator.currentDocument.workFlowStatus === _core_vo_workflow_vo__WEBPACK_IMPORTED_MODULE_16__["WorkflowVO"].WFSTATUS_APPROVED) {
                    // 承認済み文書の場合
                    // 承認後修正の場合はコメント入力をする。
                    var comment = '';
                    this.approvedEditCommentDialog = _shared_components_dialog_approved_edit_comment_dialog_approved_edit_comment_dialog_component__WEBPACK_IMPORTED_MODULE_19__["ApprovedEditCommentDialogComponent"].show(this.locator.currentDocument, comment, this.approvedEditCommentOkCancelHandler);
                    return;
                }
                // 進捗中ダイアログを表示する。
                this.progressManager.addCommand(null, false, 0, '', '', this.wording.get('info.progress.updatedocument'), null, 0, true);
            }
            else {
                // ビジーカーソル付の膜を張る
                this.progressManager.setTransProgressBusyCursor(null);
            }
            this.checkComplete();
        }
        else {
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.tabBar == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to confirmCloseHander. tabBar is null.');
            }
            this.tabBar.activeIndex = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE;
            this.changeView(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_7__["BaseModelLocator"].MODE_EDITABLE);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (this.thumbnailView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to confirmCloseHander. thumbnailView is null.');
            }
            // メニュー制御用
            var thumbnailList = this.thumbnailView.sectionView.thumbnailList;
            // ★Stitch V1.3対応 dispatch対応
            thumbnailList.onChange();
            // thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
            doTerminate = true;
        }
        var confirmUpdate = new _containers_dialogs_confirm_update__WEBPACK_IMPORTED_MODULE_23__["ConfirmUpdate"](this.wording, this.controller, this.stateUtilService, this.popup);
        confirmUpdate.closeDialog(this.confirmDialog);
        if (doTerminate) {
            // ダイアログが閉じられてからterminateする。
            this.terminate();
        }
    };
    /**
     * 承認後編集コメントダイアログからのコールバック
     *
     */
    ChangeModeCommand.prototype.approvedEditCommentOkCancelHandler = function (event) {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.confirmDialog == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to approvedEditCommentOkCancelHandler. confirmDialog is null.');
        }
        // 実際の処理はコマンドクラスに引き継ぐ
        // ★Stitch V1.3対応
        // commandProvider対応
        var command = this.commandProvider.getCommand(this.confirmDialog, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SharedCommand"].SharedActionTypes.ApprovedEditCommentOkCancel);
        // const command: ApprovedEditCommmentDialogOkCancelCommand = this.confirmDialog.commandMap.getCommand(
        //   Sys0CommandType.COMMAND_TYPE_APPROVED_EDIT_COMMENT_OK_CANCEL
        // ) as ApprovedEditCommmentDialogOkCancelCommand;
        command.callback = this.approvedEditCommentCallback; // 続きの処理用
        command.event = event;
        command.dialog = this.approvedEditCommentDialog;
        command.execCommand();
    };
    /**
     *
     * @param result
     *
     */
    ChangeModeCommand.prototype.approvedEditCommentCallback = function (result) {
        this.isCommentEdit = result;
        if (result) {
            // OK時
            // 進捗中ダイアログを表示する。
            this.progressManager.addCommand(null, false, 0, '', '', this.wording.get('info.progress.updatedocument'), null, 0, true);
            this.checkComplete();
            _containers_dialogs_confirm_update__WEBPACK_IMPORTED_MODULE_23__["ConfirmUpdate"].hide();
        }
        else {
            // キャンセル時
        }
    };
    /**
     * アプリケーション自動起動用
     */
    ChangeModeCommand.prototype.openApplication = function () {
        var sectionNo = this.locator.editSection;
        this.locator.editSection = null;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to openApplication. sectionList is null.');
        }
        // セクション番号が0か大きすぎる場合はなにもしない。
        if (sectionNo === 0 || this.locator.sectionList.length < sectionNo) {
            return;
        }
        // セクションを取得
        var section = this.locator.sectionList[sectionNo - 1];
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.thumbnailView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to openApplication. thumbnailView is null.');
        }
        // セクションを選択状態にする。
        var thumbnailList = this.thumbnailView.sectionView.thumbnailList;
        thumbnailList.selectedItem = section;
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_25__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // アプリケーション起動のコマンドを取得
        // ★Stitch V1.3対応
        // commandProvider対応
        var command = this.commandProvider.getCommand(sectionListView, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_22__["SharedCommand"].SharedActionTypes.OpenAppDownload);
        // const command: ISys0Command = Viewer(root).sectionListView.commandMap.getCommand(Sys0CommandType.COMMAND_TYPE_OPEN_APP_DOWNLOAD);
        // イベントを作成
        var downloadEvent = new _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_6__["Sys0ObjectOperateEvent"](_core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_6__["Sys0ObjectOperateEvent"].DOWNLOAD_OBJECT_EVENT, section, this.locator.currentDocument);
        downloadEvent.fromViewer = true;
        command.event = downloadEvent;
        // アプリケーション起動を実施
        command.execCommand();
    };
    ChangeModeCommand.GB = 1024 * 1024 * 1024;
    return ChangeModeCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/add-tag-command.ts":
/*!**********************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/add-tag-command.ts ***!
  \**********************************************************************/
/*! exports provided: AddTagCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddTagCommand", function() { return AddTagCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_base_add_tag_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/base-add-tag-command */ "./src/app/core/commands/base-add-tag-command.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _main_models_main_view_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../main/models/main-view-types */ "./src/app/main/models/main-view-types.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");








/**
 * 付箋を付ける
 *
 */
var AddTagCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](AddTagCommand, _super);
    /**
     * コンストラクタです
     */
    function AddTagCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__["ViewerModelLocatorService"].getInstance();
        _this.selectedSection = null;
        return _this;
    }
    AddTagCommand.prototype.check = function (param) {
        // ★Stitch V1.3対応 Main(root)追加
        var docView = this.viewManager.get(_main_models_main_view_types__WEBPACK_IMPORTED_MODULE_5__["MainViewTypes"].DocumentView);
        this.thumbnailList = docView.thumbnailTileList;
        // 選択セクションの取得
        // ★Stitch V1.3対応　sectionListViewは不要です
        this.selectedSection = this.thumbnailList.selectedItem;
        _super.prototype.check.call(this, param);
    };
    AddTagCommand.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_4__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].EDIT_TAG);
    };
    AddTagCommand.prototype.getDocumentVO = function () {
        // ★Stitch V1.3対応 currentDocument非空判断
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        return this.locator.currentDocument;
    };
    AddTagCommand.prototype.getSectionNo = function () {
        // ★Stitch V1.3対応 selectedSection非空判断
        if (this.selectedSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('selectedSection is null.');
        }
        return this.selectedSection.sectionNo;
    };
    AddTagCommand.prototype.getRecentDocument = function (document) {
        // 文書情報の再取得はしない。
        this.nextProcess();
    };
    // ★Stitch V1.3対応 responderは不要です
    AddTagCommand.prototype.callDelegate = function (documentVo, newTag) {
        this.locator.updated = true;
        // ★Stitch V1.3対応 実装方法はhttp.editTagに変更
        this.http.editTag(documentVo, newTag);
    };
    AddTagCommand.prototype.refreshThumbnail = function (tag) {
        this.showMessageArea();
        tag.selected = true;
        // ★Stitch V1.3対応 selectedSection非空判断
        if (this.selectedSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('selectedSection is null.');
        }
        this.selectedSection.tag = tag;
        // ★Stitch V1.3対応 Viewer(root)を代わって使う
        var documentView = this.viewManager.get(_main_models_main_view_types__WEBPACK_IMPORTED_MODULE_5__["MainViewTypes"].DocumentView);
        // ★Stitch V1.3対応 documentView非空判断
        if (documentView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve DocumentView.');
        }
        var thumbnailList = documentView.thumbnailTileList;
        // メニューの更新
        // ★Stitch V1.3対応
        // thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
        thumbnailList.onChange(new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"].CHANGE));
        // ★Stitch V1.3対応
        // thumbnailList.dispatchEvent(new ListEvent(ListEvent.ITEM_CLICK));
        thumbnailList.onItemClick(new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"].ITEM_CLICK));
        // tslint:disable-next-line:max-line-length
        // ★Stitch V1.3対応
        var itemRenderer = thumbnailList.itemToItemRenderer(this.currentDocument);
        if (itemRenderer) {
            itemRenderer.data = this.selectedSection;
            itemRenderer.invalidateProperties();
            // ★Stitch V1.3対応 checkValidator()に修正する
            itemRenderer.checkValidator();
        }
    };
    return AddTagCommand;
}(_core_commands_base_add_tag_command__WEBPACK_IMPORTED_MODULE_2__["BaseAddTagCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/click-select-section-command.ts":
/*!***********************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/click-select-section-command.ts ***!
  \***********************************************************************************/
/*! exports provided: ClickSelectSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClickSelectSectionCommand", function() { return ClickSelectSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");






/**
 *
 */
var ClickSelectSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ClickSelectSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function ClickSelectSectionCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["ViewerModelLocatorService"].getInstance();
        _this.thumnailList = null;
        return _this;
    }
    ClickSelectSectionCommand.prototype.check = function (param) {
        var mouseEvent = this.event;
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        this.thumnailList = sectionListView.thumbnailList;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.thumnailList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('thumnailList is null.');
        }
        if (this.thumnailList.selectedIndex < 0) {
            param.cancel = true;
        }
        else {
            var selectData = mouseEvent.currentTarget.data;
            var currentSelectIndex = this.thumnailList.selectedIndex;
            if (selectData === 'selectPrevious') {
                if (currentSelectIndex - 1 < 0) {
                    param.cancel = true;
                }
                else {
                    this.selectionIndex = currentSelectIndex - 1;
                }
            }
            else if (selectData === 'selectNext') {
                // ★Stitch V1.3対応
                // nullでないことを保証した上で動作する
                if (this.locator == null || this.locator.sectionList == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('locator or sectionList is null.');
                }
                if (currentSelectIndex + 1 >= this.locator.sectionList.length) {
                    param.cancel = true;
                }
                else {
                    this.selectionIndex = currentSelectIndex + 1;
                }
            }
        }
    };
    ClickSelectSectionCommand.prototype.doCommand = function () {
        // 透明な膜を貼る。
        this.progress.setTransProgressBusyCursor(null);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        var list = this.locator.sectionList;
        var section = list[this.selectionIndex];
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.thumnailList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('thumnailList is null.');
        }
        this.thumnailList.selectedItem = section;
        this.thumnailList.scrollToItem();
        if (this.selectionIndex !== this.thumnailList.selectedIndex) {
            this.logger.info('selectionIndex = ' + this.selectionIndex + ' : thumnailList.selectedIndex = ' + this.thumnailList.selectedIndex);
        }
        var item = this.thumnailList.indexToItemRenderer(this.selectionIndex);
        // ★Stitch V1.3対応 dispatchEvent対応
        var listEvent = new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_3__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_3__["ListEvent"].ITEM_CLICK);
        listEvent.itemRenderer = item;
        this.thumnailList.onItemClick(listEvent);
        // ★Stitch V1.3対応 dispatchEvent対応
        var changeEvent = new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_3__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_3__["ListEvent"].CHANGE);
        this.thumnailList.onChange(changeEvent);
        // 膜を解除する。
        this.progress.removeTransProgressBusyCursor(null);
        this.terminate();
    };
    return ClickSelectSectionCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/delete-tag-command.ts":
/*!*************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/delete-tag-command.ts ***!
  \*************************************************************************/
/*! exports provided: DeleteTagCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteTagCommand", function() { return DeleteTagCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_base_delete_tag_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/base-delete-tag-command */ "./src/app/core/commands/base-delete-tag-command.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _main_models_main_view_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../main/models/main-view-types */ "./src/app/main/models/main-view-types.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");








/**
 * 付箋を削除する
 *
 */
var DeleteTagCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DeleteTagCommand, _super);
    /**
     * コンストラクタです
     */
    function DeleteTagCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__["ViewerModelLocatorService"].getInstance();
        _this.selectedSection = null;
        return _this;
    }
    DeleteTagCommand.prototype.check = function (param) {
        // 選択セクションの取得
        // ★Stitch V1.3対応　sectionListViewは不要です
        this.selectedSection = this.thumbnailList.selectedItem;
        _super.prototype.check.call(this, param);
    };
    DeleteTagCommand.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_4__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].CLEAR_TAG);
    };
    DeleteTagCommand.prototype.getDocumentVO = function () {
        // ★Stitch V1.3対応 currentDocument非空判断
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        return this.locator.currentDocument;
    };
    DeleteTagCommand.prototype.getSectionNo = function () {
        // ★Stitch V1.3対応 selectedSection非空判断
        if (this.selectedSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('selectedSection is null.');
        }
        return this.selectedSection.sectionNo;
    };
    DeleteTagCommand.prototype.getTagVO = function () {
        // ★Stitch V1.3対応 selectedSection非空判断
        if (this.selectedSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('selectedSection is null.');
        }
        // ★Stitch V1.3対応 selectedSection.tag非空判断
        if (this.selectedSection.tag == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('selectedSection.tag is null.');
        }
        return this.selectedSection.tag;
    };
    DeleteTagCommand.prototype.getRecentDocument = function (document) {
        // 文書情報の再取得はしない。
        this.nextProcess();
    };
    // ★Stitch V1.3対応 responderは不要です
    DeleteTagCommand.prototype.callDelegate = function (documentVo, sectionNo) {
        this.locator.updated = true;
        // ★Stitch V1.3対応 実装方法はhttp.editTagに変更
        this.http.clearTag(documentVo, sectionNo);
    };
    DeleteTagCommand.prototype.refreshThumbnail = function () {
        this.showMessageArea();
        // ★Stitch V1.3対応 selectedSection.tag非空判断
        if (this.selectedSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('selectedSection.tag is null.');
        }
        this.selectedSection.tag = null;
        // ★Stitch V1.3対応 Viewer(root)を代わって使う
        var documentView = this.viewManager.get(_main_models_main_view_types__WEBPACK_IMPORTED_MODULE_5__["MainViewTypes"].DocumentView);
        // ★Stitch V1.3対応 documentView非空判断
        if (documentView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve DocumentView.');
        }
        var thumbnailList = documentView.thumbnailTileList;
        // メニューの更新
        // ★Stitch V1.3対応
        // thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
        thumbnailList.onChange(new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"].CHANGE));
        // ★Stitch V1.3対応
        // thumbnailList.dispatchEvent(new ListEvent(ListEvent.ITEM_CLICK));
        thumbnailList.onItemClick(new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_6__["ListEvent"].ITEM_CLICK));
        var itemRenderer = thumbnailList.itemToItemRenderer(this.currentDocument);
        if (itemRenderer) {
            itemRenderer.data = this.selectedSection;
            itemRenderer.invalidateProperties();
            // ★Stitch V1.3対応 checkValidator()に修正する
            itemRenderer.checkValidator();
        }
    };
    return DeleteTagCommand;
}(_core_commands_base_delete_tag_command__WEBPACK_IMPORTED_MODULE_2__["BaseDeleteTagCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/edit-mode-export-section-command.ts":
/*!***************************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/edit-mode-export-section-command.ts ***!
  \***************************************************************************************/
/*! exports provided: EditModeExportSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditModeExportSectionCommand", function() { return EditModeExportSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _export_section_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../export-section-command */ "./src/app/viewer/commands/export-section-command.ts");









/**
 * セクションの実データのダウンロードを開始します。
 *
 */
var EditModeExportSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditModeExportSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function EditModeExportSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * ダウンロードするセクションVO
         */
        _this.downloadSection = null;
        /**
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_7__["ViewerModelLocatorService"].getInstance();
        /**
         * ダウンロードするセクションの番号
         */
        _this.sectionId = null;
        return _this;
    }
    /**
     * @inheritDoc
     */
    EditModeExportSectionCommand.prototype.check = function (param) {
        var downloadEvent = this.event;
        this.downloadSection = downloadEvent.targetObject;
        if (this.downloadSection == null) {
            param.cancel = true;
        }
        this.isDownloadSection = true;
        // ★Stitch V1.3対応
        // 継承元の変数名がdispProgressからdisplayProgressに変更されていたため、あわせて変更する
        this.displayProgress = true;
        this.progressMessageLabel = this.wording.get('info.progress.preparing');
        this.cancelable = false;
    };
    /**
     * @inheritDoc
     */
    EditModeExportSectionCommand.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_5__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_2__["Sys0EventType"].GET_WORKING_SECTION_DETAIL);
    };
    /**
     * @inheritDoc
     */
    EditModeExportSectionCommand.prototype.call = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null || this.locator.viewerId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to call. downloadSection or viewerId is null.');
        }
        this.http.getWorkingSectionDetail(this.downloadSection, this.locator.viewerId, _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_6__["SectionVO"].RENDITION_TYPE_PRIMARY);
    };
    /**
     * @inheritDoc
     */
    EditModeExportSectionCommand.prototype.succeed = function (event) {
        var test = event;
        if (event.result == null) {
            // error
            this.terminate();
            return;
        }
        this.sectionId = event.result;
        this.downloadId = this.sectionId;
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null || this.downloadSection.name == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to succeed. downloadSection or name is null.');
        }
        this.fileName = this.downloadSection.name + this.downloadSection.icon;
        this.messageService.showErrorMessage('info.download.savefile', _core_models_alert__WEBPACK_IMPORTED_MODULE_3__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_4__["Sys0AlertType"].TYPE_INFO, this.showDownloadReference);
    };
    return EditModeExportSectionCommand;
}(_export_section_command__WEBPACK_IMPORTED_MODULE_8__["ExportSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/get-section-thumbnail-command.ts":
/*!************************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/get-section-thumbnail-command.ts ***!
  \************************************************************************************/
/*! exports provided: GetSectionThumbnailCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GetSectionThumbnailCommand", function() { return GetSectionThumbnailCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_commands_abstract_get_section_thumbnail_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/commands/abstract-get-section-thumbnail-command */ "./src/app/core/commands/abstract-get-section-thumbnail-command.ts");




/**
 * サムネイル表示用のコマンドクラスです。
 *
 */
var GetSectionThumbnailCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](GetSectionThumbnailCommand, _super);
    /**
     * コンストラクタです
     */
    function GetSectionThumbnailCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_1__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * @private
     * ★Stitch V1.3対応
     * 戻り値を RemotingMessage からvoidに変更。
     * RemotingMessage を受け取る getWorkingSectionThumbnail がvoidに変更されているため
     */
    GetSectionThumbnailCommand.prototype.callDelegate = function () {
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__["BaseModelLocator"].MODE_EDITABLE) {
            // 更新モードの場合
            this.http.getWorkingSectionThumbnail(this.currentDocument, this.sectionNo);
        }
        else {
            var versionId = null;
            if (this.locator.version) {
                versionId = this.locator.version.id;
            }
            this.http.getSectionThumbnail(this.currentDocument, this.sectionNo, versionId);
        }
    };
    /**
     * @private
     */
    GetSectionThumbnailCommand.prototype.getResultSection = function (event) {
        var section = event;
        if (section) {
            // 親文書を入れる
            section['parentDocument'] = this.locator.currentDocument;
        }
        return section;
    };
    GetSectionThumbnailCommand.prototype.getFeedbackObject = function (pendingMap, data) {
        if (pendingMap.hasOwnProperty(GetSectionThumbnailCommand.PENDING_MAP_PROP_TARGET)) {
            var orgSection = pendingMap[GetSectionThumbnailCommand.PENDING_MAP_PROP_TARGET];
            var feedback = data;
            if (orgSection != null) {
                orgSection.thumbnailData = feedback.thumbnailData;
            }
        }
        return data;
    };
    return GetSectionThumbnailCommand;
}(_core_commands_abstract_get_section_thumbnail_command__WEBPACK_IMPORTED_MODULE_3__["AbstractGetSectionThumbnailCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/insert-section-command.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/insert-section-command.ts ***!
  \*****************************************************************************/
/*! exports provided: InsertSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InsertSectionCommand", function() { return InsertSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _base_create_section_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../base-create-section-command */ "./src/app/viewer/commands/base-create-section-command.ts");



/**
 * セクションの追加を行ないます。
 *
 * ファイルアップロード終了後に呼び出されます。
 * 進捗中ダイアログの制御のみ、実装される予定です。
 */
var InsertSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](InsertSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function InsertSectionCommand() {
        return _super.call(this) || this;
    }
    InsertSectionCommand.prototype.check = function (param) {
        _super.prototype.check.call(this, param);
        // 文書登録中か？
        if (this.locator.createdSectionCount < 0) {
            param.cancel = true;
        }
        else {
            var iframeEvent = this.event;
            this.sectionList = [];
            // セクション番号
            // ★Stitch V1.3対応 パラメータnullチェック
            if (this.locator.sectionList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
            }
            var sectionNo = this.insertIndex >= 0 ? this.insertIndex + 2 : this.locator.sectionList.length + 1;
            if (iframeEvent.fileNameList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('iframeEvent.fileNameList is null.');
            }
            for (var _i = 0, _a = iframeEvent.fileNameList; _i < _a.length; _i++) {
                var fileName = _a[_i];
                var sectionVO = this.createSection(fileName, sectionNo);
                this.sectionList.push(sectionVO);
                sectionNo++;
            }
            // セクション数が200を超える場合
            if (!this.checkSectionLimit()) {
                var message = this.wording.get('warn.section.addingsectionlimit');
                this.messageService.showErrorMessage(message);
                param.cancel = true;
                return;
            }
            // 2件以上の場合、キャンセル可能
            this.cancelable = this.sectionList.length > 1;
        }
    };
    return InsertSectionCommand;
}(_base_create_section_command__WEBPACK_IMPORTED_MODULE_2__["BaseCreateSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/move-section-command.ts":
/*!***************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/move-section-command.ts ***!
  \***************************************************************************/
/*! exports provided: MoveSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MoveSectionCommand", function() { return MoveSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/event/sys0-object-operate-event */ "./src/app/core/event/sys0-object-operate-event.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _base_move_section_command__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../base-move-section-command */ "./src/app/viewer/commands/base-move-section-command.ts");













/**
 * セクションの移動を行ないます。
 *
 *
 */
var MoveSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](MoveSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function MoveSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * ロケーター
         * @private
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__["ViewerModelLocatorService"].getInstance();
        /**
         * 移動セクション（1つのみ）
         * @private
         */
        _this.moveSection = null;
        /**
         * セクションの文書
         * @private
         */
        _this.currentDocument = null;
        /**
         * 移動先のインデックス
         * @private
         */
        _this.assignIndex = 0;
        /**
         * ビューアーを閉じるエラーを表示するか
         * @private
         */
        _this.isSystemClose = false;
        /**
         * @private
         */
        _this.moveString = null;
        /*
         * セクションサムネイルエリア
         */
        _this._sectionListView = null;
        return _this;
    }
    Object.defineProperty(MoveSectionCommand.prototype, "sectionListView", {
        /**
         * セクションサムネイルエリア
         */
        get: function () {
            if (this._sectionListView == null) {
                var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].SectionView);
                // ★Stitch V1.3対応
                // nullでないことを保証した上で動作する
                if (sectionView == null) {
                    throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionView.');
                }
                this._sectionListView = sectionView;
            }
            return this._sectionListView;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * 移動するSectionVOと移動先の情報を取得します。
     * 進捗ダイアログメッセージの初期化を行ないます。
     *
     * @inheritDoc
     */
    MoveSectionCommand.prototype.check = function (param) {
        if (this.event instanceof _core_event_sys0_object_operate_event__WEBPACK_IMPORTED_MODULE_4__["Sys0ObjectOperateEvent"]) {
            var moveEvent = this.event;
            this.moveString = moveEvent.info;
            this.moveSection = moveEvent.targetObject;
        }
        else {
            var mouseEvent = this.event;
            if (mouseEvent.currentTarget != null) {
                this.moveString = mouseEvent.currentTarget.data;
            }
            this.moveSection = this.sectionListView.thumbnailList.selectedItem;
        }
        if (this.moveString == null || this.moveSection == null) {
            param.cancel = true;
            return;
        }
        // 移動セクションをソートして移動可能かをチェック
        // moveSections.sortOn("sectionNo", Array.NUMERIC);
        // 後ろへの移動の場合、ソート順の変更
        /*if (moveString == MOVE_BACKWARD) {
                    moveSections.sortOn("sectionNo", Array.NUMERIC|Array.DESCENDING);
                }*/
        this.isSystemClose = false;
        this.currentDocument = this.locator.currentDocument;
        this.assignIndex = this.getAssignIndex(this.moveString, Number(this.moveSection.sectionNo));
    };
    /**
     * イベントオブジェクトの生成を行ないます。
     *
     * @inheritDoc
     *
     *  ★Stitch V1.3対応
     *  引数のparamは使われていないため削除
     */
    MoveSectionCommand.prototype.request = function () {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].MOVE_SECTION_EVENT);
    };
    /**
     * セクションの移動を呼び出します。
     *
     * @inheritDoc
     */
    MoveSectionCommand.prototype.call = function () {
        this.locator.updated = true;
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        if (this.moveSection == null || this.moveSection.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('moveSection.sectionNo is null.');
        }
        this.http.moveSection(this.currentDocument, this.moveSection.sectionNo, this.assignIndex);
    };
    /**
     * 画面の更新を行います。
     * 次のSectionVOがあったら続行し、なかったら処理を終了します。
     * メッセージエリアにセクションを移動した旨のメッセージを表示させます。
     *
     * @inheritDoc
     */
    MoveSectionCommand.prototype.succeed = function (event) {
        // 膜を貼る
        this.progress.setTransProgressBusyCursor(null);
        // 画面の更新処理
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.moveSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('moveSection is null.');
        }
        this.updateSectionView(this.moveSection);
        var message = this.wording.get('info.move.sectionmoved');
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__["SetNavigateMessage"](message));
        // 膜を解除
        this.progress.removeTransProgressBusyCursor(null);
        this.terminate();
    };
    /**
     * @inheritDoc
     */
    MoveSectionCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.isSystemClose) {
            // ★Stitch V1.3対応 パラメータnullチェック
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo.message is null.');
            }
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message);
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
                this.cancelEdit();
            }
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * @inheritDoc
     */
    MoveSectionCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * 編集モードを終了します。
     */
    MoveSectionCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_2__["Sys0ConnectObject"]();
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        sys0ConnectObject.documentUpdateEnd(this.locator.currentDocument, null, '', '', false, function () { });
    };
    /**
     * assignIndexを取得します。
     *
     * @param str 移動方向を表す文字列
     * @param sectionNo 移動するセクションのセクションNo
     * @return assignIndex 移動先のインデックス
     *
     */
    MoveSectionCommand.prototype.getAssignIndex = function (str, sectionNo) {
        var index = -1;
        switch (str) {
            case MoveSectionCommand.MOVE_FOWARD:
                index = sectionNo - 1;
                break;
            case MoveSectionCommand.MOVE_BACKWARD:
                index = sectionNo + 1;
                break;
            case MoveSectionCommand.MOVE_FRONT:
                index = 1;
                break;
            case MoveSectionCommand.MOVE_BOTTOM:
                index = 0;
                break;
        }
        return index;
    };
    /**
     * 画面を更新します。
     *
     * @param section 移動したセクション
     *
     */
    MoveSectionCommand.prototype.updateSectionView = function (section) {
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('locator.sectionList is null.');
        }
        var list = this.locator.sectionList;
        // ★Stitch V1.3対応 refreshはmxコンポーネントメソッドで、Angularで相当する処理は必要ないと判断し削除しました。
        // disableAutoUpdateもmxコンポーネントのリストの更新処理であり、Angularでは不要なため、削除しました。
        // list.refresh();
        // list.disableAutoUpdate();
        /*
         ★Stitch V1.3対応  順番を入れ替えるために、削除してから改めて差し込むという方法をとると、サムネイルリストが再描画されないため
         削除→追加による移動ではなく、  上書きによる移動に変更する
        */
        // 削除
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_8__["Sys0CommonUtil"].deleteSection(section, list);
        /*
         ★Stitch V1.3対応　サムネイル表示アイテム全てにdetectChange() を強制させる
         virtuarlScrollは行の追加、削除の変更検知を配列のlengthでチェックしているため、 削除した後に続けて追加すると
         結果的に行数に変化が無いため、変更検知対象外となってしまう
         そのため、削除後に一旦変更検知処理を実行させて回避することとする
         */
        this.sectionListView.thumbnailList.detectChanges();
        // 追加
        var index;
        if (this.moveString === MoveSectionCommand.MOVE_FRONT) {
            index = 0;
        }
        else if (this.moveString === MoveSectionCommand.MOVE_BOTTOM) {
            index = list.length;
        }
        else {
            index = this.assignIndex - 1;
        }
        list.splice(index, 0, section);
        // ★Stitch V1.3対応 enableAutoUpdateはmxコンポーネントのリストの更新処理であり、Angularでは不要なため削除しました。
        // list.enableAutoUpdate();
        var thumbnailList = this.sectionListView.thumbnailList;
        // 画面の更新
        // セクションNo振りなおし
        this.locator.renumberSectionList();
        this.sectionListView.validateNow();
        // 選択アイテムにsectionを指定します
        // ★Stitch V1.3対応 Array.getItemAt → [] に変換
        var selectedItem = list[index];
        thumbnailList.selectedItem = selectedItem;
        this.logger.info('selectedIndex = ' + thumbnailList.selectedIndex);
        // ★Stitch V1.3対応 dispatchEvent対応
        //    thumbnailList.dispatchEvent(new ListEvent(ListEvent.ITEM_CLICK));
        //    thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
        thumbnailList.onItemClick();
        thumbnailList.onChange();
    };
    /**
     * 移動ボタン「前へ」の定数
     */
    MoveSectionCommand.MOVE_FOWARD = 'moveForward';
    /**
     * 移動ボタン「後ろへ」の定数
     */
    MoveSectionCommand.MOVE_BACKWARD = 'moveBackward';
    /**
     * 移動ボタン「先頭へ」の定数
     */
    MoveSectionCommand.MOVE_FRONT = 'moveTop';
    /**
     * 移動ボタン「最後へ」の定数
     */
    MoveSectionCommand.MOVE_BOTTOM = 'moveBottom';
    return MoveSectionCommand;
}(_base_move_section_command__WEBPACK_IMPORTED_MODULE_12__["BaseMoveSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/open-app-export-section-command.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/open-app-export-section-command.ts ***!
  \**************************************************************************************/
/*! exports provided: OpenAppExportSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenAppExportSectionCommand", function() { return OpenAppExportSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_document_base_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/document/base-open-app-export-section-command */ "./src/app/core/commands/document/base-open-app-export-section-command.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../abstract-section-deleted-update-command */ "./src/app/viewer/commands/abstract-section-deleted-update-command.ts");










/**
 * ダウンロード後にアプリケーションを起動する。
 *
 */
var OpenAppExportSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OpenAppExportSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function OpenAppExportSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * @private
         */
        _this.sectionDeletedUpdate = null;
        return _this;
    }
    OpenAppExportSectionCommand.prototype.check = function (param) {
        _super.prototype.check.call(this, param);
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_READONRY) {
            param.isAsync = true;
            this.messageService.showErrorMessage('info.section.openreadonly', _core_models_alert__WEBPACK_IMPORTED_MODULE_4__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_INFO, this.alertOkHandler);
        }
        else {
            if (!this.initDownload()) {
                param.cancel = true;
            }
        }
        if (this.locator.version) {
            this.versionId = this.locator.version.id;
        }
        else {
            this.versionId = null;
        }
    };
    /**
     * @inheritDoc
     */
    OpenAppExportSectionCommand.prototype.call = function () {
        var versionId = null;
        // 版IDを指定する。
        if (this.locator.version) {
            versionId = this.locator.version.id;
        }
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('downloadSection is null.');
        }
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
            this.http.getWorkingSectionDetail(this.downloadSection, this.viewId, _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_6__["SectionVO"].RENDITION_TYPE_PRIMARY);
        }
        else {
            this.http.getSectionDetail(this.downloadSection, this.viewId, _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_6__["SectionVO"].RENDITION_TYPE_PRIMARY, versionId);
        }
    };
    OpenAppExportSectionCommand.prototype.fail = function (event) {
        _super.prototype.$fail.call(this, event);
    };
    /**
     * ViewerModelLocatorをセット
     */
    OpenAppExportSectionCommand.prototype.setModelLocator = function () {
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_8__["ViewerModelLocatorService"].getInstance();
    };
    Object.defineProperty(OpenAppExportSectionCommand.prototype, "viewId", {
        /**
         * viewerIdのゲッター
         */
        get: function () {
            var viewerId = this.locator.viewerId;
            if (viewerId == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('viewerId is null.');
            }
            return viewerId;
        },
        enumerable: true,
        configurable: true
    });
    OpenAppExportSectionCommand.prototype.startAppEdit = function () {
        // フラグ設定
        this.openMode = this.locator.currentMode;
        _super.prototype.startAppEdit.call(this);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null || this.downloadSection.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to startAppEdit. downloadSection or sectionNo is null.');
        }
        this.locator.runnningAppSections[this.downloadSection.sectionNo.toString()] = this.downloadSection.runningApp;
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_7__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // ★Stitch V1.3対応 dispatchEvent対応
        sectionListView.thumbnailList.onChange();
        // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
    };
    /**
     * ダウンロード対象のセクションでエラーが起きた場合に画面の更新を行います。
     *
     * @param event
     *
     */
    OpenAppExportSectionCommand.prototype.errorAlertOkHandler = function () {
        if (this.sectionDeletedUpdate == null) {
            this.sectionDeletedUpdate = new _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_9__["AbstractSectionDeletedUpdateCommand"]();
        }
        var section = new _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_6__["SectionVO"]();
        section.sectionNo = this.sectionNo;
        this.sectionDeletedUpdate.deleteSection(section);
        this.terminate();
    };
    OpenAppExportSectionCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.doPostFailPropcess) {
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo.message is null.');
            }
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_5__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message);
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * 文書が削除されていた場合エラーメッセージを表示して処理を中止します。
     */
    OpenAppExportSectionCommand.prototype.getDeleteMessageKey = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.docnoexist';
    };
    /**
     * アクセス権がなくなっていた場合エラーメッセージを表示して処理を中止します。
     */
    OpenAppExportSectionCommand.prototype.getAllAuthMessageKey = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.docnoexist';
    };
    /**
     * 文書がごみ箱にある場合エラーメッセージを表示して処理を中止します。
     */
    OpenAppExportSectionCommand.prototype.getTrashMessageKey = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.docintrash';
    };
    OpenAppExportSectionCommand.prototype.getVersionDelete = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.versiondeleted';
    };
    OpenAppExportSectionCommand.prototype.getSeQuenceInvalidKey = function () {
        return 'warn.section.canceleddocedit';
    };
    return OpenAppExportSectionCommand;
}(_core_commands_document_base_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_2__["BaseOpenAppExportSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/open-fts-export-section.ts":
/*!******************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/open-fts-export-section.ts ***!
  \******************************************************************************/
/*! exports provided: OpenFtsExportSection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OpenFtsExportSection", function() { return OpenFtsExportSection; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_document_base_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/document/base-open-app-export-section-command */ "./src/app/core/commands/document/base-open-app-export-section-command.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_alert__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/models/alert */ "./src/app/core/models/alert.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../abstract-section-deleted-update-command */ "./src/app/viewer/commands/abstract-section-deleted-update-command.ts");













var OpenFtsExportSection = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](OpenFtsExportSection, _super);
    /**
     * コンストラクタです
     */
    function OpenFtsExportSection() {
        var _this = _super.call(this) || this;
        /**
         * @private
         */
        _this.sectionDeletedUpdate = null;
        // ★Stitch V1.3対応
        _this.externalJsCallback = _this.injector.get(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_4__["ExternalJsCallback"]);
        return _this;
    }
    /**
     * @inheritDoc
     */
    OpenFtsExportSection.prototype.check = function (param) {
        this.setModelLocator();
        // ★Stitch V1.3対応
        // 継承元の変数名がdispProgressからdisplayProgressに変更されていたため、あわせて変更する
        this.displayProgress = true;
        this.cancelable = false;
        this.progressMessageLabel = this.wording.get('info.progress.fulltext');
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_READONRY) {
            param.isAsync = true;
            this.messageService.showErrorMessage('info.fts.readonly', _core_models_alert__WEBPACK_IMPORTED_MODULE_6__["Alert"].OK, _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_7__["Sys0AlertType"].TYPE_INFO, this.alertOkHandler);
        }
        else {
            if (!this.initDownload()) {
                param.cancel = true;
            }
        }
        if (this.locator.version) {
            this.versionId = this.locator.version.id;
        }
        else {
            this.versionId = null;
        }
    };
    /**
     * @inheritDoc
     */
    OpenFtsExportSection.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_8__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_3__["Sys0EventType"].GET_SECTION_DETAIL_EVENT);
    };
    /**
     * リモートサービスを呼び出します。
     */
    OpenFtsExportSection.prototype.call = function () {
        var versionId = null;
        if (this.locator.version) {
            versionId = this.locator.version.id;
        }
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('downloadSection is null.');
        }
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
            this.http.getWorkingSectionDetail(this.downloadSection, this.viewId, _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__["SectionVO"].RENDITION_TYPE_FTS);
        }
        else {
            this.http.getSectionDetail(this.downloadSection, this.viewId, _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__["SectionVO"].RENDITION_TYPE_FTS, versionId);
        }
    };
    /**
     * @inheritDoc
     */
    OpenFtsExportSection.prototype.succeed = function (event) {
        this.progress.addCommand(null, false, 0, '', '', this.wording.get('info.progress.openfts'), null, 0, true);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null || this.downloadSection.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('downloadSection or downloadSection.sectionid is null.');
        }
        this.sectionId = this.downloadSection.sectionNo.toString();
        this.downloadId = event.result;
        if (this.downloadId != null) {
            if (this.downloadId !== '0') {
                this.openMode = this.locator.currentMode;
            }
            else {
                // 全文データが0バイト
                this.openMode = 2;
            }
        }
        else {
            // 全文データがない
            this.openMode = 2;
        }
        this.startAppEdit();
        this.terminate();
    };
    OpenFtsExportSection.prototype.fail = function (event) {
        _super.prototype.$fail.call(this, event);
    };
    OpenFtsExportSection.prototype.setModelLocator = function () {
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__["ViewerModelLocatorService"].getInstance();
    };
    Object.defineProperty(OpenFtsExportSection.prototype, "viewId", {
        /**
         *
         */
        get: function () {
            var viewerId = this.locator.viewerId;
            if (viewerId == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to get viewId. viewerId is null.');
            }
            return viewerId;
        },
        enumerable: true,
        configurable: true
    });
    /**
     *
     *
     */
    OpenFtsExportSection.prototype.startAppEdit = function () {
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('downloadSection is null.');
        }
        // ダウンロードしたファイルをアプリケーションで起動する。
        this.fileName = this.wording.get('lbl.openfts.ftsdata') + this.downloadSection.name + '.txt';
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_READONRY) {
            this.fileName = this.wording.get('lbl.openapplication.readonly') + this.fileName;
            this.downloadSection.runningApp = _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__["SectionVO"].APP_OPEN_READONLY;
        }
        else {
            this.downloadSection.runningApp = _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__["SectionVO"].APP_OPEN;
        }
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection.id == null || this.sectionId == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('downloadSection.id or sectionId is null.');
        }
        var filePath = this.locator.makeEditAppFileName(this.viewId, this.downloadSection.id, this.sectionId, this.fileName, '1');
        this.logger.info('全文データをアプリケーションを起動します。: ' + filePath);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (this.downloadSection == null || this.downloadSection.sectionNo == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to startAppEdit. downloadSection or sectionNo is null.');
        }
        // フラグ設定
        this.locator.runnningAppSections[this.downloadSection.sectionNo.toString()] = this.downloadSection.runningApp;
        this.externalJsCallback.startEditFTS(this.getDownloadUrl(), this.locator.makeEditAppFileName(this.viewId, this.downloadSection.id, this.sectionId, this.fileName, '1'), this.openMode);
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // ★Stitch V1.3対応 dispatchEvent対応
        sectionListView.thumbnailList.onChange();
        // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
    };
    /**
     * ダウンロード対象のセクションでエラーが起きた場合に画面の更新を行います。
     *
     *
     */
    OpenFtsExportSection.prototype.errorAlertOkHandler = function () {
        if (this.sectionDeletedUpdate == null) {
            this.sectionDeletedUpdate = new _abstract_section_deleted_update_command__WEBPACK_IMPORTED_MODULE_12__["AbstractSectionDeletedUpdateCommand"]();
        }
        var section = new _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_9__["SectionVO"]();
        section.sectionNo = this.sectionNo;
        this.sectionDeletedUpdate.deleteSection(section);
        this.terminate();
    };
    OpenFtsExportSection.prototype.showFailAlert = function (errorInfo) {
        if (this.doPostFailPropcess) {
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo.message is null.');
            }
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_7__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message);
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * 文書が削除されていた場合エラーメッセージを表示して処理を中止します。
     */
    OpenFtsExportSection.prototype.getDeleteMessageKey = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.docnoexist';
    };
    /**
     * アクセス権がなくなっていた場合エラーメッセージを表示して処理を中止します。
     */
    OpenFtsExportSection.prototype.getAllAuthMessageKey = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.docnoexist';
    };
    /**
     * 文書がごみ箱にある場合エラーメッセージを表示して処理を中止します。
     */
    OpenFtsExportSection.prototype.getTrashMessageKey = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.docintrash';
    };
    OpenFtsExportSection.prototype.getVersionDelete = function () {
        this.doPostFailPropcess = true;
        return 'warn.downloadsection.versiondeleted';
    };
    OpenFtsExportSection.prototype.getSeQuenceInvalidKey = function () {
        return 'warn.section.canceleddocedit';
    };
    /**
     * @inheritDoc
     */
    OpenFtsExportSection.prototype.getSectionNotExist = function () {
        if (this.fromViewer) {
            return 'warn.downloadsection.sectionnoexist';
        }
        else {
            return 'warn.download.sectionnonexist';
        }
    };
    return OpenFtsExportSection;
}(_core_commands_document_base_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_2__["BaseOpenAppExportSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/rename-section-command.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/rename-section-command.ts ***!
  \*****************************************************************************/
/*! exports provided: RenameSectionCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RenameSectionCommand", function() { return RenameSectionCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/abstract-sys0-rpc-command */ "./src/app/core/commands/abstract-sys0-rpc-command.ts");
/* harmony import */ var _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/commands/sys0-connect-object */ "./src/app/core/commands/sys0-connect-object.ts");
/* harmony import */ var _core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/commands/sys0-event-type */ "./src/app/core/commands/sys0-event-type.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/models/sys0-alert-type */ "./src/app/core/models/sys0-alert-type.ts");
/* harmony import */ var _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/models/sys0-base-event */ "./src/app/core/models/sys0-base-event.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _main_containers_dialogs_input_name_dialog_input_name_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../../../../main/containers/dialogs/input-name-dialog/input-name-dialog.component */ "./src/app/main/containers/dialogs/input-name-dialog/input-name-dialog.component.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./../../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");












/**
 * セクション名の変更を行ないます。
 *
 * テキスト入力からフォーカスが外れた時に呼び出されます。
 *
 *
 */
var RenameSectionCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](RenameSectionCommand, _super);
    /**
     * コンストラクタです
     */
    function RenameSectionCommand() {
        var _this = _super.call(this) || this;
        /**
         * 対象のセクション
         * @private
         */
        _this.section = null;
        /**
         * セクション名
         * @private
         */
        _this.newName = null;
        /**
         * 画面を閉じるエラーにするかどうか
         * @private
         */
        _this.isSystemClose = false;
        /**
         * モデルロケーター
         * @private
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * 入力されたセクション名、名前を変更するSectionVOを取得します。
     *
     * 入力されたセクション名と、SectionVOの名前が一致した場合、処理を中止します。
     * 入力されたセクション名に、禁則文字が入力された場合、空白文字列のみの場合はエラーメッセ時を表示し
     * 処理を中止します。
     *
     * @inheritDoc
     */
    RenameSectionCommand.prototype.check = function (param) {
        // 読み取りモードの場合処理中止
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_READONRY) {
            param.cancel = true;
            return;
        }
        // 選択アイテム取得
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionView.');
        }
        var thumbnail = sectionListView.thumbnailList;
        this.section = thumbnail.selectedItem;
        if (this.section == null) {
            param.cancel = true;
            return;
        }
        param.isAsync = true;
        this.isSystemClose = false;
        // ●TODO: [task XXXX] Phase4 Sys0InputNameを実装する
        // Sys0InputName.show(
        //   this.wording.get('lbl.inputname.renamesection'),
        //   255,
        //   true,
        //   this.section.name,
        //   root,
        //   this.closeInputNameHandler,
        //   true,
        //   this.wording.get('warn.inputname.prohibitsectionname'),
        //   this.wording.get('warn.inputname.requiredfield')
        // );
    };
    /**
     * セクション名変更のイベントオブジェクトの生成を行ないます。
     *
     * @inheritDoc
     */
    RenameSectionCommand.prototype.request = function (param) {
        return new _core_models_sys0_base_event__WEBPACK_IMPORTED_MODULE_7__["Sys0BaseEvent"](_core_commands_sys0_event_type__WEBPACK_IMPORTED_MODULE_4__["Sys0EventType"].RENAME_SECTION_EVENT);
    };
    /**
     * セクションの名前変更を呼び出します。
     *
     * @inheritDoc
     */
    RenameSectionCommand.prototype.call = function () {
        // ★Stitch V1.3対応 locatorをインスタンス変数から参照
        var parentDoc = this.locator.currentDocument;
        // var parentDoc:DocumentVO = ViewerModelLocator.getInstance().currentDocument;
        this.locator.updated = true;
        // ★Stitch V1.3対応 パラメータnullチェック
        if (parentDoc == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('section or newName is null.');
        }
        if (this.section == null || parentDoc == null || this.newName == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to call(). section or newName or parendDoc is null.');
        }
        this.http.renameSection(parentDoc, this.section.sectionNo, this.newName);
    };
    /**
     * 変更されたセクション名を画面に反映します。
     *
     * @inheritDoc
     */
    RenameSectionCommand.prototype.succeed = function (event) {
        var no = 0;
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        if (this.section == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('section is null.');
        }
        for (var _i = 0, _a = this.locator.sectionList; _i < _a.length; _i++) {
            var sectionVO = _a[_i];
            if (sectionVO.sectionNo === this.section.sectionNo) {
                sectionVO.name = this.newName;
            }
            no++;
        }
        var message = this.wording.get('info.messagearea.rename');
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SetNavigateMessage"](message));
        this.terminate();
    };
    /**
     * @inheritDoc
     */
    RenameSectionCommand.prototype.showFailAlert = function (errorInfo) {
        if (this.isSystemClose) {
            // ★Stitch V1.3対応 パラメータnullチェック
            if (errorInfo.message == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('errorInfo.message is null.');
            }
            this.messageService.showSystemCloseDialog(_core_models_sys0_alert_type__WEBPACK_IMPORTED_MODULE_6__["Sys0AlertType"].TYPE_SYSTEM_ERROR, errorInfo.message);
            if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
                this.cancelEdit();
            }
        }
        else {
            _super.prototype.showFailAlert.call(this, errorInfo);
        }
    };
    /**
     * @inheritDoc
     */
    RenameSectionCommand.prototype.getAllAuthMessageKey = function () {
        this.isSystemClose = true;
        return 'warn.pdf.docnonexist';
    };
    /**
     * 編集モードを終了します。
     */
    RenameSectionCommand.prototype.cancelEdit = function () {
        var sys0ConnectObject = new _core_commands_sys0_connect_object__WEBPACK_IMPORTED_MODULE_3__["Sys0ConnectObject"]();
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.locator.currentDocument == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('currentDocument is null.');
        }
        sys0ConnectObject.documentUpdateEnd(this.locator.currentDocument, null, '', '', false, function () { });
    };
    /**
     * 名前入力ダイアログが閉じられた際のイベントハンドラーです。
     *
     * @param event
     *
     */
    RenameSectionCommand.prototype.closeInputNameHandler = function (event) {
        var dialog = this.event.currentTarget;
        this.popup.removePopUp(dialog);
        if (event.type === _main_containers_dialogs_input_name_dialog_input_name_dialog_component__WEBPACK_IMPORTED_MODULE_10__["InputNameDialogComponent"].INPUTNAME_OK_EVENT) {
            this.newName = dialog.inputName;
            this.checkComplete(false);
        }
        else {
            this.checkComplete(true);
        }
    };
    return RenameSectionCommand;
}(_core_commands_abstract_sys0_rpc_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0RpcCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/section-change-command.ts":
/*!*****************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/section-change-command.ts ***!
  \*****************************************************************************/
/*! exports provided: SectionChangeCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionChangeCommand", function() { return SectionChangeCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _shared_commands_abstract_change_list_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../shared/commands/abstract-change-list-command */ "./src/app/shared/commands/abstract-change-list-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");







/**
 * セクションのCHANGEイベント時の処理です。
 *
 */
var SectionChangeCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SectionChangeCommand, _super);
    /**
     * コンストラクタです
     */
    function SectionChangeCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["ViewerModelLocatorService"].getInstance();
        _this.isEditable = false;
        _this.isVersionView = false;
        _this.runningApp = false;
        return _this;
    }
    /**
     * メニュー制御と、ビューアー表示を行ないます。
     */
    SectionChangeCommand.prototype.doCommand = function () {
        // ★Stitch V1.3対応
        // enableModelをstateUtilServiceから取得する
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].Root);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (viewer == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve Viewer View.');
        }
        this.enableModel = viewer.enableModel;
        this.isEditable = this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__["BaseModelLocator"].MODE_EDITABLE;
        this.isVersionView = this.locator.version != null;
        this.runningApp = this.locator.runningApp;
        _super.prototype.doCommand.call(this);
        this.terminate();
    };
    /**
     * @inheritDoc
     */
    SectionChangeCommand.prototype.getList = function () {
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionView.');
        }
        return sectionView.thumbnailList;
    };
    /**
     * 一覧にデータがある場合のメニュー制御
     */
    SectionChangeCommand.prototype.setEnableHasListData = function (hasListData) {
        var viewerEnableModel = this.enableModel;
        // おまじない。CHANGEイベント対応の為
        viewerEnableModel.del = false;
        if (!hasListData) {
            this.getPdfView().offIFrame(true);
        }
        // ★Stitch V1.3対応
        // NgRxのReducerでViewerEnableModelに書き込む
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__["SetViewerEnableModel"](viewerEnableModel));
    };
    /**
     * 単一選択のメニュー制御
     */
    SectionChangeCommand.prototype.setEnableSelectedOneItem = function (isSelectedOneItem) {
        var viewerEnableModel = this.enableModel;
        // viewerEnableModel.showPDF = isSelectedOneItem;
        viewerEnableModel.replace = this.isEditable ? isSelectedOneItem && !this.runningApp : false;
        viewerEnableModel.download = !this.isEditable;
        viewerEnableModel.sectionDownload = isSelectedOneItem;
        viewerEnableModel.move = this.isEditable ? isSelectedOneItem : false;
        viewerEnableModel.del = this.isEditable && !this.runningApp && isSelectedOneItem;
        viewerEnableModel.divide =
            this.isEditable && !this.runningApp && isSelectedOneItem && this.locator.sectionList != null && this.locator.sectionList.length > 1;
        viewerEnableModel.renameSection = this.isEditable && !this.runningApp && isSelectedOneItem;
        viewerEnableModel.moveTop = this.enableMoveForward();
        viewerEnableModel.moveForward = this.enableMoveForward();
        viewerEnableModel.moveBackward = this.enableMoveBackward();
        viewerEnableModel.moveBottom = this.enableMoveBackward();
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // ドラッグドロップ可能か
        sectionListView.thumbnailList.dropEnabled = this.isEditable ? isSelectedOneItem && !this.runningApp : false;
        // セクション移動ボタン制御
        if (this.isEditable && isSelectedOneItem) {
            sectionListView.moveForwardButtonDisabled = this.enableMoveForward();
            sectionListView.moveNextButtonDisabled = this.enableMoveBackward();
            var hasTag = this.hasTag();
            viewerEnableModel.addTag = !this.runningApp && !hasTag;
            viewerEnableModel.editTag = !this.runningApp && hasTag;
            viewerEnableModel.deleteTag = !this.runningApp && hasTag;
        }
        else {
            sectionListView.moveForwardButtonDisabled = false;
            sectionListView.moveNextButtonDisabled = false;
            viewerEnableModel.moveTop = false;
            viewerEnableModel.moveForward = false;
            viewerEnableModel.moveBackward = false;
            viewerEnableModel.moveBottom = false;
            viewerEnableModel.addTag = false;
            viewerEnableModel.editTag = false;
            viewerEnableModel.deleteTag = false;
        }
        // ★Stitch V1.3対応
        // NgRxのReducerでViewerEnableModelに書き込む
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__["SetViewerEnableModel"](viewerEnableModel));
        // ●TODO: [task 1098]
        // Sys0ThumbnailListの中身(TileBaseの実態)が定まったら対応する
        // コンパイルを通すため、一時的に型を ListBaseに変更。
        // const thumbnailList: Sys0ThumbnailList = this.getList() as Sys0ThumbnailList;
        var thumbnailList = this.getList();
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.locator.sectionList != null) {
            sectionListView.selectNextButtonDisabled = isSelectedOneItem && thumbnailList.selectedIndex + 1 < this.locator.sectionList.length;
        }
        sectionListView.selectPrevButtonDisabled = isSelectedOneItem && thumbnailList.selectedIndex > 0;
        if (!isSelectedOneItem) {
            this.getPdfView().offIFrame(true);
        }
    };
    /**
     * 複数選択のメニュー制御
     */
    SectionChangeCommand.prototype.setEnableSelectedItem = function (isSelectedItem) {
        var viewerEnableModel = this.enableModel;
        viewerEnableModel.del = this.isEditable ? isSelectedItem && !this.runningApp : false;
        viewerEnableModel.openApplication = isSelectedItem;
        viewerEnableModel.openFtsData = isSelectedItem;
        viewerEnableModel.print = !this.isEditable && isSelectedItem;
        viewerEnableModel.printAll = !this.isEditable;
        // ★Stitch V1.3対応
        // NgRxのReducerでViewerEnableModelに書き込む
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__["SetViewerEnableModel"](viewerEnableModel));
    };
    /**
     * 選択状態に関係ないメニュー制御
     */
    SectionChangeCommand.prototype.setOther = function () {
        var viewerEnableModel = this.enableModel;
        viewerEnableModel.add = this.isEditable && !this.runningApp;
        viewerEnableModel.update = !this.isEditable;
        viewerEnableModel.property = true;
        viewerEnableModel.reCreateSubData = !this.isEditable && this.locator.version == null;
        viewerEnableModel.inform = true;
        viewerEnableModel.copyUrl = true;
        viewerEnableModel.manual = true;
        viewerEnableModel.download = !this.isEditable;
        // ★Stitch V1.3対応
        // NgRxのReducerでViewerEnableModelに書き込む
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__["SetViewerEnableModel"](viewerEnableModel));
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        /**
         * D&Dエリアの制御
         */
        var iframe = sectionListView.iframe;
        var oldUrl = iframe.source;
        var newUrl = this.locator.getJspUrl();
        if (oldUrl !== newUrl) {
            iframe.source = newUrl;
        }
    };
    SectionChangeCommand.prototype.getPdfView = function () {
        var pdfView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].PdfView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (pdfView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve pdfView.');
        }
        return pdfView;
    };
    /**
     * セクション前への移動が可能か
     */
    SectionChangeCommand.prototype.enableMoveForward = function () {
        var selectedItem = this.getList().selectedItem;
        if (selectedItem == null) {
            return false;
        }
        else if (this.runningApp) {
            return false;
            // ★Stitch V1.3対応
            // sectionNoはObjectからnumber型に変更されているため、チェック対象の1も文字列から数値に変更
        }
        else if (selectedItem.sectionNo === 1) {
            return false;
        }
        else {
            return true;
        }
    };
    /**
     * セクション後ろへの移動が可能か
     */
    SectionChangeCommand.prototype.enableMoveBackward = function () {
        var selectedItem = this.getList().selectedItem;
        if (selectedItem == null) {
            return false;
        }
        else if (this.runningApp) {
            return false;
        }
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.locator.sectionList == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionList is null.');
        }
        var listLength = this.locator.sectionList.length;
        // ★Stitch V1.3対応
        // listLengthを文字列に変換をしていたが、型チェックをすると必ずfalseになるため、toString()を削除
        if (selectedItem.sectionNo === listLength) {
            return false;
        }
        else {
            return true;
        }
    };
    SectionChangeCommand.prototype.hasTag = function () {
        var selectedItem = this.getList().selectedItem;
        if (selectedItem == null) {
            return false;
        }
        return selectedItem.tag != null;
    };
    return SectionChangeCommand;
}(_shared_commands_abstract_change_list_command__WEBPACK_IMPORTED_MODULE_3__["AbstractChangeListCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/section-drag-drop-command.ts":
/*!********************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/section-drag-drop-command.ts ***!
  \********************************************************************************/
/*! exports provided: SectionDragDropCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionDragDropCommand", function() { return SectionDragDropCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _move_section_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./move-section-command */ "./src/app/viewer/commands/thumbnail/section/move-section-command.ts");



/**
 * セクションのD&Dでの移動を行ないます。
 */
var SectionDragDropCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SectionDragDropCommand, _super);
    function SectionDragDropCommand() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    /**
     * ドラッグしたセクションの情報とドラッグ先の情報を取得します。
     * @inheritDoc
     */
    SectionDragDropCommand.prototype.check = function (param) {
        var dragEvent = this.event;
        // ●TODO: [task 1098] サムネイル一覧
        // listObjの中身(TileBaseの実態)が定まったら対応する
        // TileBaseはListBaseを継承したmxコンポーネント。
        // const listObj: TileBase = this.event.currentTarget as TileBase;
        // if (dragEvent == null || listObj == null) {
        //   param.cancel = true;
        //   return;
        // }
        // // Dragしているアイテムの取得
        // if (dragEvent.dragSource.hasFormat('items')) {
        //   const moveSections: any[] = dragEvent.dragSource.dataForFormat('items') as any[];
        //   this.moveSection = moveSections[0] as SectionVO;
        // } else {
        //   param.cancel = true;
        //   return;
        // }
        // // 移動先の取得
        // const dropIndex: number = listObj.calculateDropIndex(dragEvent);
        // const data: any[] = listObj.dataProvider as any[];
        // let itemRenderer: IListItemRenderer;
        // if (data && data.length === dropIndex) {
        //   itemRenderer = null;
        // } else {
        //   itemRenderer = listObj.indexToItemRenderer(dropIndex);
        // }
        // // 最後に追加する場合
        // let targetObj: SectionVO | null;
        // if (itemRenderer == null) {
        //   targetObj = null;
        // } else {
        //   targetObj = itemRenderer.data as SectionVO;
        // }
        // this.currentDocument = this.locator.currentDocument;
        // if (targetObj == null) {
        //   param.cancel = true;
        //   return;
        // }
        // this.assignIndex = this.getMoveSectionNo(targetObj, this.moveSection.sectionNo as number);
        // if (!this.checkMoveEnable(this.moveSection.sectionNo as number, this.assignIndex)) {
        //   param.cancel = true;
        // } else {
        //   this.doCommand();
        // }
        param.isAsync = true;
    };
    /**
     * 画面の更新を行います。
     * 次のSectionVOがあったら続行し、なかったら処理を終了します。
     * メッセージエリアにセクションを移動した旨のメッセージを表示させます。
     *
     * @inheritDoc
     */
    SectionDragDropCommand.prototype.succeed = function (event) {
        _super.prototype.succeed.call(this, event);
    };
    /**
     * 移動先のセクションNoを取得します。
     *
     * @param targetObj 移動先のアイテム
     * @param moveNo 移動するアイテムのセクション番号
     * @return 移動先のセクション番号
     *
     */
    SectionDragDropCommand.prototype.getMoveSectionNo = function (targetObj, moveNo) {
        var targetIndex;
        var targetNo;
        if (targetObj == null) {
            // ★Stitch V1.3対応 パラメータnullチェック
            if (this.locator.sectionList == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('locator.sectionList is null.');
            }
            targetIndex = this.locator.sectionList.length - 1;
            return targetIndex;
        }
        else {
            targetNo = targetObj.sectionNo;
        }
        if (moveNo < targetNo) {
            targetIndex = targetNo - 1;
        }
        else {
            targetIndex = targetNo;
        }
        return targetIndex;
    };
    /**
     *  移動先が現在と同じ場所であるかどうかをチェックします。
     * true:移動可、false:移動不可（移動先が現在の場所と同じ）
     *
     * @param sectionNo 移動するセクション番号
     * @param index 移動先の番号
     * @return trueの場合は同じ、falseの場合は異なる
     *
     */
    SectionDragDropCommand.prototype.checkMoveEnable = function (sectionNo, index) {
        if (sectionNo === index) {
            return false;
        }
        else {
            return true;
        }
    };
    return SectionDragDropCommand;
}(_move_section_command__WEBPACK_IMPORTED_MODULE_2__["MoveSectionCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/section/section-item-click-command.ts":
/*!*********************************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/section/section-item-click-command.ts ***!
  \*********************************************************************************/
/*! exports provided: SectionItemClickCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionItemClickCommand", function() { return SectionItemClickCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_event_show_pdf_event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/event/show-pdf-event */ "./src/app/core/event/show-pdf-event.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_store_core_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/store/core.actions */ "./src/app/core/store/core.actions.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _core_utils_store_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/utils/store-util */ "./src/app/core/utils/store-util.ts");
/* harmony import */ var _shared_components_controls_sys0_thumbnail_list_sys0_thumbnail_list_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/components/controls/sys0-thumbnail-list/sys0-thumbnail-list.component */ "./src/app/shared/components/controls/sys0-thumbnail-list/sys0-thumbnail-list.component.ts");
/* harmony import */ var _shared_event_sys0_list_event_reason__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/event/sys0-list-event-reason */ "./src/app/shared/event/sys0-list-event-reason.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../viewer/models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _viewer_services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../viewer/services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");













/**
 * セクションのアイテムクリックイベントの処理を行ないます。
 *
 */
var SectionItemClickCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SectionItemClickCommand, _super);
    /**
     * コンストラクタです
     */
    function SectionItemClickCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _viewer_services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_12__["ViewerModelLocatorService"].getInstance();
        /**
         * itemClickのイベントオブジェクトです。
         */
        _this.listEvent = null;
        /**
         * 選択されたセクションです。
         */
        _this.sectionVO = null;
        return _this;
    }
    /**
     * @inheritDoc
     */
    SectionItemClickCommand.prototype.check = function (param) {
        this.logger.info('itemClick Start!!');
        var focusInTextInput = false;
        this.listEvent = this.event;
        if (this.event.currentTarget instanceof _shared_components_controls_sys0_thumbnail_list_sys0_thumbnail_list_component__WEBPACK_IMPORTED_MODULE_8__["Sys0ThumbnailListComponent"]) {
            var thumbList = this.event.currentTarget;
            focusInTextInput = thumbList.focusToTextInput;
        }
        this.sectionVO = null; // 初期化
        if (focusInTextInput) {
            this.logger.info('focusInTextInput != null ');
            param.cancel = true;
        }
        else {
            // ★Stitch V1.3対応
            // 複数コンポートネントの型が入るため、any型に指定
            var itemRenderer = this.listEvent.itemRenderer;
            if (this.listEvent.reason === _shared_event_sys0_list_event_reason__WEBPACK_IMPORTED_MODULE_9__["Sys0ListEventReason"].ITEM_RIGHT_CLICK) {
                if (itemRenderer) {
                    this.sectionVO = itemRenderer.data;
                }
            }
            var sectionView = this.viewManager.get(_viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].SectionView);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (sectionView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionView.');
            }
            if (this.sectionVO == null) {
                var list = sectionView.thumbnailList;
                this.sectionVO = list.selectedItem;
            }
        }
        this.locator.rightClick = this.listEvent.reason === _shared_event_sys0_list_event_reason__WEBPACK_IMPORTED_MODULE_9__["Sys0ListEventReason"].ITEM_RIGHT_CLICK;
        if (this.sectionVO == null) {
            var pdfView = this.viewManager.get(_viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].PdfView);
            // ★Stitch V1.3対応
            // nullでないことを保証した上で動作する
            if (pdfView == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve pdfView.');
            }
            pdfView.iframe.source = null;
            pdfView.offIFrame(true);
            pdfView.message = '';
            param.cancel = true;
        }
        var sectionListView = this.viewManager.get(_viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        // セクション数を反映させる
        sectionListView.executeBindings();
    };
    /**
     * @inheritDoc
     */
    SectionItemClickCommand.prototype.doCommand = function () {
        var pdfView = this.viewManager.get(_viewer_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_11__["ViewerViewTypes"].PdfView);
        // ★Stitch V1.3対応 パラメータnullチェック
        if (this.listEvent == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('listEvent is null.');
        }
        // ビューアー表示
        if ((this.locator.showPdf === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].PDF_SHOW && this.listEvent.reason !== _shared_event_sys0_list_event_reason__WEBPACK_IMPORTED_MODULE_9__["Sys0ListEventReason"].ITEM_RIGHT_CLICK) ||
            this.sectionVO == null) {
            // 初回は表示しない
            this.logger.info('doCommand() >> pdf表示へイベント発行');
            // ★Stitch V1.3対応 パラメータnullチェック
            if (this.sectionVO == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('sectionVO is null.');
            }
            var showPdfEvent = new _core_event_show_pdf_event__WEBPACK_IMPORTED_MODULE_3__["ShowPdfEvent"](this.sectionVO);
            // ★Stitch V1.3対応 dispatchEvent対応　非同期型（アプリ独自定義Event）
            // pdfView.dispatchEvent(showPdfEvent);
            var action = _core_utils_store_util__WEBPACK_IMPORTED_MODULE_7__["StoreUtil"].makeAction(_shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_10__["SharedCommand"].ShowPdf, pdfView, showPdfEvent);
            this.store.dispatch(action);
        }
        else {
            var saveMode = this.locator.showPdf;
            var isPreLoading = this.stateUtilService.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_6__["getApplicationInitializationPreLoading"]);
            if (isPreLoading) {
                // 進捗中を消す
                // PreLoaderを削除
                this.store.dispatch(new _core_store_core_actions__WEBPACK_IMPORTED_MODULE_5__["HideInitializationPreLoader"]());
            }
            if (this.sectionVO.enablePDF) {
                this.logger.info('PDFを自動表示しない。 showPdf = ' + saveMode.toString() + ' reason = ' + this.listEvent.reason);
                // 一時的に表示しないモードへ
                this.locator.showPdf = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].PDF_HIDE;
                if (this.listEvent.reason === _shared_event_sys0_list_event_reason__WEBPACK_IMPORTED_MODULE_9__["Sys0ListEventReason"].ITEM_RIGHT_CLICK) {
                    pdfView.iframe.source = null;
                }
                pdfView.offIFrame(false);
                this.locator.showPdf = saveMode;
            }
            else {
                this.logger.info('enablePDF=false なので、PDFを表示しない。');
                pdfView.iframe.source = null;
                pdfView.offIFrame(true);
                pdfView.message = this.wording.get('warn.pdf.datanonexist');
            }
        }
        this.terminate();
    };
    return SectionItemClickCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/thumbnail/upload-command.ts":
/*!*************************************************************!*\
  !*** ./src/app/viewer/commands/thumbnail/upload-command.ts ***!
  \*************************************************************/
/*! exports provided: UploadCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UploadCommand", function() { return UploadCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../core/commands/abstract-sys0-command */ "./src/app/core/commands/abstract-sys0-command.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");







/**
 * ファイルアップロード開始/終了時の処理を行ないます。
 *
 */
var UploadCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](UploadCommand, _super);
    /**
     * コンストラクタです
     */
    function UploadCommand() {
        var _this = _super.call(this) || this;
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_5__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * D&Dスタート時の処理を行ないます。
     * アップロードできる状態かどうかをチェックします。
     * アップロードできない状況の場合は、0を返します。
     *
     * アップロード可能な場合には、進捗中ダイアログを表示します。
     *
     * @param sessionID セッションIDです。
     * @param fileCount D&amp;Dされたファイルの数です。
     * @return 1: D&D OK 0: D&D 不可
     *
     */
    UploadCommand.prototype.uploadStart = function (sessionID, fileCount) {
        // 更新モードじゃない場合(はD&Dできないはずだが・・・)
        if (this.locator.currentMode !== _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_3__["BaseModelLocator"].MODE_EDITABLE) {
            return 0;
        }
        // 準備中プログレスを表示する
        this.progress.addCommand(null, false, 0, '', '', this.wording.get('info.progress.preparing'), null, 0, true);
        // ModelLocatorの初期化
        // アップロード中
        this.locator.uploading = true;
        // アップロード済みファイルの数
        this.locator.createdSectionCount = 0;
        // D&Dされたファイルの数
        this.locator.uploadSectionCount = fileCount;
        // DnD OK
        return 1;
    };
    /**
     *
     * セクションの登録用に、VOを生成します。
     * セクション登録用のCommandクラスを取得して、処理を委譲します。
     * (メニューからのセクション登録と同じ処理をする為)
     */
    UploadCommand.prototype.doCommand = function () {
        // プログレスを解除する
        this.progress.removeCommand(null);
        // 処理を委譲する
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_4__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3対応
        // nullでないことを保証した上で動作する
        if (sectionListView == null) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_1__["ApplicationError"]('Failed to retrieve sectionListView.');
        }
        var command = this.commandProvider.getCommand(sectionListView, _store_viewer_actions__WEBPACK_IMPORTED_MODULE_6__["ViewerCommand"].ViewerActionTypes.InsertSection);
        command.execCommand();
        this.terminate();
    };
    return UploadCommand;
}(_core_commands_abstract_sys0_command__WEBPACK_IMPORTED_MODULE_2__["AbstractSys0Command"]));



/***/ }),

/***/ "./src/app/viewer/commands/viewer-image-edit-command.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/commands/viewer-image-edit-command.ts ***!
  \**************************************************************/
/*! exports provided: ViewerImageEditCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerImageEditCommand", function() { return ViewerImageEditCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_commands_image_edit_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/commands/image-edit-command */ "./src/app/shared/commands/image-edit-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");




var ViewerImageEditCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerImageEditCommand, _super);
    /**
     * コンストラクタです
     */
    function ViewerImageEditCommand() {
        return _super.call(this) || this;
    }
    Object.defineProperty(ViewerImageEditCommand.prototype, "locator", {
        get: function () {
            return _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__["ViewerModelLocatorService"].getInstance();
        },
        enumerable: true,
        configurable: true
    });
    ViewerImageEditCommand.prototype.cancel = function () {
        var viewerlocator = this.locator;
        viewerlocator.removeApp(this.autoEditEvent.sectionNo.toString());
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3 dispatch対応
        sectionListView.thumbnailList.onChange();
        // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
    };
    return ViewerImageEditCommand;
}(_shared_commands_image_edit_command__WEBPACK_IMPORTED_MODULE_1__["ImageEditCommand"]));



/***/ }),

/***/ "./src/app/viewer/commands/viewer-unknown-file-ext-command.ts":
/*!********************************************************************!*\
  !*** ./src/app/viewer/commands/viewer-unknown-file-ext-command.ts ***!
  \********************************************************************/
/*! exports provided: ViewerUnknownFileExtCommand */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerUnknownFileExtCommand", function() { return ViewerUnknownFileExtCommand; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_commands_unknown_file_ext_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/commands/unknown-file-ext-command */ "./src/app/shared/commands/unknown-file-ext-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");




/**
 * 関連付けされていないファイルを開こうとした。
 *
 */
var ViewerUnknownFileExtCommand = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerUnknownFileExtCommand, _super);
    function ViewerUnknownFileExtCommand() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Object.defineProperty(ViewerUnknownFileExtCommand.prototype, "locator", {
        get: function () {
            return _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_3__["ViewerModelLocatorService"].getInstance();
        },
        enumerable: true,
        configurable: true
    });
    ViewerUnknownFileExtCommand.prototype.cancel = function () {
        var viewerlocator = this.locator;
        viewerlocator.removeApp(this.autoEditEvent.sectionNo.toString());
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_2__["ViewerViewTypes"].SectionView);
        // ★Stitch V1.3 dispatch対応
        sectionListView.thumbnailList.onChange();
        // Viewer(root).sectionListView.thumbnailList.dispatchEvent(new ListEvent(ListEvent.CHANGE));
    };
    return ViewerUnknownFileExtCommand;
}(_shared_commands_unknown_file_ext_command__WEBPACK_IMPORTED_MODULE_1__["UnknownFileExtCommand"]));



/***/ }),

/***/ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog-commandmap.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog-commandmap.ts ***!
  \*****************************************************************************************************/
/*! exports provided: confirmUpdateCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "confirmUpdateCommandMap", function() { return confirmUpdateCommandMap; });
/* harmony import */ var _shared_commands_dialog_approved_edit_commment_dialog_ok_cancel_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../shared/commands/dialog/approved-edit-commment-dialog-ok-cancel-command */ "./src/app/shared/commands/dialog/approved-edit-commment-dialog-ok-cancel-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_dialog_confirm_update_change_action_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../commands/dialog/confirm-update-change-action-command */ "./src/app/viewer/commands/dialog/confirm-update-change-action-command.ts");
// tslint:disable-next-line:max-line-length



var confirmUpdateCommandMap = [
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_1__["SharedCommand"].SharedActionTypes.ChangeAction, command: _commands_dialog_confirm_update_change_action_command__WEBPACK_IMPORTED_MODULE_2__["ConfirmUpdateChangeActionCommand"] },
    // 承認後編集コメント登録
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_1__["SharedCommand"].SharedActionTypes.ApprovedEditCommentOkCancel, command: _shared_commands_dialog_approved_edit_commment_dialog_ok_cancel_command__WEBPACK_IMPORTED_MODULE_0__["ApprovedEditCommmentDialogOkCancelCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.html":
/*!******************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.html ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-base-dialog-view\r\n  [self]=\"this\"\r\n  [width]=\"400\"\r\n  [title]=\"dialogTitle\"\r\n  (clickOk)=\"onClickOk($event)\"\r\n  (clickCancel)=\"onClickCancel($event)\"\r\n  [defaultButton]=\"buttonOk\"\r\n>\r\n  <app-confirm-update-view\r\n    #confirm\r\n    [currentState]=\"confirmUpdateState\"\r\n    [commentTextHeight]=\"80\"\r\n    (changeAction)=\"changeAction($event)\"\r\n    class=\"popupPanelContent\"\r\n  >\r\n  </app-confirm-update-view>\r\n\r\n  <!-- ボタン -->\r\n  <div class=\"ui-dialog-footer\">\r\n    <p-footer class=\"button-area\">\r\n      <!-- OKボタン -->\r\n      <button type=\"button\" #buttonOk pButton class=\"button-ok\" [label]=\"buttonOkLabel\"\r\n              (click)=\"clickOkButton($event)\"></button>\r\n      <!-- cancel ボタン-->\r\n      <button type=\"button\" #buttonClose pButton class=\"button-cancel\" [label]=\"buttonCloseLabel\"\r\n              (click)=\"clickCancelButton($event)\"></button>\r\n    </p-footer>\r\n  </div>\r\n</app-base-dialog-view>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.scss":
/*!******************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.scss ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "@charset \"UTF-8\";\n/* パネルコンテンツ */\n.popupPanelContent {\n  padding: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvZGlhbG9ncy9jb25maXJtLXVwZGF0ZS1kaWFsb2cvY29uZmlybS11cGRhdGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC92aWV3ZXIvY29udGFpbmVycy9kaWFsb2dzL2NvbmZpcm0tdXBkYXRlLWRpYWxvZy9DOlxcVXNlcnNcXGcxMDAxNjg1MVxcRG9jdW1lbnRzXFxhbmd1bGFyLXdvcmtzcGFjZVxcc21hLW5hdmlcXGFuZ3VsYXJcXHJzbi9zcmNcXGFwcFxcdmlld2VyXFxjb250YWluZXJzXFxkaWFsb2dzXFxjb25maXJtLXVwZGF0ZS1kaWFsb2dcXGNvbmZpcm0tdXBkYXRlLWRpYWxvZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUNBaEIsYUFBQTtBQUNBO0VBQ0UsYUFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvZGlhbG9ncy9jb25maXJtLXVwZGF0ZS1kaWFsb2cvY29uZmlybS11cGRhdGUtZGlhbG9nLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGNoYXJzZXQgXCJVVEYtOFwiO1xuLyog44OR44ON44Or44Kz44Oz44OG44Oz44OEICovXG4ucG9wdXBQYW5lbENvbnRlbnQge1xuICBwYWRkaW5nOiAxMHB4OyB9XG4iLCIvKiDjg5Hjg43jg6vjgrPjg7Pjg4bjg7Pjg4QgKi9cclxuLnBvcHVwUGFuZWxDb250ZW50IHtcclxuICBwYWRkaW5nOiAxMHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.ts":
/*!****************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.ts ***!
  \****************************************************************************************************/
/*! exports provided: ConfirmUpdateDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmUpdateDialogComponent", function() { return ConfirmUpdateDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _core_utils_rsn_event_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/utils/rsn-event-manager */ "./src/app/core/utils/rsn-event-manager.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");
/* harmony import */ var _shared_components_confirm_update_view_confirm_update_view_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/confirm-update-view/confirm-update-view.component */ "./src/app/shared/components/confirm-update-view/confirm-update-view.component.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");









var ConfirmUpdateDialogComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ConfirmUpdateDialogComponent, _super);
    function ConfirmUpdateDialogComponent(wording, controllerService, stateUtilService) {
        var _this = _super.call(this, controllerService, stateUtilService) || this;
        _this.wording = wording;
        _this.controllerService = controllerService;
        _this.stateUtilService = stateUtilService;
        _this.rsnManager = new _core_utils_rsn_event_manager__WEBPACK_IMPORTED_MODULE_5__["RsnEventManager"]();
        /**
         * OKボタン
         */
        _this.buttonOkLabel = _this.wording.get('lbl.common.ok');
        /**
         * キャンセルボタン
         */
        _this.buttonCloseLabel = _this.wording.get('lbl.common.cancel');
        // コマンドマップ
        _this.commandMapDef = [];
        _this.dialogTitle = _this.wording.get('lbl.updateconfirm.title');
        _this.confirmUpdateState = _shared_components_confirm_update_view_confirm_update_view_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmUpdateViewComponent"].STATE_VERSION_UP;
        return _this;
    }
    ConfirmUpdateDialogComponent.prototype.ngOnInit = function () {
    };
    /**
     * ★Stitch V1.3対応 addEventListerner
     */
    ConfirmUpdateDialogComponent.prototype.addEventListener = function (key, func) {
        this.rsnEventManager.addEventListener(key, func);
    };
    ConfirmUpdateDialogComponent.prototype.onClickOk = function (event) {
        this.rsnEventManager.execute(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"].CLICK_OK_EVENT, event);
    };
    ConfirmUpdateDialogComponent.prototype.onClickCancel = function (event) {
        this.rsnEventManager.execute(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"].CLICK_CANCEL_EVENT, event);
    };
    ConfirmUpdateDialogComponent.prototype.changeAction = function ($event) {
        this.controllerService.execCommand(this, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SharedCommand"].SharedActionTypes.ChangeAction, $event);
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"])
    ], ConfirmUpdateDialogComponent.prototype, "baseDialogView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('confirm'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_confirm_update_view_confirm_update_view_component__WEBPACK_IMPORTED_MODULE_7__["ConfirmUpdateViewComponent"])
    ], ConfirmUpdateDialogComponent.prototype, "confirm", void 0);
    ConfirmUpdateDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-confirm-update-dialog',
            template: __webpack_require__(/*! ./confirm-update-dialog.component.html */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.html"),
            styles: [__webpack_require__(/*! ./confirm-update-dialog.component.scss */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_wording_service__WEBPACK_IMPORTED_MODULE_4__["WordingService"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_2__["ControllerService"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_3__["StateUtilService"]])
    ], ConfirmUpdateDialogComponent);
    return ConfirmUpdateDialogComponent;
}(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"]));



/***/ }),

/***/ "./src/app/viewer/containers/dialogs/confirm-update.ts":
/*!*************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/confirm-update.ts ***!
  \*************************************************************/
/*! exports provided: ConfirmUpdate */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConfirmUpdate", function() { return ConfirmUpdate; });
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");
/* harmony import */ var _confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./confirm-update-dialog/confirm-update-dialog.component */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.ts");



var ConfirmUpdate = /** @class */ (function () {
    function ConfirmUpdate(wording, controllerService, stateUtilService, popup) {
        this.wording = wording;
        this.controllerService = controllerService;
        this.stateUtilService = stateUtilService;
        this.popup = popup;
        this._isShowDialog = false;
    }
    ConfirmUpdate.show = function (item, closeHandler, parent) {
        if (parent === void 0) { parent = null; }
    };
    /**
     * ダイアログを閉じます。
     */
    ConfirmUpdate.hide = function () {
    };
    /**
     * ダイアログを表示します。
     *
     * @param item 表示するアイテム
     * @param closeHandler 閉じられるときのイベントハンドラーを指定します。
     * @param parent ダイアログの親をしていします。
     * @return 表示されたダイアログです。
     *
     */
    ConfirmUpdate.prototype.createDialog = function (item, closeHandler, parent) {
        if (parent === void 0) { parent = null; }
        this.dialog = this.popup.createComponentInstance(_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_2__["ConfirmUpdateDialogComponent"]);
        this._isShowDialog = true;
        this.popup.addPopUp(this.dialog);
        this.dialog.instance.confirm.item = item;
        if (closeHandler != null) {
            // tslint:disable-next-line:max-line-length
            this.dialog.instance.addEventListener(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_1__["BaseDialogViewComponent"].CLICK_OK_EVENT, closeHandler);
            this.dialog.instance.addEventListener(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_1__["BaseDialogViewComponent"].CLICK_CANCEL_EVENT, closeHandler);
        }
        // ★Stitch V1.3対応 popup.centerPopUpは存在しないので処理削除
        // Sys0Application.application.popupManager.centerPopUp(this.dialog);
        // ★Stitch V1.3対応 コメントアウト
        // フォーカスをSWFに戻す
        // Sys0Application.application.setFocusSwf();
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_0__["Sys0CommonUtil"].setFocusToFirstItem(this.dialog.instance);
        return this.dialog.instance;
    };
    ConfirmUpdate.prototype.closeDialog = function (dialog) {
        if (dialog) {
            this._isShowDialog = false;
            this.popup.removePopUp(dialog);
            this.dialog = null;
        }
    };
    return ConfirmUpdate;
}());



/***/ }),

/***/ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.commandmap.ts":
/*!*****************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.commandmap.ts ***!
  \*****************************************************************************************************/
/*! exports provided: divideSectionDialogCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "divideSectionDialogCommandMap", function() { return divideSectionDialogCommandMap; });
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_dialog_divide_section_dialog_creation_complete_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../commands/dialog/divide-section-dialog-creation-complete-command */ "./src/app/viewer/commands/dialog/divide-section-dialog-creation-complete-command.ts");
/* harmony import */ var _commands_dialog_divide_section_ok_cancel_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../commands/dialog/divide-section-ok-cancel-command */ "./src/app/viewer/commands/dialog/divide-section-ok-cancel-command.ts");



var divideSectionDialogCommandMap = [
    // OK/キャンセル ボタンクリック
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.ClickOkCancel, command: _commands_dialog_divide_section_ok_cancel_command__WEBPACK_IMPORTED_MODULE_2__["DivideSectionOkCancelCommand"] },
    // creationComplete
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.CreationComplete, command: _commands_dialog_divide_section_dialog_creation_complete_command__WEBPACK_IMPORTED_MODULE_1__["DivideSectionDialogCreationCompleteCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.html":
/*!******************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.html ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-base-dialog-view\r\n  [self]=\"this\"\r\n  [width]=\"450\"\r\n  [title]=\"title\"\r\n  (clickOk)=\"onClickOk($event)\"\r\n  (clickCancel)=\"onClickCancel($event)\"\r\n  [defaultButton]=\"okButton\"\r\n>\r\n  <div class=\"current-version\">{{ currentVersionLabel }}</div>\r\n  <app-sys0-form class=\"form-bind\" [validatorCreationEnabled]=\"formBindValidatorEnabled\" #formBind>\r\n    <app-sys0-form-item\r\n      [label]=\"newDocName\"\r\n      [labelWidth]=\"105\"\r\n      [validationType]=\"prohibition\"\r\n      [validatorError]=\"docnameprohibit\"\r\n      [requiredError]=\"documentnamerequired\"\r\n      required=\"true\"\r\n    >\r\n      <input type=\"text\" pInputText [(ngModel)]=\"inputNewName\" id=\"newName\" maxlength=\"120\" class=\"new-name\" />\r\n    </app-sys0-form-item>\r\n    <app-sys0-form-item [label]=\"newDocContent\" [labelWidth]=\"105\">\r\n      <p-radioButton name=\"divide\" value=\"0\" [label]=\"beforeLabel\" [disabled]=\"!beforeEnabled\" [(ngModel)]=\"selectedValue\"></p-radioButton>\r\n      <br />\r\n      <p-radioButton name=\"divide\" value=\"1\" [label]=\"afterLabel\" [disabled]=\"!afterEnabled\" [(ngModel)]=\"selectedValue\"></p-radioButton>\r\n    </app-sys0-form-item>\r\n  </app-sys0-form>\r\n  <!-- ボタン -->\r\n  <div class=\"ui-dialog-footer\">\r\n    <p-footer #buttonArea>\r\n      <button #okButton type=\"button\" pButton class=\"ok-button\" [label]=\"okLabel\" (click)=\"clickOkButton($event)\"></button>\r\n      <button type=\"button\" pButton class=\"cancel-button\" [label]=\"cancelLabel\" (click)=\"clickCancelButton($event)\"></button>\r\n    </p-footer>\r\n  </div>\r\n</app-base-dialog-view>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.scss":
/*!******************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.scss ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".current-version {\n  height: 48px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  text-align: center;\n  border-style: solid;\n  border-color: #cccccc;\n  margin-bottom: 10px;\n  font-weight: bold;\n  border-width: 1px; }\n\n.new-name {\n  width: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvZGlhbG9ncy9kaXZpZGUtc2VjdGlvbi1kaWFsb2cvQzpcXFVzZXJzXFxnMTAwMTY4NTFcXERvY3VtZW50c1xcYW5ndWxhci13b3Jrc3BhY2VcXHNtYS1uYXZpXFxhbmd1bGFyXFxyc24vc3JjXFxhcHBcXHZpZXdlclxcY29udGFpbmVyc1xcZGlhbG9nc1xcZGl2aWRlLXNlY3Rpb24tZGlhbG9nXFxkaXZpZGUtc2VjdGlvbi1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBQ1osZ0JBQWdCO0VBQ2hCLG1CQUFtQjtFQUNuQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLHFCQUFxQjtFQUNyQixtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLGlCQUFpQixFQUFBOztBQUVuQjtFQUNFLFdBQVcsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3ZpZXdlci9jb250YWluZXJzL2RpYWxvZ3MvZGl2aWRlLXNlY3Rpb24tZGlhbG9nL2RpdmlkZS1zZWN0aW9uLWRpYWxvZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jdXJyZW50LXZlcnNpb24ge1xyXG4gIGhlaWdodDogNDhweDtcclxuICBwYWRkaW5nLXRvcDogOHB4O1xyXG4gIHBhZGRpbmctYm90dG9tOiA4cHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgYm9yZGVyLWNvbG9yOiAjY2NjY2NjO1xyXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbn1cclxuLm5ldy1uYW1lIHtcclxuICB3aWR0aDogMTAwJTtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.ts":
/*!****************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.ts ***!
  \****************************************************************************************************/
/*! exports provided: DivideSectionDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DivideSectionDialogComponent", function() { return DivideSectionDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");
/* harmony import */ var _shared_containers_sys0_form_sys0_form_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/containers/sys0-form/sys0-form.component */ "./src/app/shared/containers/sys0-form/sys0-form.component.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _shared_validators_sys0_validation_type__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../shared/validators/sys0-validation-type */ "./src/app/shared/validators/sys0-validation-type.ts");










/**
 * セクション分割ダイアログ
 */
var DivideSectionDialogComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](DivideSectionDialogComponent, _super);
    function DivideSectionDialogComponent(controllerService, stateUtilService, wording, store) {
        var _this = _super.call(this, controllerService, stateUtilService) || this;
        _this.controllerService = controllerService;
        _this.stateUtilService = stateUtilService;
        _this.wording = wording;
        _this.store = store;
        _this.selectedValue = 0;
        _this.formBindValidatorEnabled = true;
        /**
         * ラジオボタン情報
         * ダイアログを起動させる側から設定する
         */
        _this.beforeLabel = '';
        _this.afterLabel = '';
        _this.beforeEnabled = true;
        _this.afterEnabled = true;
        _this.title = _this.wording.get('lbl.dividesection.title');
        var currentVersionLabel = _this.wording.get('lbl.dividesection.navigate');
        _this.currentVersionLabel = currentVersionLabel;
        _this.newDocName = _this.wording.get('lbl.dividesection.newdocname');
        _this.newDocContent = _this.wording.get('lbl.dividesection.newdoccontent');
        _this.prohibition = _shared_validators_sys0_validation_type__WEBPACK_IMPORTED_MODULE_9__["Sys0ValidationType"].ERROR_PROHIBITION;
        _this.docnameprohibit = _this.wording.get('warn.tooltip.docnameprohibit');
        _this.documentnamerequired = _this.wording.get('warn.tooltip.documentnamerequired');
        _this.okLabel = _this.wording.get('lbl.common.ok');
        _this.cancelLabel = _this.wording.get('lbl.common.cancel');
        return _this;
    }
    DivideSectionDialogComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
    };
    DivideSectionDialogComponent.prototype.ngAfterViewInit = function () {
        var payload = { event: event };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SharedCommand"].CreationComplete(payload, this));
    };
    DivideSectionDialogComponent.prototype.ngAfterViewChecked = function () {
        // ★Stitch V1.3対応 callLaterの実行
        this.callLaterManager.execute();
    };
    DivideSectionDialogComponent.prototype.onClickOk = function (event) {
        var payload = { event: event };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SharedCommand"].ClickOkCancel(payload, this));
    };
    DivideSectionDialogComponent.prototype.onClickCancel = function (event) {
        var payload = { event: event };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SharedCommand"].ClickOkCancel(payload, this));
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"])
    ], DivideSectionDialogComponent.prototype, "baseDialogView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_containers_sys0_form_sys0_form_component__WEBPACK_IMPORTED_MODULE_7__["Sys0FormComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_containers_sys0_form_sys0_form_component__WEBPACK_IMPORTED_MODULE_7__["Sys0FormComponent"])
    ], DivideSectionDialogComponent.prototype, "formBind", void 0);
    DivideSectionDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-divide-section-dialog',
            template: __webpack_require__(/*! ./divide-section-dialog.component.html */ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.html"),
            styles: [__webpack_require__(/*! ./divide-section-dialog.component.scss */ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__["StateUtilService"],
            _core_services_wording_service__WEBPACK_IMPORTED_MODULE_5__["WordingService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"]])
    ], DivideSectionDialogComponent);
    return DivideSectionDialogComponent;
}(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_6__["BaseDialogViewComponent"]));



/***/ }),

/***/ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.commandmap.ts":
/*!*************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.commandmap.ts ***!
  \*************************************************************************************************/
/*! exports provided: editConfirmDialogCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "editConfirmDialogCommandMap", function() { return editConfirmDialogCommandMap; });
/* harmony import */ var _commands_dialog_edit_confirm_ok_cancel_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../commands/dialog/edit-confirm-ok-cancel-command */ "./src/app/viewer/commands/dialog/edit-confirm-ok-cancel-command.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");


var editConfirmDialogCommandMap = [
    // OK、キャンセルボタン
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_1__["ViewerCommand"].ViewerActionTypes.ClickOkCancel, command: _commands_dialog_edit_confirm_ok_cancel_command__WEBPACK_IMPORTED_MODULE_0__["EditConfirmOkCancelCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.html":
/*!**************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- 編集確認ダイアログ -->\r\n<app-base-dialog-view\r\n  [self]=\"this\"\r\n  [width]=\"400\"\r\n  [height]=\"150\"\r\n  [title]=\"title\"\r\n  (clickOk)=\"onClickOkCancel($event)\"\r\n  (clickCancel)=\"onClickOkCancel($event)\"\r\n>\r\n  <div class=\"editCurrentVersion\">\r\n    <label class=\"edit-current-version-Label\" [innerHTML]=\"editCurrentVersionLabel\"></label>\r\n  </div>\r\n  <div class=\"editConfirmRadioButton\">\r\n    <p-radioButton\r\n      name=\"editConfirm\"\r\n      [value]=\"editupdate\"\r\n      [label]=\"updateoverwrite\"\r\n      class=\"editConfirmOverwrite\"\r\n      [(ngModel)]=\"editConfirmSel\"\r\n      (onClick)=\"changeValue(editupdate)\"\r\n    >\r\n    </p-radioButton>\r\n    <br />\r\n    <p-radioButton\r\n      [hidden]=\"!editVisible\"\r\n      name=\"editConfirm\"\r\n      [value]=\"editinsert\"\r\n      [label]=\"insertsection\"\r\n      class=\"editInsertsection\"\r\n      (onClick)=\"changeValue(editinsert)\"\r\n      [(ngModel)]=\"editConfirmSel\"\r\n    >\r\n    </p-radioButton>\r\n    <br />\r\n    <p-radioButton\r\n      name=\"editConfirm\"\r\n      [value]=\"editcancel\"\r\n      [label]=\"cancelupdate\"\r\n      class=\"editConfirmCancel\"\r\n      (onClick)=\"changeValue(editcancel)\"\r\n      [(ngModel)]=\"editConfirmSel\"\r\n    >\r\n    </p-radioButton>\r\n  </div>\r\n\r\n  <!-- ボタン -->\r\n  <div class=\"ui-dialog-footer\">\r\n    <p-footer class=\"button-area\">\r\n      <!-- OKボタン -->\r\n      <button\r\n        type=\"button\"\r\n        #buttonOk\r\n        pButton\r\n        class=\"button-ok button-style\"\r\n        [label]=\"buttonOkLabel\"\r\n        (click)=\"clickOkButton($event)\"\r\n      ></button>\r\n    </p-footer>\r\n  </div>\r\n</app-base-dialog-view>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.scss":
/*!**************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.scss ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".button-style {\n  margin: 8px 10px 15px 30px;\n  float: right;\n  width: 70px; }\n\n.button-area {\n  width: 100%;\n  height: 48px; }\n\n.editCurrentVersion {\n  border-style: solid;\n  border-width: 1px;\n  border-color: #cccccc;\n  font-weight: bold;\n  text-align: center;\n  line-height: 20px;\n  height: 40px; }\n\n.edit-current-version-Label {\n  margin-top: 5px;\n  margin-bottom: 5px; }\n\n.editConfirmRadioButton {\n  padding-top: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvZGlhbG9ncy9lZGl0LWNvbmZpcm0tZGlhbG9nL0M6XFxVc2Vyc1xcZzEwMDE2ODUxXFxEb2N1bWVudHNcXGFuZ3VsYXItd29ya3NwYWNlXFxzbWEtbmF2aVxcYW5ndWxhclxccnNuL3NyY1xcYXBwXFx2aWV3ZXJcXGNvbnRhaW5lcnNcXGRpYWxvZ3NcXGVkaXQtY29uZmlybS1kaWFsb2dcXGVkaXQtY29uZmlybS1kaWFsb2cuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwwQkFBMEI7RUFDMUIsWUFBWTtFQUNaLFdBQVcsRUFBQTs7QUFHYjtFQUNFLFdBQVc7RUFDWCxZQUFZLEVBQUE7O0FBR2Q7RUFDRSxtQkFBbUI7RUFDbkIsaUJBQWlCO0VBQ2pCLHFCQUFxQjtFQUNyQixpQkFBaUI7RUFDakIsa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixZQUFZLEVBQUE7O0FBR2Q7RUFDRSxlQUFlO0VBQ2Ysa0JBQWtCLEVBQUE7O0FBR3BCO0VBQ0UsaUJBQWlCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC92aWV3ZXIvY29udGFpbmVycy9kaWFsb2dzL2VkaXQtY29uZmlybS1kaWFsb2cvZWRpdC1jb25maXJtLWRpYWxvZy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idXR0b24tc3R5bGUge1xyXG4gIG1hcmdpbjogOHB4IDEwcHggMTVweCAzMHB4O1xyXG4gIGZsb2F0OiByaWdodDtcclxuICB3aWR0aDogNzBweDtcclxufVxyXG5cclxuLmJ1dHRvbi1hcmVhIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDQ4cHg7XHJcbn1cclxuXHJcbi5lZGl0Q3VycmVudFZlcnNpb24ge1xyXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgYm9yZGVyLXdpZHRoOiAxcHg7XHJcbiAgYm9yZGVyLWNvbG9yOiAjY2NjY2NjO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBsaW5lLWhlaWdodDogMjBweDtcclxuICBoZWlnaHQ6IDQwcHg7XHJcbn1cclxuXHJcbi5lZGl0LWN1cnJlbnQtdmVyc2lvbi1MYWJlbCB7XHJcbiAgbWFyZ2luLXRvcDogNXB4O1xyXG4gIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLmVkaXRDb25maXJtUmFkaW9CdXR0b24ge1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts":
/*!************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts ***!
  \************************************************************************************************/
/*! exports provided: EditConfirmDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditConfirmDialogComponent", function() { return EditConfirmDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/utils/sys0-string-util */ "./src/app/core/utils/sys0-string-util.ts");
/* harmony import */ var _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../shared/components/base-dialog-view/base-dialog-view.component */ "./src/app/shared/components/base-dialog-view/base-dialog-view.component.ts");
/* harmony import */ var _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../shared/models/confirm-update-item */ "./src/app/shared/models/confirm-update-item.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");










var EditConfirmDialogComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](EditConfirmDialogComponent, _super);
    /**
     * コンストラクタ
     * @param wording 用語解決サービス
     * @param store State定義
     * @param controllerService コマンド生成サービス
     * @param stateUtilService 状態管理サービス
     * @param cd
     */
    function EditConfirmDialogComponent(wording, 
    // private viewManager: ViewManagerService,
    store, controllerService, stateUtilService, cd) {
        var _this = _super.call(this, controllerService, stateUtilService) || this;
        _this.wording = wording;
        _this.store = store;
        _this.controllerService = controllerService;
        _this.stateUtilService = stateUtilService;
        _this.cd = cd;
        _this.sectionName = '';
        _this.updateAction = _shared_models_confirm_update_item__WEBPACK_IMPORTED_MODULE_8__["ConfirmUpdateItem"].UPDATE_OVERWRITE;
        _this.editupdate = EditConfirmDialogComponent_1.EDIT_UPDATE;
        _this.editinsert = EditConfirmDialogComponent_1.EDIT_INSERT;
        _this.editcancel = EditConfirmDialogComponent_1.EDIT_CANCEL;
        // default
        _this.editConfirmSel = 0;
        /**
         * カレントVersion
         */
        _this.editCurrentVersionLabel = _this.wording.get('lbl.appeditconfirm.message').replace('\n', '<br/>');
        /**
         * 全文検索場合別セクションとして追加する表示されない
         */
        _this.editVisible = true;
        /**
         * 編集方のラベル
         */
        _this.updateoverwrite = _this.wording.get('lbl.appeditconfirm.updateoverwrite');
        /**
         * 編集方のラベル
         */
        _this.insertsection = _this.wording.get('lbl.appeditconfirm.insertsection');
        /**
         * 編集方のラベル
         */
        _this.cancelupdate = _this.wording.get('lbl.appeditconfirm.cancelupdate');
        /**
         * OKボタン
         */
        _this.buttonOkLabel = _this.wording.get('lbl.common.ok');
        return _this;
    }
    EditConfirmDialogComponent_1 = EditConfirmDialogComponent;
    EditConfirmDialogComponent.prototype.confirm = function (confirm) {
        throw new Error('Method not implemented.');
    };
    EditConfirmDialogComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        // this.viewManager.set(ViewerViewTypes.editConfirmView, this);
        // this.controllerService.addCommandMap(this);
    };
    EditConfirmDialogComponent.prototype.showDialog = function () {
        this.display = true;
    };
    EditConfirmDialogComponent.prototype.onClickOkCancel = function ($event) {
        var payload = { event: event };
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_9__["ViewerCommand"].ClickOkCancelButton(payload, this));
    };
    EditConfirmDialogComponent.prototype.notifyChange = function () {
        this.cd.detectChanges();
    };
    EditConfirmDialogComponent.prototype.ngAfterViewInit = function () {
        this.title = this.wording.get('lbl.appeditconfirm.title') + ' - ' + _core_utils_sys0_string_util__WEBPACK_IMPORTED_MODULE_6__["Sys0StringUtil"].truncateToLength(this.sectionName, 24);
    };
    EditConfirmDialogComponent.prototype.changeValue = function (value) {
        this.editConfirmSel = value;
        this.cd.detectChanges();
    };
    var EditConfirmDialogComponent_1;
    EditConfirmDialogComponent.EDIT_UPDATE = 0;
    EditConfirmDialogComponent.EDIT_INSERT = 1;
    EditConfirmDialogComponent.EDIT_CANCEL = 2;
    EditConfirmDialogComponent.STATE_FTS = 'fts';
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_7__["BaseDialogViewComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_7__["BaseDialogViewComponent"])
    ], EditConfirmDialogComponent.prototype, "baseDialogView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('buttonOk'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], EditConfirmDialogComponent.prototype, "buttonOk", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('buttonCancel'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], EditConfirmDialogComponent.prototype, "buttonCancel", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('editConfirmArea'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", EditConfirmDialogComponent)
    ], EditConfirmDialogComponent.prototype, "pasteTypeArea", void 0);
    EditConfirmDialogComponent = EditConfirmDialogComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-edit-confirm-dialog',
            template: __webpack_require__(/*! ./edit-confirm-dialog.component.html */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.html"),
            styles: [__webpack_require__(/*! ./edit-confirm-dialog.component.scss */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_wording_service__WEBPACK_IMPORTED_MODULE_5__["WordingService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__["StateUtilService"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ChangeDetectorRef"]])
    ], EditConfirmDialogComponent);
    return EditConfirmDialogComponent;
}(_shared_components_base_dialog_view_base_dialog_view_component__WEBPACK_IMPORTED_MODULE_7__["BaseDialogViewComponent"]));



/***/ }),

/***/ "./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.html":
/*!********************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  full-text-dialog works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.scss":
/*!********************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.scss ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdlci9jb250YWluZXJzL2RpYWxvZ3MvZnVsbC10ZXh0LWRpYWxvZy9mdWxsLXRleHQtZGlhbG9nLmNvbXBvbmVudC5zY3NzIn0= */"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.ts":
/*!******************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.ts ***!
  \******************************************************************************************/
/*! exports provided: FullTextDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FullTextDialogComponent", function() { return FullTextDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var FullTextDialogComponent = /** @class */ (function () {
    function FullTextDialogComponent() {
    }
    FullTextDialogComponent.prototype.ngOnInit = function () {
    };
    FullTextDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-full-text-dialog',
            template: __webpack_require__(/*! ./full-text-dialog.component.html */ "./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.html"),
            styles: [__webpack_require__(/*! ./full-text-dialog.component.scss */ "./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], FullTextDialogComponent);
    return FullTextDialogComponent;
}());



/***/ }),

/***/ "./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.html":
/*!**********************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.html ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<p>\r\n  viewer-circulate-dialog works!\r\n</p>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.scss":
/*!**********************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.scss ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZpZXdlci9jb250YWluZXJzL2RpYWxvZ3Mvdmlld2VyLWNpcmN1bGF0ZS1kaWFsb2cvdmlld2VyLWNpcmN1bGF0ZS1kaWFsb2cuY29tcG9uZW50LnNjc3MifQ== */"

/***/ }),

/***/ "./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.ts":
/*!********************************************************************************************************!*\
  !*** ./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.ts ***!
  \********************************************************************************************************/
/*! exports provided: ViewerCirculateDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerCirculateDialogComponent", function() { return ViewerCirculateDialogComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");


var ViewerCirculateDialogComponent = /** @class */ (function () {
    function ViewerCirculateDialogComponent() {
    }
    ViewerCirculateDialogComponent.prototype.ngOnInit = function () {
    };
    ViewerCirculateDialogComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewer-circulate-dialog',
            template: __webpack_require__(/*! ./viewer-circulate-dialog.component.html */ "./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.html"),
            styles: [__webpack_require__(/*! ./viewer-circulate-dialog.component.scss */ "./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], ViewerCirculateDialogComponent);
    return ViewerCirculateDialogComponent;
}());



/***/ }),

/***/ "./src/app/viewer/containers/main-view/main-view-commandmap.ts":
/*!*********************************************************************!*\
  !*** ./src/app/viewer/containers/main-view/main-view-commandmap.ts ***!
  \*********************************************************************/
/*! exports provided: mainViewCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mainViewCommandMap", function() { return mainViewCommandMap; });
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_start_export_section_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../commands/start-export-section-command */ "./src/app/viewer/commands/start-export-section-command.ts");
/* harmony import */ var _main_commands_menu_print_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../main/commands/menu/print-command */ "./src/app/main/commands/menu/print-command.ts");



var mainViewCommandMap = [
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.DownloadObject, command: _commands_start_export_section_command__WEBPACK_IMPORTED_MODULE_1__["StartExportSectionCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Print, command: _main_commands_menu_print_command__WEBPACK_IMPORTED_MODULE_2__["PrintCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/main-view/main-view.component.html":
/*!**********************************************************************!*\
  !*** ./src/app/viewer/containers/main-view/main-view.component.html ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- メインエリアのビュー -->\r\n<div class=\"mainView\">\r\n  <!-- MessageAreaView -->\r\n  <app-message-area-view #messageArea></app-message-area-view>\r\n  <input #fileUpload type=\"file\" [hidden]=\"true\" multiple />\r\n\r\n  <!-- サムネイル一覧とPDFビューアを表示する -->\r\n  <div class=\"mainPanelDivide\">\r\n    <as-split unit=\"pixel\">\r\n      <as-split-area size=\"208\" minSize=\"208\">\r\n        <!-- ThumbnailView -->\r\n        <app-thumbnail-view #thumbnailView></app-thumbnail-view>\r\n      </as-split-area>\r\n      <as-split-area size=\"*\">\r\n        <!-- PdfView -->\r\n        <!-- ★Stitch V1.3対応 UIComponentのfocusEnabled属性(タブキー操作)をtabIndexに負の数を設定して対応 -->\r\n        <app-pdf-view #pdfView tabIndex=\"-1\"></app-pdf-view>\r\n      </as-split-area>\r\n    </as-split>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/main-view/main-view.component.scss":
/*!**********************************************************************!*\
  !*** ./src/app/viewer/containers/main-view/main-view.component.scss ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".mainView {\n  width: 100%;\n  height: 100%;\n  min-width: 352px;\n  display: flex;\n  flex-direction: column; }\n  .mainView app-message-area-view {\n    width: 100%;\n    height: 72px;\n    min-width: 620px; }\n  .mainView .mainPanelDivide {\n    width: 100%;\n    min-width: 280px;\n    flex-grow: 1; }\n  app-thumbnail-view {\n  width: 206px;\n  height: 100%; }\n  app-pdf-view {\n  width: 100%;\n  height: 100%;\n  min-width: 620px; }\n  :host ::ng-deep .as-split-gutter {\n  background-color: white !important; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvbWFpbi12aWV3L0M6XFxVc2Vyc1xcZzEwMDE2ODUxXFxEb2N1bWVudHNcXGFuZ3VsYXItd29ya3NwYWNlXFxzbWEtbmF2aVxcYW5ndWxhclxccnNuL3NyY1xcYXBwXFx2aWV3ZXJcXGNvbnRhaW5lcnNcXG1haW4tdmlld1xcbWFpbi12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixnQkFBZ0I7RUFHaEIsYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBUHhCO0lBVUksV0FBVztJQUNYLFlBYnNCO0lBY3RCLGdCQUFnQixFQUFBO0VBWnBCO0lBa0JJLFdBQVc7SUFFWCxnQkFBZ0I7SUFHaEIsWUFBWSxFQUFBO0VBSWhCO0VBQ0UsWUFBWTtFQUNaLFlBQVksRUFBQTtFQUdkO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixnQkFBZ0IsRUFBQTtFQUdsQjtFQUlJLGtDQUFrQyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvbWFpbi12aWV3L21haW4tdmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRtZXNzYWdlLWFyZWEtaGVpZ2h0OiA3MnB4O1xyXG5cclxuLm1haW5WaWV3IHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgbWluLXdpZHRoOiAzNTJweDtcclxuXHJcbiAgLy8g57im5Lim44G5XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICBhcHAtbWVzc2FnZS1hcmVhLXZpZXcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6ICRtZXNzYWdlLWFyZWEtaGVpZ2h0O1xyXG4gICAgbWluLXdpZHRoOiA2MjBweDtcclxuXHJcbiAgICAvLyDjg6Hjg4Pjgrvjg7zjgrjjgqjjg6rjgqLjga/lm7rlrprpq5jjgZVcclxuICB9XHJcblxyXG4gIC5tYWluUGFuZWxEaXZpZGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICAvLyBoZWlnaHQ6IDEwMCU7XHJcbiAgICBtaW4td2lkdGg6IDI4MHB4O1xyXG5cclxuICAgIC8vIOODkeODjeODq+mDqOWIhuOBr+aui+OCiuOBrumrmOOBleWFqOmDqFxyXG4gICAgZmxleC1ncm93OiAxO1xyXG4gIH1cclxufVxyXG5cclxuYXBwLXRodW1ibmFpbC12aWV3IHtcclxuICB3aWR0aDogMjA2cHg7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG5hcHAtcGRmLXZpZXcge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBtaW4td2lkdGg6IDYyMHB4O1xyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAge1xyXG4gIC5hcy1zcGxpdC1ndXR0ZXIge1xyXG4gICAgLy8gYXMtc3BsaXTjgYzjgqjjg6zjg6Hjg7Pjg4joh6rouqvjga5zdHlsZeOBqOOBl+OBpuiJsuOCkuioreWumuOBl+OBpuOBl+OBvuOBhuOBn+OCgVxyXG4gICAgLy8gIWltcG9ydGFudOOBp+S4iuabuOOBjeOBmeOCi+W/heimgeOBjOOBguOCi+OAglxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGUgIWltcG9ydGFudDtcclxuICB9XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/viewer/containers/main-view/main-view.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/viewer/containers/main-view/main-view.component.ts ***!
  \********************************************************************/
/*! exports provided: MainViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainViewComponent", function() { return MainViewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/services/view-manager.service */ "./src/app/core/services/view-manager.service.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _message_area_view_message_area_view_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../message-area-view/message-area-view.component */ "./src/app/viewer/containers/message-area-view/message-area-view.component.ts");
/* harmony import */ var _pdf_pdf_view_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../pdf/pdf-view.component */ "./src/app/viewer/containers/pdf/pdf-view.component.ts");
/* harmony import */ var _thumbnail_thumbnail_view_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../thumbnail/thumbnail-view.component */ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.ts");










var MainViewComponent = /** @class */ (function () {
    function MainViewComponent(store, controller, viewManager) {
        this.store = store;
        this.controller = controller;
        this.viewManager = viewManager;
        // コマンドマップ
        this.commandMapDef = [];
    }
    MainViewComponent.prototype.ngOnInit = function () {
        this.viewManager.set(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_6__["ViewerViewTypes"].MainView, this);
        this.controller.addCommandMap(this);
    };
    // ★Stitch V1.3対応 移植元からイベントを追加
    /**
     * ダウンロードイベント処理
     *
     * @param event イベント
     */
    MainViewComponent.prototype.onDownloadObject = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_5__["SharedCommand"].DownloadObject(event, this));
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('messageArea'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _message_area_view_message_area_view_component__WEBPACK_IMPORTED_MODULE_7__["MessageAreaViewComponent"])
    ], MainViewComponent.prototype, "messageArea", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('thumbnailView'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _thumbnail_thumbnail_view_component__WEBPACK_IMPORTED_MODULE_9__["ThumbnailViewComponent"])
    ], MainViewComponent.prototype, "thumbnailView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('pdfView'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _pdf_pdf_view_component__WEBPACK_IMPORTED_MODULE_8__["PdfViewComponent"])
    ], MainViewComponent.prototype, "pdfView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('fileUpload'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ElementRef"])
    ], MainViewComponent.prototype, "fileUpload", void 0);
    MainViewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-main-view',
            template: __webpack_require__(/*! ./main-view.component.html */ "./src/app/viewer/containers/main-view/main-view.component.html"),
            styles: [__webpack_require__(/*! ./main-view.component.scss */ "./src/app/viewer/containers/main-view/main-view.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"], _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"], _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_4__["ViewManagerService"]])
    ], MainViewComponent);
    return MainViewComponent;
}());



/***/ }),

/***/ "./src/app/viewer/containers/message-area-view/message-area-view.component.html":
/*!**************************************************************************************!*\
  !*** ./src/app/viewer/containers/message-area-view/message-area-view.component.html ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- ビューア画面 メッセージエリア -->\r\n<div class=\"messageAreaView\">\r\n  <!-- 文書名 -->\r\n  <p class=\"documentName\">{{ documentName }}</p>\r\n  <!-- messageArea -->\r\n  <app-message-area #messageArea></app-message-area>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/message-area-view/message-area-view.component.scss":
/*!**************************************************************************************!*\
  !*** ./src/app/viewer/containers/message-area-view/message-area-view.component.scss ***!
  \**************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".messageAreaView {\n  display: flex;\n  align-items: center;\n  height: 100%; }\n\napp-message-area {\n  width: 330px;\n  height: 100%;\n  display: flex;\n  align-items: center; }\n\n.documentName {\n  width: 300px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvbWVzc2FnZS1hcmVhLXZpZXcvQzpcXFVzZXJzXFxnMTAwMTY4NTFcXERvY3VtZW50c1xcYW5ndWxhci13b3Jrc3BhY2VcXHNtYS1uYXZpXFxhbmd1bGFyXFxyc24vc3JjXFxhcHBcXHZpZXdlclxcY29udGFpbmVyc1xcbWVzc2FnZS1hcmVhLXZpZXdcXG1lc3NhZ2UtYXJlYS12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixZQUFZLEVBQUE7O0FBR2Q7RUFDRSxZQUFZO0VBQ1osWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUIsRUFBQTs7QUFHckI7RUFDRSxZQUFZO0VBR1osZ0JBQWdCO0VBQ2hCLHVCQUF1QjtFQUN2QixtQkFBbUIsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3ZpZXdlci9jb250YWluZXJzL21lc3NhZ2UtYXJlYS12aWV3L21lc3NhZ2UtYXJlYS12aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lc3NhZ2VBcmVhVmlldyB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuYXBwLW1lc3NhZ2UtYXJlYSB7XHJcbiAgd2lkdGg6IDMzMHB4O1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5kb2N1bWVudE5hbWUge1xyXG4gIHdpZHRoOiAzMDBweDtcclxuICAvLyDimIVTdGl0Y2ggVjEuM+WvvuW/nFxyXG4gIC8vIEZsZXjniYggTGFiZWzjga50cnVuY2F0ZVRvRml05bGe5oCnKOihqOekuuaWh+Wtl+OBruecgeeVpeihqOekuinjgpJvdmVyZmxvd+OAgXRleHQtb3ZlcmZsb3fjgIF3aGl0ZS1zcGFjZeOBp+WvvuW/nFxyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/viewer/containers/message-area-view/message-area-view.component.ts":
/*!************************************************************************************!*\
  !*** ./src/app/viewer/containers/message-area-view/message-area-view.component.ts ***!
  \************************************************************************************/
/*! exports provided: MessageAreaViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessageAreaViewComponent", function() { return MessageAreaViewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _shared_components_message_area_message_area_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/components/message-area/message-area.component */ "./src/app/shared/components/message-area/message-area.component.ts");



/**
 * ビューア画面 ナビゲーションメッセージ表示エリア
 */
var MessageAreaViewComponent = /** @class */ (function () {
    function MessageAreaViewComponent() {
        /**
         * 文書名
         */
        this.documentName = '';
    }
    MessageAreaViewComponent.prototype.ngOnInit = function () { };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])('messageArea'),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_message_area_message_area_component__WEBPACK_IMPORTED_MODULE_2__["MessageAreaComponent"])
    ], MessageAreaViewComponent.prototype, "messageArea", void 0);
    MessageAreaViewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-message-area-view',
            template: __webpack_require__(/*! ./message-area-view.component.html */ "./src/app/viewer/containers/message-area-view/message-area-view.component.html"),
            styles: [__webpack_require__(/*! ./message-area-view.component.scss */ "./src/app/viewer/containers/message-area-view/message-area-view.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [])
    ], MessageAreaViewComponent);
    return MessageAreaViewComponent;
}());



/***/ }),

/***/ "./src/app/viewer/containers/pdf/pdf-view.commandmap.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/containers/pdf/pdf-view.commandmap.ts ***!
  \**************************************************************/
/*! exports provided: pdfViewCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "pdfViewCommandMap", function() { return pdfViewCommandMap; });
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_pdf_show_pdf_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../commands/pdf/show-pdf-command */ "./src/app/viewer/commands/pdf/show-pdf-command.ts");


var pdfViewCommandMap = [
    // PDF表示
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.ShowPdf, command: _commands_pdf_show_pdf_command__WEBPACK_IMPORTED_MODULE_1__["ShowPdfCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/pdf/pdf-view.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/viewer/containers/pdf/pdf-view.component.ts ***!
  \*************************************************************/
/*! exports provided: PdfViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PdfViewComponent", function() { return PdfViewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_logger_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/services/logger.service */ "./src/app/core/services/logger.service.ts");
/* harmony import */ var _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/services/view-manager.service */ "./src/app/core/services/view-manager.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _shared_components_pdf_view_base_pdf_view_base_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../../../shared/components/pdf-view-base/pdf-view-base.component */ "./src/app/shared/components/pdf-view-base/pdf-view-base.component.ts");
/* harmony import */ var _dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./../dialogs/confirm-update-dialog/confirm-update-dialog.component */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.ts");












/**
 * PDF表示エリアのコンポーネント
 *
 * ★Stitch V1.3 対応
 * 以下メソッドは未使用のため削除
 * isShowPopup
 */
var PdfViewComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](PdfViewComponent, _super);
    /**
     * コンストラクタ
     * @param viewManager View管理サービス
     * @param logger
     * @param wording
     * @param store
     * @param controller Command生成・実行サービス
     */
    function PdfViewComponent(viewManager, logger, wording, store, controller) {
        var _this = _super.call(this, viewManager, logger, wording, store) || this;
        _this.viewManager = viewManager;
        _this.logger = logger;
        _this.wording = wording;
        _this.store = store;
        _this.controller = controller;
        _this.commandMapDef = [];
        /**
         * モデルロケーター
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_9__["ViewerModelLocatorService"].getInstance();
        return _this;
    }
    /**
     * ライフサイクルフック：初期化
     */
    PdfViewComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        this.viewManager.set(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].PdfView, this);
        this.controller.addCommandMap(this);
    };
    /**
     * ライフサイクルフック：破棄前
     */
    PdfViewComponent.prototype.ngOnDestroy = function () {
        this.controller.deleteCommandMap(this);
    };
    /**
     * PDF表示イベントハンドラー
     * @param event イベント
     */
    PdfViewComponent.prototype.showPdfHandler = function (event) {
        var payload = { event: event };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_7__["SharedCommand"].ShowPdf(payload));
    };
    Object.defineProperty(PdfViewComponent.prototype, "isShowPopup", {
        get: function () {
            var viewerView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].Root);
            return _dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_11__["ConfirmUpdateDialogComponent"].isShowDialog || viewerView.isShowPopup;
        },
        enumerable: true,
        configurable: true
    });
    PdfViewComponent.prototype.getSectionVO = function () {
        var sectionListView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_8__["ViewerViewTypes"].SectionView);
        return sectionListView.thumbnailList.selectedItem;
    };
    Object.defineProperty(PdfViewComponent.prototype, "isShowPdf", {
        get: function () {
            return this.locator.showPdf;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(PdfViewComponent.prototype, "rightClick", {
        get: function () {
            return this.locator.rightClick;
        },
        enumerable: true,
        configurable: true
    });
    PdfViewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-pdf-view',
            template: __webpack_require__(/*! ../../../shared/components/pdf-view-base/pdf-view-base.component.html */ "./src/app/shared/components/pdf-view-base/pdf-view-base.component.html"),
            styles: [__webpack_require__(/*! ../../../shared/components/pdf-view-base/pdf-view-base.component.scss */ "./src/app/shared/components/pdf-view-base/pdf-view-base.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_5__["ViewManagerService"],
            _core_services_logger_service__WEBPACK_IMPORTED_MODULE_4__["Logger"],
            _core_services_wording_service__WEBPACK_IMPORTED_MODULE_6__["WordingService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"]])
    ], PdfViewComponent);
    return PdfViewComponent;
}(_shared_components_pdf_view_base_pdf_view_base_component__WEBPACK_IMPORTED_MODULE_10__["PdfViewBaseComponent"]));



/***/ }),

/***/ "./src/app/viewer/containers/section/section-view.commandmap.ts":
/*!**********************************************************************!*\
  !*** ./src/app/viewer/containers/section/section-view.commandmap.ts ***!
  \**********************************************************************/
/*! exports provided: sectionViewCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "sectionViewCommandMap", function() { return sectionViewCommandMap; });
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_thumbnail_section_click_select_section_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../commands/thumbnail/section/click-select-section-command */ "./src/app/viewer/commands/thumbnail/section/click-select-section-command.ts");
/* harmony import */ var _commands_thumbnail_section_edit_mode_export_section_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../commands/thumbnail/section/edit-mode-export-section-command */ "./src/app/viewer/commands/thumbnail/section/edit-mode-export-section-command.ts");
/* harmony import */ var _commands_thumbnail_section_get_section_thumbnail_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../commands/thumbnail/section/get-section-thumbnail-command */ "./src/app/viewer/commands/thumbnail/section/get-section-thumbnail-command.ts");
/* harmony import */ var _commands_thumbnail_section_insert_section_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../commands/thumbnail/section/insert-section-command */ "./src/app/viewer/commands/thumbnail/section/insert-section-command.ts");
/* harmony import */ var _commands_thumbnail_section_move_section_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../commands/thumbnail/section/move-section-command */ "./src/app/viewer/commands/thumbnail/section/move-section-command.ts");
/* harmony import */ var _commands_thumbnail_section_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../commands/thumbnail/section/open-app-export-section-command */ "./src/app/viewer/commands/thumbnail/section/open-app-export-section-command.ts");
/* harmony import */ var _commands_thumbnail_section_open_fts_export_section__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../commands/thumbnail/section/open-fts-export-section */ "./src/app/viewer/commands/thumbnail/section/open-fts-export-section.ts");
/* harmony import */ var _commands_thumbnail_section_rename_section_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../commands/thumbnail/section/rename-section-command */ "./src/app/viewer/commands/thumbnail/section/rename-section-command.ts");
/* harmony import */ var _commands_thumbnail_section_section_change_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../commands/thumbnail/section/section-change-command */ "./src/app/viewer/commands/thumbnail/section/section-change-command.ts");
/* harmony import */ var _commands_thumbnail_section_section_drag_drop_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../commands/thumbnail/section/section-drag-drop-command */ "./src/app/viewer/commands/thumbnail/section/section-drag-drop-command.ts");
/* harmony import */ var _commands_thumbnail_section_section_item_click_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../commands/thumbnail/section/section-item-click-command */ "./src/app/viewer/commands/thumbnail/section/section-item-click-command.ts");
/* harmony import */ var _commands_thumbnail_upload_command__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../commands/thumbnail/upload-command */ "./src/app/viewer/commands/thumbnail/upload-command.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");














var sectionViewCommandMap = [
    // Changeイベント
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Change, command: _commands_thumbnail_section_section_change_command__WEBPACK_IMPORTED_MODULE_9__["SectionChangeCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.GetSectionThumbnail, command: _commands_thumbnail_section_get_section_thumbnail_command__WEBPACK_IMPORTED_MODULE_3__["GetSectionThumbnailCommand"] },
    // itemClick
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.ItemClick, command: _commands_thumbnail_section_section_item_click_command__WEBPACK_IMPORTED_MODULE_11__["SectionItemClickCommand"] },
    // DragDrop
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.DragDrop, command: _commands_thumbnail_section_section_drag_drop_command__WEBPACK_IMPORTED_MODULE_10__["SectionDragDropCommand"] },
    // 名前変更
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.TextInputFocusOut, command: _commands_thumbnail_section_rename_section_command__WEBPACK_IMPORTED_MODULE_8__["RenameSectionCommand"] },
    // セクション移動
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.MoveObject, command: _commands_thumbnail_section_move_section_command__WEBPACK_IMPORTED_MODULE_5__["MoveSectionCommand"] },
    // セクション追加
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.InsertSection, command: _commands_thumbnail_section_insert_section_command__WEBPACK_IMPORTED_MODULE_4__["InsertSectionCommand"] },
    // 審査/承認
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // { action: SharedCommand.SharedActionTypes.Approve, command: ViewerShowCirculateDialogCommand },
    // 差し戻し
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // { action: SharedCommand.SharedActionTypes.PassBack, command: ViewerShowCirculateDialogCommand },
    // アップロード
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.UploadEnd, command: _commands_thumbnail_upload_command__WEBPACK_IMPORTED_MODULE_12__["UploadCommand"] },
    // 編集モード中のセクションダウンロード
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.DownloadObject, command: _commands_thumbnail_section_edit_mode_export_section_command__WEBPACK_IMPORTED_MODULE_2__["EditModeExportSectionCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.OpenApplication, command: _commands_thumbnail_section_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_6__["OpenAppExportSectionCommand"] },
    // アプリケーションでセクションを表示
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.OpenAppDownload, command: _commands_thumbnail_section_open_app_export_section_command__WEBPACK_IMPORTED_MODULE_6__["OpenAppExportSectionCommand"] },
    // 全文データをアプリで開く
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.OpenFtsData, command: _commands_thumbnail_section_open_fts_export_section__WEBPACK_IMPORTED_MODULE_7__["OpenFtsExportSection"] },
    // セクション選択ボタン
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.ClickSelectButton, command: _commands_thumbnail_section_click_select_section_command__WEBPACK_IMPORTED_MODULE_1__["ClickSelectSectionCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/section/section-view.component.html":
/*!***********************************************************************!*\
  !*** ./src/app/viewer/containers/section/section-view.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-drag-drop-view [self]=\"this\">\r\n  <span class=\"container\">\r\n    <div class=\"section-header\">\r\n      <div class=\"select-button-area\">\r\n        <button pButton class=\"select-prev-button\" [disabled]=\"!selectPrevButtonDisabled\" (click)=\"onSelectPrevClick($event)\"></button>\r\n        <span class=\"section-count-label\">{{ sectionNo }} / {{ locator.sectionCount }}</span>\r\n        <button pButton class=\"select-next-button\" [disabled]=\"!selectNextButtonDisabled\" (click)=\"onSelectNextClick($event)\"></button>\r\n      </div>\r\n      <div class=\"separator\" [hidden]=\"!moveButtonVisible\"><div class=\"vRule\"></div></div>\r\n      <div class=\"move-button-area\" [hidden]=\"!moveButtonVisible\">\r\n        <button pButton class=\"move-forward-button\" [disabled]=\"!moveForwardButtonDisabled\" (click)=\"onMoveForwardClick($event)\"></button>\r\n        <span class=\"move-button-padding\"></span>\r\n        <button pButton class=\"move-next-button\" [disabled]=\"!moveNextButtonDisabled\" (click)=\"onMoveNextClick($event)\"></button>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <div class=\"thumbnail-area\">\r\n      <app-sys0-thumbnail-list\r\n        #thumbnailList\r\n        [contextMenu]=\"currentContextMenu\"\r\n        [columnWidth]=\"190\"\r\n        [rowHeight]=\"180\"\r\n        [dragEnabled]=\"true\"\r\n        [dropEnabled]=\"true\"\r\n        [doubleClickEnabled]=\"true\"\r\n        [allowMultipleSelection]=\"true\"\r\n        [showMainSelect]=\"true\"\r\n        [dataProvider]=\"locator.sectionList\"\r\n        [getThumbnailFunction]=\"getThumbnailFunction\"\r\n        [tabEnabled]=\"false\"\r\n        (dragDrop)=\"onDragDrop($event)\"\r\n        (change)=\"onChange($event)\"\r\n        (itemClick)=\"onItemClick($event)\"\r\n      >\r\n        <!--  ★Stitch V1.3対応 Flex版ではcssの指定(そもそもcssの中身が不明)も行っているが、ThumbnailItemRenderの実装方式が不明なためいったん指定なしとする -->\r\n        <!--\r\n      ★Stitch V1.3対応 Flex版ではmxml上でclickSectionTag()をoverrideしているが、Angularは別の方式で実現\r\n      clickSectionTagメソッドをInputとして渡して、ThumbnailItemRendererComponent側のclickSectionTag()メソッド実行時に\r\n      Inputで渡されたメソッドを実行するように変更\r\n      item.iconはNull場合を判定する\r\n    -->\r\n        <ng-template let-item=\"item\">\r\n          <app-thumbnail-item-renderer\r\n            *ngIf=\"item.icon != null\"\r\n            [data]=\"item\"\r\n            [tabEnabled]=\"false\"\r\n            [prohibitionError]=\"prohibitionErrorString\"\r\n            [requiredError]=\"requiredErrorString\"\r\n            [enableTagDoubleClick]=\"true\"\r\n            [enableTagClick]=\"true\"\r\n            [clickSectionTagFunction]=\"clickSectionTag\"\r\n            (tagDoubleClick)=\"tagDoubleClickHandler($event)\"\r\n            (mouseEnter)=\"onMouseEnter($event)\"\r\n            (doubleClick)=\"onDoubleClick($event)\"\r\n            (drawStart)=\"onDrawStart($event)\"\r\n          ></app-thumbnail-item-renderer>\r\n        </ng-template>\r\n      </app-sys0-thumbnail-list>\r\n    </div>\r\n    <!-- ★Stitch V1.3対応　承認機能は実装しないためコメントアウト -->\r\n    <!--\r\n<div class=\"approve-area\">\r\n\t<mx:VBox id=\"approveArea\" width=\"100%\" height=\"90\" verticalScrollPolicy=\"off\" verticalGap=\"0\"\r\n\t\tincludeInLayout=\"{locator.useWorkFlowButton}\" visible=\"{locator.useWorkFlowButton}\">\r\n\r\n\t\t<mx:Box height=\"5\" width=\"100%\" styleName=\"approvePanelDivide\"/>\r\n\r\n\t\t<mx:Panel width=\"100%\" height=\"90\" title=\"{resourceManager.getString(Sys0Application.SYS0_RESOURCES,'lbl.approvepanel.title')}\"\r\n\t\t\t styleName=\"approvePanel\" verticalGap=\"0\">\r\n\t\t\t<mx:VBox width=\"100%\" height=\"100%\" styleName=\"approvePanelContentsArea\"\r\n\t\t\t\thorizontalAlign=\"center\" verticalGap=\"0\">\r\n\t\t\t\t<mx:HBox width=\"100%\" height=\"100%\" styleName=\"approvePanelContentsArea\"\r\n\t\t\t\tpaddingBottom=\"0\" paddingTop=\"0\" horizontalAlign=\"center\">\r\n\t\t\t\t\t<mx:RadioButton label=\"{resourceManager.getString(Sys0Application.SYS0_RESOURCES,'lbl.approvepanel.approve')}\" height=\"15\" selected=\"true\" id=\"approve\"/>\r\n\t\t\t\t\t<mx:RadioButton label=\"{resourceManager.getString(Sys0Application.SYS0_RESOURCES,'lbl.approvepanel.passback')}\" height=\"15\" id=\"passback\"/>\r\n\t\t\t\t</mx:HBox>\r\n\t\t\t\t<mx:HBox width=\"100%\" height=\"100%\" styleName=\"approvePanelContentsArea\"\r\n\t\t\t\tpaddingBottom=\"10\" paddingTop=\"0\" horizontalAlign=\"right\">\r\n\t\t\t\t\t<mx:Button label=\"{resourceManager.getString(Sys0Application.SYS0_RESOURCES,'lbl.approvepanel.action')}\" width=\"80\" styleName=\"okButton\" click=\"clickButton(event);\" />\r\n\t\t\t\t</mx:HBox>\r\n\t\t\t</mx:VBox>\r\n\t\t</mx:Panel>\r\n\t</mx:VBox>\r\n</div>\r\n-->\r\n    <div [hidden]=\"!iFrameVisible\">\r\n      <app-drag-drop-view>\r\n        <app-drag-area-button></app-drag-area-button>\r\n        <app-i-frame\r\n          id=\"iFrame\"\r\n          width=\"100%\"\r\n          height=\"70px\"\r\n          visible=\"false\"\r\n          [uploadStartFunction]=\"getUploadStartFunction\"\r\n          (uploadEnd)=\"onUploadEnd($event)\"\r\n        >\r\n        </app-i-frame>\r\n      </app-drag-drop-view>\r\n    </div>\r\n  </span>\r\n</app-drag-drop-view>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/section/section-view.component.scss":
/*!***********************************************************************!*\
  !*** ./src/app/viewer/containers/section/section-view.component.scss ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".base-btn, :host ::ng-deep .section-header .select-button-area .select-prev-button, :host ::ng-deep .section-header .select-button-area .select-next-button, :host ::ng-deep .section-header .move-button-area .move-forward-button, :host ::ng-deep .section-header .move-button-area .move-next-button {\n  background-repeat: no-repeat;\n  background-color: transparent;\n  width: 16px;\n  height: 16px;\n  color: transparent;\n  border: 0 none;\n  outline: 0 none;\n  padding: 0 none;\n  margin: auto; }\n\n.container {\n  display: flex;\n  flex-direction: column;\n  height: 100%; }\n\n.container .thumbnail-area {\n    height: 340px;\n    flex-grow: 1;\n    width: 100%; }\n\n:host ::ng-deep .section-header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between; }\n\n:host ::ng-deep .section-header .select-button-area {\n    display: flex;\n    align-items: center; }\n\n:host ::ng-deep .section-header .select-button-area .section-count-label {\n      padding-left: 2px;\n      padding-right: 2px; }\n\n:host ::ng-deep .section-header .select-button-area .select-prev-button {\n      background-image: url(\"/assets/arrow-left_n.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-prev-button:hover {\n      background-image: url(\"/assets/arrow-left_o.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-prev-button:active {\n      background-image: url(\"/assets/arrow-left_p.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-prev-button:disabled {\n      background-image: url(\"/assets/arrow-left_d.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-next-button {\n      background-image: url(\"/assets/arrow-right_n.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-next-button:hover {\n      background-image: url(\"/assets/arrow-right_o.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-next-button:active {\n      background-image: url(\"/assets/arrow-right_p.png\"); }\n\n:host ::ng-deep .section-header .select-button-area .select-next-button:disabled {\n      background-image: url(\"/assets/arrow-right_d.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-button-padding {\n    padding-left: 15px;\n    padding-right: 0px; }\n\n:host ::ng-deep .section-header .move-button-area .move-forward-button {\n    width: 28px;\n    height: 20px;\n    background-image: url(\"/assets/movesection_L_n.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-forward-button:hover {\n    background-image: url(\"/assets/movesection_L_o.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-forward-button:active {\n    background-image: url(\"/assets/movesection_L_p.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-forward-button:disabled {\n    background-image: url(\"/assets/movesection_L_d.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-next-button {\n    width: 28px;\n    height: 20px;\n    background-image: url(\"/assets/movesection_R_n.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-next-button:hover {\n    background-image: url(\"/assets/movesection_R_o.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-next-button:active {\n    background-image: url(\"/assets/movesection_R_p.png\"); }\n\n:host ::ng-deep .section-header .move-button-area .move-next-button:disabled {\n    background-image: url(\"/assets/movesection_R_d.png\"); }\n\n.vRule {\n  border-right: 1px solid #c4cccc;\n  height: 18px;\n  width: 1px;\n  box-shadow: 1px 0px #eeeeee; }\n\n.dragDropBtn {\n  width: 100%;\n  height: 10px; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvc2VjdGlvbi9DOlxcVXNlcnNcXGcxMDAxNjg1MVxcRG9jdW1lbnRzXFxhbmd1bGFyLXdvcmtzcGFjZVxcc21hLW5hdmlcXGFuZ3VsYXJcXHJzbi9zcmNcXGFwcFxcdmlld2VyXFxjb250YWluZXJzXFxzZWN0aW9uXFxzZWN0aW9uLXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDRSw0QkFBNEI7RUFDNUIsNkJBQTZCO0VBQzdCLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGNBQWM7RUFDZCxlQUFlO0VBQ2YsZUFBZTtFQUNmLFlBQVksRUFBQTs7QUFHZDtFQUVFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsWUFBWSxFQUFBOztBQUpkO0lBV0ksYUFBYTtJQUViLFlBQVk7SUFDWixXQUFXLEVBQUE7O0FBSWY7RUFFRSxhQUFhO0VBQ2IsbUJBQW1CO0VBRW5CLDhCQUE4QixFQUFBOztBQUxoQztJQVNJLGFBQWE7SUFFYixtQkFBbUIsRUFBQTs7QUFYdkI7TUFlTSxpQkFBaUI7TUFDakIsa0JBQWtCLEVBQUE7O0FBaEJ4QjtNQXNCTSxpREFBaUQsRUFBQTs7QUF0QnZEO01BeUJNLGlEQUFpRCxFQUFBOztBQXpCdkQ7TUE0Qk0saURBQWlELEVBQUE7O0FBNUJ2RDtNQStCTSxpREFBaUQsRUFBQTs7QUEvQnZEO01BcUNNLGtEQUFrRCxFQUFBOztBQXJDeEQ7TUF3Q00sa0RBQWtELEVBQUE7O0FBeEN4RDtNQTJDTSxrREFBa0QsRUFBQTs7QUEzQ3hEO01BOENNLGtEQUFrRCxFQUFBOztBQTlDeEQ7SUFzRE0sa0JBQWtCO0lBQ2xCLGtCQUFrQixFQUFBOztBQXZEeEI7SUE2RE0sV0FBVztJQUNYLFlBQVk7SUFDWixvREFBb0QsRUFBQTs7QUEvRDFEO0lBa0VNLG9EQUFvRCxFQUFBOztBQWxFMUQ7SUFxRU0sb0RBQW9ELEVBQUE7O0FBckUxRDtJQXdFTSxvREFBb0QsRUFBQTs7QUF4RTFEO0lBOEVNLFdBQVc7SUFDWCxZQUFZO0lBQ1osb0RBQW9ELEVBQUE7O0FBaEYxRDtJQW1GTSxvREFBb0QsRUFBQTs7QUFuRjFEO0lBc0ZNLG9EQUFvRCxFQUFBOztBQXRGMUQ7SUF5Rk0sb0RBQW9ELEVBQUE7O0FBTTFEO0VBQ0UsK0JBQStCO0VBQy9CLFlBQVk7RUFDWixVQUFVO0VBQ1YsMkJBQTJCLEVBQUE7O0FBSTdCO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL3ZpZXdlci9jb250YWluZXJzL3NlY3Rpb24vc2VjdGlvbi12aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g44Oc44K/44Oz44Gu57aZ5om/44K544K/44Kk44OrXHJcbi5iYXNlLWJ0biB7XHJcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICB3aWR0aDogMTZweDtcclxuICBoZWlnaHQ6IDE2cHg7XHJcbiAgY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlcjogMCBub25lO1xyXG4gIG91dGxpbmU6IDAgbm9uZTtcclxuICBwYWRkaW5nOiAwIG5vbmU7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4uY29udGFpbmVyIHtcclxuICAvLyDnuKbmj4PjgYhcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG5cclxuICAvLyDjgrvjgq/jgrfjg6fjg7Pjg5jjg4Pjg4Djg7zjga/pq5jjgZXlm7rlrppcclxuXHJcbiAgLy8g44K144Og44ON44Kk44Or44Ko44Oq44KiXHJcbiAgLnRodW1ibmFpbC1hcmVhIHtcclxuICAgIC8vIOacgOWwj+mrmOOBleOCkuaMh+WumlxyXG4gICAgaGVpZ2h0OiAzNDBweDtcclxuICAgIC8vIOS9meOBo+OBn+mrmOOBleWFqOmDqFxyXG4gICAgZmxleC1ncm93OiAxO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG59XHJcbi8vIOOCu+OCr+OCt+ODp+ODs+ODmOODg+ODgOODvOOCqOODquOColxyXG46aG9zdCA6Om5nLWRlZXAgLnNlY3Rpb24taGVhZGVyIHtcclxuICAvLyDmqKrmj4PjgYhcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAgLy8g5pyA5Yid44Go5pyA5b6M44Gu5a2Q6KaB57Sg44KS5Lih56uv44Gr6YWN572u44GX44CB5q6L44KK44Gu6KaB57Sg44Gv5Z2H562J44Gr6ZaT6ZqU44KS44GC44GR44Gm6YWN572uXHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG5cclxuICAvLyDjgrvjgq/jgrfjg6fjg7Ppgbjmip7jgqjjg6rjgqJcclxuICAuc2VsZWN0LWJ1dHRvbi1hcmVhIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAvLyDnuKbkuK3lpK7mj4PjgYhcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcblxyXG4gICAgLy8g44K744Kv44K344On44Oz44Kr44Km44Oz44OI44Op44OZ44OrXHJcbiAgICAuc2VjdGlvbi1jb3VudC1sYWJlbCB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogMnB4O1xyXG4gICAgICBwYWRkaW5nLXJpZ2h0OiAycHg7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g44OQ44OD44Kv44Oc44K/44OzKOKGkClcclxuICAgIC5zZWxlY3QtcHJldi1idXR0b24ge1xyXG4gICAgICBAZXh0ZW5kIC5iYXNlLWJ0bjtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2Fycm93LWxlZnRfbi5wbmcnKTtcclxuICAgIH1cclxuICAgIC5zZWxlY3QtcHJldi1idXR0b246aG92ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvYXJyb3ctbGVmdF9vLnBuZycpO1xyXG4gICAgfVxyXG4gICAgLnNlbGVjdC1wcmV2LWJ1dHRvbjphY3RpdmUge1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvYXJyb3ctbGVmdF9wLnBuZycpO1xyXG4gICAgfVxyXG4gICAgLnNlbGVjdC1wcmV2LWJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9hcnJvdy1sZWZ0X2QucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g44ON44Kv44K544OI44Oc44K/44OzKOKGkilcclxuICAgIC5zZWxlY3QtbmV4dC1idXR0b24ge1xyXG4gICAgICBAZXh0ZW5kIC5iYXNlLWJ0bjtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2Fycm93LXJpZ2h0X24ucG5nJyk7XHJcbiAgICB9XHJcbiAgICAuc2VsZWN0LW5leHQtYnV0dG9uOmhvdmVyIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2Fycm93LXJpZ2h0X28ucG5nJyk7XHJcbiAgICB9XHJcbiAgICAuc2VsZWN0LW5leHQtYnV0dG9uOmFjdGl2ZSB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9hcnJvdy1yaWdodF9wLnBuZycpO1xyXG4gICAgfVxyXG4gICAgLnNlbGVjdC1uZXh0LWJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9hcnJvdy1yaWdodF9kLnBuZycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g44K744Kv44K344On44Oz56e75YuV44Ko44Oq44KiXHJcbiAgLm1vdmUtYnV0dG9uLWFyZWEge1xyXG4gICAgLy8g44Oc44K/44Oz44Go44Oc44K/44Oz44Gu6ZaT6ZqUXHJcbiAgICAubW92ZS1idXR0b24tcGFkZGluZyB7XHJcbiAgICAgIHBhZGRpbmctbGVmdDogMTVweDtcclxuICAgICAgcGFkZGluZy1yaWdodDogMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOWJjeenu+WLleODnOOCv+ODs1xyXG4gICAgLm1vdmUtZm9yd2FyZC1idXR0b24ge1xyXG4gICAgICBAZXh0ZW5kIC5iYXNlLWJ0bjtcclxuICAgICAgd2lkdGg6IDI4cHg7XHJcbiAgICAgIGhlaWdodDogMjBweDtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL21vdmVzZWN0aW9uX0xfbi5wbmcnKTtcclxuICAgIH1cclxuICAgIC5tb3ZlLWZvcndhcmQtYnV0dG9uOmhvdmVyIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL21vdmVzZWN0aW9uX0xfby5wbmcnKTtcclxuICAgIH1cclxuICAgIC5tb3ZlLWZvcndhcmQtYnV0dG9uOmFjdGl2ZSB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9tb3Zlc2VjdGlvbl9MX3AucG5nJyk7XHJcbiAgICB9XHJcbiAgICAubW92ZS1mb3J3YXJkLWJ1dHRvbjpkaXNhYmxlZCB7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9tb3Zlc2VjdGlvbl9MX2QucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5qyh56e75YuV44Oc44K/44OzXHJcbiAgICAubW92ZS1uZXh0LWJ1dHRvbiB7XHJcbiAgICAgIEBleHRlbmQgLmJhc2UtYnRuO1xyXG4gICAgICB3aWR0aDogMjhweDtcclxuICAgICAgaGVpZ2h0OiAyMHB4O1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvbW92ZXNlY3Rpb25fUl9uLnBuZycpO1xyXG4gICAgfVxyXG4gICAgLm1vdmUtbmV4dC1idXR0b246aG92ZXIge1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy9hc3NldHMvbW92ZXNlY3Rpb25fUl9vLnBuZycpO1xyXG4gICAgfVxyXG4gICAgLm1vdmUtbmV4dC1idXR0b246YWN0aXZlIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL21vdmVzZWN0aW9uX1JfcC5wbmcnKTtcclxuICAgIH1cclxuICAgIC5tb3ZlLW5leHQtYnV0dG9uOmRpc2FibGVkIHtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL21vdmVzZWN0aW9uX1JfZC5wbmcnKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIOe4puOCu+ODkeODrOODvOOCv1xyXG4udlJ1bGUge1xyXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNjNGNjY2M7XHJcbiAgaGVpZ2h0OiAxOHB4O1xyXG4gIHdpZHRoOiAxcHg7XHJcbiAgYm94LXNoYWRvdzogMXB4IDBweCAjZWVlZWVlO1xyXG59XHJcblxyXG4vLyDjg4njg6njg4PjgrDvvIbjg4njg63jg4Pjg5fjg5zjgr/jg7NcclxuLmRyYWdEcm9wQnRuIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwcHg7XHJcbn1cclxuIl19 */"

/***/ }),

/***/ "./src/app/viewer/containers/section/section-view.component.ts":
/*!*********************************************************************!*\
  !*** ./src/app/viewer/containers/section/section-view.component.ts ***!
  \*********************************************************************/
/*! exports provided: SectionViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SectionViewComponent", function() { return SectionViewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _core_event_base_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/event/base-event */ "./src/app/core/event/base-event.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_logger_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/services/logger.service */ "./src/app/core/services/logger.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/services/view-manager.service */ "./src/app/core/services/view-manager.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _core_utils_call_later_manager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/utils/call-later-manager */ "./src/app/core/utils/call-later-manager.ts");
/* harmony import */ var _shared_components_controls_sys0_thumbnail_list_sys0_thumbnail_list_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../shared/components/controls/sys0-thumbnail-list/sys0-thumbnail-list.component */ "./src/app/shared/components/controls/sys0-thumbnail-list/sys0-thumbnail-list.component.ts");
/* harmony import */ var _shared_components_drag_drop_view_drag_drop_view_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/components/drag-drop-view/drag-drop-view.component */ "./src/app/shared/components/drag-drop-view/drag-drop-view.component.ts");
/* harmony import */ var _shared_components_i_frame_i_frame_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/components/i-frame/i-frame.component */ "./src/app/shared/components/i-frame/i-frame.component.ts");
/* harmony import */ var _shared_event_list_event__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/event/list-event */ "./src/app/shared/event/list-event.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_thumbnail_upload_command__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../commands/thumbnail/upload-command */ "./src/app/viewer/commands/thumbnail/upload-command.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");
/* harmony import */ var _section_view_contextdata__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./section-view.contextdata */ "./src/app/viewer/containers/section/section-view.contextdata.ts");






















/**
 * セクションサムネイルエリア
 */
var SectionViewComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](SectionViewComponent, _super);
    function SectionViewComponent(logger, store, viewManagerService, controllerService, wordingService, stateUtilService, viewManager) {
        var _this = _super.call(this, stateUtilService) || this;
        _this.logger = logger;
        _this.store = store;
        _this.viewManagerService = viewManagerService;
        _this.controllerService = controllerService;
        _this.wordingService = wordingService;
        _this.stateUtilService = stateUtilService;
        _this.viewManager = viewManager;
        /**
         * コマンドマップ
         */
        _this.commandMapDef = [];
        /**
         * templateからlocatorにアクセスするための変数
         */
        _this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_19__["ViewerModelLocatorService"].getInstance();
        /**
         * セクションViewの読み取りモード用右クリックメニューデータです
         */
        _this.readMenu = [];
        /**
         * セクションViewの更新モード用右クリックメニューデータです
         */
        _this.editableMenu = [];
        _this.selectPrevButtonDisabled = true;
        _this.selectNextButtonDisabled = true;
        _this.moveForwardButtonDisabled = false;
        _this.moveNextButtonDisabled = false;
        /**
         * コンテキストメニューのバインド変数
         */
        _this.listMenuData = null;
        // 各タグの表示制御
        /** 移動ボタン表示制御 */
        _this.moveButtonVisible = false;
        /** iFrameエリア表示制御 */
        _this.iFrameVisible = false;
        _this._sectionNo = 0;
        /**
         * ★Stitch V1.3対応 callLater管理クラス
         */
        _this.callLaterManager = new _core_utils_call_later_manager__WEBPACK_IMPORTED_MODULE_11__["CallLaterManager"]();
        return _this;
    }
    SectionViewComponent_1 = SectionViewComponent;
    Object.defineProperty(SectionViewComponent.prototype, "sectionNo", {
        get: function () {
            return this._sectionNo;
        },
        set: function (value) {
            var _this = this;
            // ★Stitch V1.3対応  ExpressionChangedAfterItHasBeenCheckedError 回避対応
            setTimeout(function () {
                _this._sectionNo = value;
            });
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(SectionViewComponent.prototype, "currentState", {
        get: function () {
            return this._currentState;
        },
        set: function (key) {
            if (key === SectionViewComponent_1.STATE_READONRY) {
                this.moveButtonVisible = false;
                this.iFrameVisible = false;
            }
            else if (key === SectionViewComponent_1.STATE_EDITABLE) {
                this.moveButtonVisible = true;
                this.iFrameVisible = true;
            }
            this._currentState = key;
        },
        enumerable: true,
        configurable: true
    });
    SectionViewComponent.prototype.ngOnInit = function () {
        // ★Stitch V1.3対応  親クラスのさらに親クラスへの参照を再設定しなおす
        this.sys0ContextMenuView = this.dragDropView.sys0ContextMenuView;
        // コンテキストメニューデータの初期値セット
        this.readMenu = Object(_section_view_contextdata__WEBPACK_IMPORTED_MODULE_21__["getReadMenuData"])(this.wordingService);
        this.editableMenu = Object(_section_view_contextdata__WEBPACK_IMPORTED_MODULE_21__["getEditableMenu"])(this.wordingService);
        // ★Stitch V1.3対応 テンプレートに設定する文字列を取得
        this.prohibitionErrorString = this.wordingService.get('warn.tooltip.prohibitsectionname');
        this.requiredErrorString = this.wordingService.get('warn.tooltip.sectionnamenull');
        // ★Stitch V1.3対応 viewの登録
        this.viewManagerService.set(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_18__["ViewerViewTypes"].SectionView, this);
        // // ★Stitch V1.3対応 コマンドマップの登録
        this.controllerService.addCommandMap(this);
        var command = this.controllerService.getCommand(this, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].SharedActionTypes.GetSectionThumbnail);
        this.getThumbnailFunction = command.getSectionThumbnail.bind(command);
    };
    SectionViewComponent.prototype.ngAfterContentInit = function () {
        _super.prototype.ngAfterContentInit.call(this);
        var viewer = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_18__["ViewerViewTypes"].Root);
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].Sys0ApplicationComplete(event, viewer));
    };
    SectionViewComponent.prototype.ngAfterViewChecked = function () {
        // ★Stitch V1.3対応 callLaterの実行
        this.callLaterManager.execute();
    };
    SectionViewComponent.prototype.ngOnDestroy = function () {
        _super.prototype.ngOnDestroy.call(this);
    };
    /**
     * ★Stitch V1.3対応 callLaterの実装
     */
    SectionViewComponent.prototype.callLater = function (callback) {
        this.callLaterManager.callLater(callback);
    };
    // ★Stitch V1.3対応
    /**
     * uploadStart関数を取得する
     */
    SectionViewComponent.prototype.getUploadStartFunction = function () {
        var command = this.controllerService.getCommand(this, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].SharedActionTypes.UploadEnd);
        if (!(command instanceof _commands_thumbnail_upload_command__WEBPACK_IMPORTED_MODULE_17__["UploadCommand"])) {
            throw new _core_application_error__WEBPACK_IMPORTED_MODULE_3__["ApplicationError"]('Failed to retrieve UploadCommand.');
        }
        return command.uploadStart.bind(command);
    };
    // ★Stitch V1.3対応
    /**
     * Upload終了時のイベントハンドラ
     * @param event イベント
     */
    SectionViewComponent.prototype.onUploadEnd = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].UploadEnd({ event: event }, this));
    };
    /**
     * サムネイルのドラッグドロップイベント
     * @param event イベント
     */
    SectionViewComponent.prototype.onDragDrop = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].DragDrop({ event: event }, this));
    };
    /**
     * サムネイルのチェンジイベント
     * @param event イベント
     */
    SectionViewComponent.prototype.onChange = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].Change({ event: event }, this));
    };
    /**
     * サムネイルのアイテムクリックイベント
     * @param event イベント
     */
    SectionViewComponent.prototype.onItemClick = function (event) {
        var payloadEvent;
        if (event instanceof _core_event_base_event__WEBPACK_IMPORTED_MODULE_4__["BaseEvent"]) {
            payloadEvent = event;
            payloadEvent.currentTarget = this.thumbnailList;
        }
        else {
            payloadEvent = new _shared_event_list_event__WEBPACK_IMPORTED_MODULE_15__["ListEvent"](_shared_event_list_event__WEBPACK_IMPORTED_MODULE_15__["ListEvent"].ITEM_CLICK);
            payloadEvent.currentTarget = this.thumbnailList;
        }
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].ItemClick({ event: payloadEvent }, this));
    };
    /**
     * サムネイルリストの付箋部分ダブルクリック時処理
     * @param event
     */
    SectionViewComponent.prototype.tagDoubleClickHandler = function (event) {
        if (this.locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_5__["BaseModelLocator"].MODE_EDITABLE) {
            // // ★Stitch V1.3対応 commandMap.execEvent の移植
            var viewerBase = this.viewManagerService.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_18__["ViewerViewTypes"].ViewerBase);
            if (viewerBase == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_3__["ApplicationError"]('Unexpected null value for viewerBase.');
            }
            this.controllerService.execCommand(viewerBase, _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].SharedActionTypes.EditTag, event);
        }
    };
    /**
     * サムネイルリストのアイテムにマウスオーバした際のイベント
     * @param event
     */
    SectionViewComponent.prototype.onMouseEnter = function (event) {
        // サムネイルリストのマウスオーバ処理をコール
        this.thumbnailList.mouseOverHandler(event);
    };
    /**
     * サムネイルリストのアイテムにダブルクリックした際のイベント
     * @param event
     */
    SectionViewComponent.prototype.onDoubleClick = function (event) {
        // サムネイルリストのマウスダブルクリック処理をコール
        this.thumbnailList.mouseDoubleClickHandler(event);
    };
    /**
     * サムネイルリストのアイテムの描画開始のイベント
     * @param event
     */
    SectionViewComponent.prototype.onDrawStart = function (event) {
        // サムネイルリストのサムネイル画像描画処理をコール
        this.thumbnailList.drawThumbnail(event);
    };
    /**
     * ThumbnailItemRendererのclickSectionTag() メソッド実行時に呼び出すファンクションです
     * @param sectionNo
     */
    SectionViewComponent.prototype.clickSectionTag = function (sectionNo) {
        // セクション数を反映させる
        // Viewer(Sys0Application.application).sectionListView.sectionCntLabel.executeBindings();
        // ★Stitch V1.3対応 .sectionListView は自分自身を指しており、セクション数の更新を行いたいのでそれ用のメソッドを自作し、実行
        this.setSectionNo();
    };
    /**
     * セクション前選択ボタンクリックイベント
     * @param event
     */
    SectionViewComponent.prototype.onSelectPrevClick = function (event) {
        // ★Stitch V1.3対応 commandで使用する値をセット
        event.currentTarget.data = 'selectPrevious';
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_20__["ViewerCommand"].ClickSelectButton({ event: event }, this));
    };
    /**
     * セクション次選択ボタンクリックイベント
     * @param event
     */
    SectionViewComponent.prototype.onSelectNextClick = function (event) {
        // ★Stitch V1.3対応 commandで使用する値をセット
        event.currentTarget.data = 'selectNext';
        this.store.dispatch(new _store_viewer_actions__WEBPACK_IMPORTED_MODULE_20__["ViewerCommand"].ClickSelectButton({ event: event }, this));
    };
    /**
     * セクション前移動ボタンクリックイベント
     * @param event
     */
    SectionViewComponent.prototype.onMoveForwardClick = function (event) {
        // ★Stitch V1.3対応 commandで使用する値をセット
        event.currentTarget.data = 'moveForward';
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].MoveObject({ event: event }, this));
    };
    /**
     * セクション次移動ボタンクリックイベント
     * @param event
     */
    SectionViewComponent.prototype.onMoveNextClick = function (event) {
        // ★Stitch V1.3対応 commandで使用する値をセット
        event.currentTarget.data = 'moveBackward';
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_16__["SharedCommand"].MoveObject({ event: event }, this));
    };
    /**
     * 必要に応じて、このオブジェクトのプロパティとレイアウトを検証および更新し、それを再描画します。
     */
    SectionViewComponent.prototype.validateNow = function () {
        // ★Stitch V1.3対応 当メソッドをコールすることで結果的に描画が更新されているのでセクション数の更新を行う事とする
        this.executeBindings();
    };
    /**
     * セクション数のバインド情報を更新します
     */
    SectionViewComponent.prototype.executeBindings = function () {
        this.setSectionNo();
    };
    // ★Stitch V1.3対応  sectionCntLabel.executeBindings() の代わり, ロジックは get sectionNo() を移植
    /**
     * 選択中セクションNoの表示を更新する
     */
    SectionViewComponent.prototype.setSectionNo = function () {
        var sectionVo = this.thumbnailList.selectedItem;
        if (sectionVo == null) {
            this.logger.info('get sectionNo() 選択が解除されています。');
        }
        // ★Stitch V1.3対応 null対応
        this.sectionNo = sectionVo == null ? 0 : sectionVo.sectionNo || 0;
    };
    var SectionViewComponent_1;
    SectionViewComponent.STATE_READONRY = 'readonly';
    SectionViewComponent.STATE_EDITABLE = 'editable';
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_controls_sys0_thumbnail_list_sys0_thumbnail_list_component__WEBPACK_IMPORTED_MODULE_12__["Sys0ThumbnailListComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_controls_sys0_thumbnail_list_sys0_thumbnail_list_component__WEBPACK_IMPORTED_MODULE_12__["Sys0ThumbnailListComponent"])
    ], SectionViewComponent.prototype, "thumbnailList", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_i_frame_i_frame_component__WEBPACK_IMPORTED_MODULE_14__["IFrameComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_i_frame_i_frame_component__WEBPACK_IMPORTED_MODULE_14__["IFrameComponent"])
    ], SectionViewComponent.prototype, "iframe", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_drag_drop_view_drag_drop_view_component__WEBPACK_IMPORTED_MODULE_13__["DragDropViewComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_drag_drop_view_drag_drop_view_component__WEBPACK_IMPORTED_MODULE_13__["DragDropViewComponent"])
    ], SectionViewComponent.prototype, "dragDropView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_drag_drop_view_drag_drop_view_component__WEBPACK_IMPORTED_MODULE_13__["DragDropViewComponent"])
    ], SectionViewComponent.prototype, "self", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], SectionViewComponent.prototype, "selectPrevButtonDisabled", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], SectionViewComponent.prototype, "selectNextButtonDisabled", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], SectionViewComponent.prototype, "moveForwardButtonDisabled", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Input"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], SectionViewComponent.prototype, "moveNextButtonDisabled", void 0);
    SectionViewComponent = SectionViewComponent_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-section-view',
            template: __webpack_require__(/*! ./section-view.component.html */ "./src/app/viewer/containers/section/section-view.component.html"),
            styles: [__webpack_require__(/*! ./section-view.component.scss */ "./src/app/viewer/containers/section/section-view.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_logger_service__WEBPACK_IMPORTED_MODULE_7__["Logger"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_9__["ViewManagerService"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_6__["ControllerService"],
            _core_services_wording_service__WEBPACK_IMPORTED_MODULE_10__["WordingService"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_8__["StateUtilService"],
            _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_9__["ViewManagerService"]])
    ], SectionViewComponent);
    return SectionViewComponent;
}(_shared_components_drag_drop_view_drag_drop_view_component__WEBPACK_IMPORTED_MODULE_13__["DragDropViewComponent"]));



/***/ }),

/***/ "./src/app/viewer/containers/section/section-view.contextdata.ts":
/*!***********************************************************************!*\
  !*** ./src/app/viewer/containers/section/section-view.contextdata.ts ***!
  \***********************************************************************/
/*! exports provided: getReadMenuData, getEditableMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getReadMenuData", function() { return getReadMenuData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEditableMenu", function() { return getEditableMenu; });
/**
 * 読み取りモード用のコンテキストメニューのデータを返します
 * @param wording ワーディングサービス
 */
function getReadMenuData(wording) {
    // ★Stitch V1.3対応 SectionView.mxml の　<mx:ArrayCollection id="readMenu"> を元に作成
    // separatorBefore="true" については、設定しているデータの前にseparatorを挿入する
    return [
        { name: 'openApplication', label: wording.get('lbl.menu.openapp') },
        { name: 'openFtsData', label: wording.get('lbl.menu.openftsdata') },
        { separator: true },
        { name: 'print', label: wording.get('lbl.menu.print') },
        { name: 'sectionDownload', label: wording.get('lbl.menu.download') }
    ];
}
/**
 * 更新モード用のコンテキストメニューのデータを返します
 * @param wording ワーディングサービス
 */
function getEditableMenu(wording) {
    // ★Stitch V1.3対応 SectionView.mxml の　<mx:ArrayCollection id="editableMenu"> を元に作成
    // separatorBefore="true" については、設定しているデータの前にseparatorを挿入する
    return [
        { name: 'openApplication', label: wording.get('lbl.menu.openapp') },
        { name: 'openFtsData', label: wording.get('lbl.menu.openftsdata') },
        { name: 'addTag', label: wording.get('lbl.menu.addtag') },
        { name: 'deleteTag', label: wording.get('lbl.menu.deletetag') },
        { name: 'editTag', label: wording.get('lbl.menu.edittag') },
        { name: 'replace', label: wording.get('lbl.menu.sectionreplace') },
        { name: 'add', label: wording.get('lbl.menu.add') },
        { name: 'del', label: wording.get('lbl.menu.del') },
        { name: 'renameSection', label: wording.get('lbl.menu.rename') },
        { separator: true },
        { name: 'moveTop', label: wording.get('lbl.menu.top') },
        { name: 'moveForward', label: wording.get('lbl.menu.forward') },
        { name: 'moveBackward', label: wording.get('lbl.menu.backword') },
        { name: 'moveBottom', label: wording.get('lbl.menu.bottom') },
        { separator: true },
        { name: 'divide', label: wording.get('lbl.menu.rightmenudivide') },
        { separator: true },
        { name: 'sectionDownload', label: wording.get('lbl.menu.download') }
    ];
}


/***/ }),

/***/ "./src/app/viewer/containers/thumbnail/thumbnail-view.commandmap.ts":
/*!**************************************************************************!*\
  !*** ./src/app/viewer/containers/thumbnail/thumbnail-view.commandmap.ts ***!
  \**************************************************************************/
/*! exports provided: thumbnailViewCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "thumbnailViewCommandMap", function() { return thumbnailViewCommandMap; });
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_thumbnail_change_mode_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../commands/thumbnail/change-mode-command */ "./src/app/viewer/commands/thumbnail/change-mode-command.ts");


var thumbnailViewCommandMap = [
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.ItemClick, command: _commands_thumbnail_change_mode_command__WEBPACK_IMPORTED_MODULE_1__["ChangeModeCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.html":
/*!***************************************************************************!*\
  !*** ./src/app/viewer/containers/thumbnail/thumbnail-view.component.html ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<div class=\"container\">\r\n  <p-tabView (onChange)=\"onTabChange($event)\">\r\n    <!-- タブの切り替えのみ実装 -->\r\n    <p-tabPanel [header]=\"label\" *ngFor=\"let label of tabLabel; let i = index\" [selected]=\"i == 0\"> </p-tabPanel>\r\n  </p-tabView>\r\n  <!-- タブの外側にセクションviewを配置 -->\r\n  <app-section-view></app-section-view>\r\n</div>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.scss":
/*!***************************************************************************!*\
  !*** ./src/app/viewer/containers/thumbnail/thumbnail-view.component.scss ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = ".container {\n  height: 100%;\n  display: flex;\n  flex-direction: column; }\n  .container app-section-view {\n    flex-grow: 1; }\n  :host ::ng-deep .container .ui-tabview-panels {\n  display: none; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvdGh1bWJuYWlsL0M6XFxVc2Vyc1xcZzEwMDE2ODUxXFxEb2N1bWVudHNcXGFuZ3VsYXItd29ya3NwYWNlXFxzbWEtbmF2aVxcYW5ndWxhclxccnNuL3NyY1xcYXBwXFx2aWV3ZXJcXGNvbnRhaW5lcnNcXHRodW1ibmFpbFxcdGh1bWJuYWlsLXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0VBRVosYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBSnhCO0lBVUksWUFBWSxFQUFBO0VBSWhCO0VBSUksYUFBYSxFQUFBIiwiZmlsZSI6InNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvdGh1bWJuYWlsL3RodW1ibmFpbC12aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIC8vIOe4puS4puOBuVxyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgLy8g44K/44OW44Gv5Zu65a6a6auY44GV44Gn6KGo56S6XHJcblxyXG4gIGFwcC1zZWN0aW9uLXZpZXcge1xyXG4gICAgLy8g44K744Kv44K344On44Oz6YOo5YiG44Gv5q6L44KK44Gu6auY44GV5YWo6YOoXHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgfVxyXG59XHJcblxyXG46aG9zdCA6Om5nLWRlZXAgLmNvbnRhaW5lciB7XHJcbiAgLy8g44K/44OW6YOo5YiG44Gg44GR6KGo56S644GX44Gm5Lit6Lqr44Gu44Kz44Oz44OG44Oz44OE6YOo5YiG44Gv5LiN6KaB44Gu44Gf44KB6Zqg44GZXHJcbiAgLy8gOmhvc3QgOjpuZy1kZWVwIC51aS10YWJ2aWV3LXBhbmVscyB7XHJcbiAgLnVpLXRhYnZpZXctcGFuZWxzIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG59XHJcbiJdfQ== */"

/***/ }),

/***/ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.ts":
/*!*************************************************************************!*\
  !*** ./src/app/viewer/containers/thumbnail/thumbnail-view.component.ts ***!
  \*************************************************************************/
/*! exports provided: ThumbnailViewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThumbnailViewComponent", function() { return ThumbnailViewComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var primeng_tabview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! primeng/tabview */ "./node_modules/primeng/tabview.js");
/* harmony import */ var primeng_tabview__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(primeng_tabview__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _core_event_item_click_event__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/event/item-click-event */ "./src/app/core/event/item-click-event.ts");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/services/view-manager.service */ "./src/app/core/services/view-manager.service.ts");
/* harmony import */ var _shared_components_sys0_view_sys0_view_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/components/sys0-view/sys0-view.component */ "./src/app/shared/components/sys0-view/sys0-view.component.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _section_section_view_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../section/section-view.component */ "./src/app/viewer/containers/section/section-view.component.ts");












/**
 * サムネイル一覧ビュー
 */
var ThumbnailViewComponent = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ThumbnailViewComponent, _super);
    function ThumbnailViewComponent(stateUtilService, controllerService, viewManagerService, store) {
        var _this = _super.call(this, stateUtilService) || this;
        _this.stateUtilService = stateUtilService;
        _this.controllerService = controllerService;
        _this.viewManagerService = viewManagerService;
        _this.store = store;
        /**
         * タブのヘッダー部データソース
         */
        _this.tabLabel = [];
        return _this;
    }
    ThumbnailViewComponent.prototype.ngOnInit = function () {
        _super.prototype.ngOnInit.call(this);
        // viewサービスへの登録
        this.viewManagerService.set(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_10__["ViewerViewTypes"].ThumbnailView, this);
        // コマンドマップのセット
        this.commandMapDef = [];
        this.controllerService.addCommandMap(this);
    };
    /**
     * タブの変更イベント
     * @param event
     */
    ThumbnailViewComponent.prototype.onTabChange = function (event) {
        var itemClickEvent = new _core_event_item_click_event__WEBPACK_IMPORTED_MODULE_4__["ItemClickEvent"](_core_event_item_click_event__WEBPACK_IMPORTED_MODULE_4__["ItemClickEvent"].ITEM_CLICK);
        itemClickEvent.target = this.mainTabBar;
        itemClickEvent.index = event.index;
        var payload = { event: itemClickEvent };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_9__["SharedCommand"].ItemClick(payload, this));
    };
    /**
     * 選択されているTabのIndexを返します
     * @returns 選択TabIndex
     */
    ThumbnailViewComponent.prototype.getSelectedTabIndex = function () {
        var selectedIndex = -1;
        this.tabPanels.forEach(function (tabPanel, index) {
            if (tabPanel.selected) {
                selectedIndex = index;
            }
        });
        return selectedIndex;
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_section_section_view_component__WEBPACK_IMPORTED_MODULE_11__["SectionViewComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _section_section_view_component__WEBPACK_IMPORTED_MODULE_11__["SectionViewComponent"])
    ], ThumbnailViewComponent.prototype, "sectionView", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(primeng_tabview__WEBPACK_IMPORTED_MODULE_3__["TabView"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", primeng_tabview__WEBPACK_IMPORTED_MODULE_3__["TabView"])
    ], ThumbnailViewComponent.prototype, "mainTabBar", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChildren"])(primeng_tabview__WEBPACK_IMPORTED_MODULE_3__["TabPanel"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Array)
    ], ThumbnailViewComponent.prototype, "tabPanels", void 0);
    ThumbnailViewComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-thumbnail-view',
            template: __webpack_require__(/*! ./thumbnail-view.component.html */ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.html"),
            styles: [__webpack_require__(/*! ./thumbnail-view.component.scss */ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_state_util_service__WEBPACK_IMPORTED_MODULE_6__["StateUtilService"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_5__["ControllerService"],
            _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_7__["ViewManagerService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"]])
    ], ThumbnailViewComponent);
    return ThumbnailViewComponent;
}(_shared_components_sys0_view_sys0_view_component__WEBPACK_IMPORTED_MODULE_8__["Sys0ViewComponent"]));



/***/ }),

/***/ "./src/app/viewer/containers/viewer-base/viewer-base.commandmap.ts":
/*!*************************************************************************!*\
  !*** ./src/app/viewer/containers/viewer-base/viewer-base.commandmap.ts ***!
  \*************************************************************************/
/*! exports provided: viewerBaseCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "viewerBaseCommandMap", function() { return viewerBaseCommandMap; });
/* harmony import */ var _main_commands_document_edit_tag_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../main/commands/document/edit-tag-command */ "./src/app/main/commands/document/edit-tag-command.ts");
/* harmony import */ var _shared_commands_creation_complete_base_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/commands/creation-complete-base-command */ "./src/app/shared/commands/creation-complete-base-command.ts");
/* harmony import */ var _shared_commands_menu_click_command__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/commands/menu-click-command */ "./src/app/shared/commands/menu-click-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_core_help_click_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../commands/core/help-click-command */ "./src/app/viewer/commands/core/help-click-command.ts");
/* harmony import */ var _commands_dialog_viewer_document_information_change_menu_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../commands/dialog/viewer-document-information-change-menu-command */ "./src/app/viewer/commands/dialog/viewer-document-information-change-menu-command.ts");
/* harmony import */ var _commands_dialog_viewer_document_information_change_tab_navigator__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../commands/dialog/viewer-document-information-change-tab-navigator */ "./src/app/viewer/commands/dialog/viewer-document-information-change-tab-navigator.ts");
/* harmony import */ var _commands_dialog_viewer_document_information_getUser_number_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../commands/dialog/viewer-document-information-getUser-number-command */ "./src/app/viewer/commands/dialog/viewer-document-information-getUser-number-command.ts");
/* harmony import */ var _commands_dialog_viewer_document_information_ok_cancel_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../commands/dialog/viewer-document-information-ok-cancel-command */ "./src/app/viewer/commands/dialog/viewer-document-information-ok-cancel-command.ts");
/* harmony import */ var _commands_dialog_viewer_inform_dialog_ok_cancel_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../commands/dialog/viewer-inform-dialog-ok-cancel-command */ "./src/app/viewer/commands/dialog/viewer-inform-dialog-ok-cancel-command.ts");
/* harmony import */ var _commands_dialog_viewer_show_document_information_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../commands/dialog/viewer-show-document-information-command */ "./src/app/viewer/commands/dialog/viewer-show-document-information-command.ts");
/* harmony import */ var _commands_menu_add_section_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../commands/menu/add-section-command */ "./src/app/viewer/commands/menu/add-section-command.ts");
/* harmony import */ var _commands_menu_change_mode_command__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../commands/menu/change-mode-command */ "./src/app/viewer/commands/menu/change-mode-command.ts");
/* harmony import */ var _commands_menu_delete_command__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../commands/menu/delete-command */ "./src/app/viewer/commands/menu/delete-command.ts");
/* harmony import */ var _commands_menu_divide_section_command__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../commands/menu/divide-section-command */ "./src/app/viewer/commands/menu/divide-section-command.ts");
/* harmony import */ var _commands_menu_download_command__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../commands/menu/download-command */ "./src/app/viewer/commands/menu/download-command.ts");
/* harmony import */ var _commands_menu_menu_control_command__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../commands/menu/menu-control-command */ "./src/app/viewer/commands/menu/menu-control-command.ts");
/* harmony import */ var _commands_menu_move_command__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../commands/menu/move-command */ "./src/app/viewer/commands/menu/move-command.ts");
/* harmony import */ var _commands_menu_open_full_text_application_command__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../commands/menu/open-full-text-application-command */ "./src/app/viewer/commands/menu/open-full-text-application-command.ts");
/* harmony import */ var _commands_menu_replace_section_command__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../commands/menu/replace-section-command */ "./src/app/viewer/commands/menu/replace-section-command.ts");
/* harmony import */ var _commands_menu_select_all_command__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../commands/menu/select-all-command */ "./src/app/viewer/commands/menu/select-all-command.ts");
/* harmony import */ var _commands_menu_unselect_command__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../commands/menu/unselect-command */ "./src/app/viewer/commands/menu/unselect-command.ts");
/* harmony import */ var _commands_menu_update_command__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../commands/menu/update-command */ "./src/app/viewer/commands/menu/update-command.ts");
/* harmony import */ var _commands_menu_viewer_show_create_url_command__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../commands/menu/viewer-show-create-url-command */ "./src/app/viewer/commands/menu/viewer-show-create-url-command.ts");
/* harmony import */ var _commands_menu_viewer_show_document_sub_data_dialog_command__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../commands/menu/viewer-show-document-sub-data-dialog-command */ "./src/app/viewer/commands/menu/viewer-show-document-sub-data-dialog-command.ts");
/* harmony import */ var _commands_menu_viewer_show_inform_dialog_command__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../commands/menu/viewer-show-inform-dialog-command */ "./src/app/viewer/commands/menu/viewer-show-inform-dialog-command.ts");
/* harmony import */ var _commands_thumbnail_change_mode_command__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../commands/thumbnail/change-mode-command */ "./src/app/viewer/commands/thumbnail/change-mode-command.ts");
/* harmony import */ var _commands_thumbnail_section_add_tag_command__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../commands/thumbnail/section/add-tag-command */ "./src/app/viewer/commands/thumbnail/section/add-tag-command.ts");
/* harmony import */ var _commands_thumbnail_section_delete_tag_command__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../commands/thumbnail/section/delete-tag-command */ "./src/app/viewer/commands/thumbnail/section/delete-tag-command.ts");
/* harmony import */ var _commands_thumbnail_section_rename_section_command__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../commands/thumbnail/section/rename-section-command */ "./src/app/viewer/commands/thumbnail/section/rename-section-command.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");
/* harmony import */ var _commands_menu_open_application_command__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../commands/menu/open-application-command */ "./src/app/viewer/commands/menu/open-application-command.ts");
































var viewerBaseCommandMap = [
    // メニュークリック
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.MenuClick, command: _shared_commands_menu_click_command__WEBPACK_IMPORTED_MODULE_2__["MenuClickCommand"] },
    // CreationComplete
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.CreationComplete, command: _shared_commands_creation_complete_base_command__WEBPACK_IMPORTED_MODULE_1__["CreationCompleteBaseCommand"] },
    // メニュー(開く)
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.MenuShow, command: _commands_menu_menu_control_command__WEBPACK_IMPORTED_MODULE_16__["MenuControlCommand"] },
    // メニュー(閉じる)
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.MenuHide, command: _commands_menu_menu_control_command__WEBPACK_IMPORTED_MODULE_16__["MenuControlCommand"] },
    // ファイル-更新モードへ切り替え
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.ChangeMode, command: _commands_menu_change_mode_command__WEBPACK_IMPORTED_MODULE_12__["ChangeModeCommand"] },
    // 読み取りモード切替
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.UpdateComplete, command: _commands_menu_change_mode_command__WEBPACK_IMPORTED_MODULE_12__["ChangeModeCommand"] },
    // ファイル-プロパティ
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Property, command: _commands_dialog_viewer_show_document_information_command__WEBPACK_IMPORTED_MODULE_10__["ViewerShowDocumentInformationCommand"] },
    // 文書情報Ok、Cancel
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.DocumentInformationClick, command: _commands_dialog_viewer_document_information_ok_cancel_command__WEBPACK_IMPORTED_MODULE_8__["ViewerDocumentInformationOkCancelCommand"] },
    // 文書情報タブ切り替え
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.DocumentInformationChangeTab, command: _commands_dialog_viewer_document_information_change_tab_navigator__WEBPACK_IMPORTED_MODULE_6__["ViewerDocumentInformationChangeTabNavigator"] },
    // 文書情報採番
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.GetUserNumber, command: _commands_dialog_viewer_document_information_getUser_number_command__WEBPACK_IMPORTED_MODULE_7__["ViewerDocumentInformationGetUserNumberCommand"] },
    // 文書プロパティメニュー切り替え
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.ChangeMenu, command: _commands_dialog_viewer_document_information_change_menu_command__WEBPACK_IMPORTED_MODULE_5__["ViewerDocumentInformationChangeMenuCommand"] },
    // 文書-通知
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Inform, command: _commands_menu_viewer_show_inform_dialog_command__WEBPACK_IMPORTED_MODULE_25__["ViewerShowInformDialogCommand"] },
    // 通知ダイアログのOK、Cancelボタンクリック
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.InformDialogOkCancel, command: _commands_dialog_viewer_inform_dialog_ok_cancel_command__WEBPACK_IMPORTED_MODULE_9__["ViewerInformDialogOkCancelCommand"] },
    // 編集-追加
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Add, command: _commands_menu_add_section_command__WEBPACK_IMPORTED_MODULE_11__["AddSectionCommand"] },
    // 編集-差し替え
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Replace, command: _commands_menu_replace_section_command__WEBPACK_IMPORTED_MODULE_19__["ReplaceSectionCommand"] },
    // 編集-削除
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Delete, command: _commands_menu_delete_command__WEBPACK_IMPORTED_MODULE_13__["DeleteCommand"] },
    // セクション-名前の変更
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.RenameSection, command: _commands_thumbnail_section_rename_section_command__WEBPACK_IMPORTED_MODULE_29__["RenameSectionCommand"] },
    // 移動-先頭へ移動
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.MoveTop, command: _commands_menu_move_command__WEBPACK_IMPORTED_MODULE_17__["MoveCommand"] },
    // 次へ
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.MoveForward, command: _commands_menu_move_command__WEBPACK_IMPORTED_MODULE_17__["MoveCommand"] },
    // 前へ
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.MoveBackward, command: _commands_menu_move_command__WEBPACK_IMPORTED_MODULE_17__["MoveCommand"] },
    // 移動-最後へ移動
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_30__["ViewerCommand"].ViewerActionTypes.MoveBottom, command: _commands_menu_move_command__WEBPACK_IMPORTED_MODULE_17__["MoveCommand"] },
    // 文書-ダウンロード
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Download, command: _commands_menu_download_command__WEBPACK_IMPORTED_MODULE_15__["DownloadCommand"] },
    // セクション-ダウンロード
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.SectionDownload, command: _commands_menu_download_command__WEBPACK_IMPORTED_MODULE_15__["DownloadCommand"] },
    // 全て選択
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.SelectAll, command: _commands_menu_select_all_command__WEBPACK_IMPORTED_MODULE_20__["SelectAllCommand"] },
    // 選択解除
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Unselect, command: _commands_menu_unselect_command__WEBPACK_IMPORTED_MODULE_21__["UnselectCommand"] },
    // 表示-最新の情報に更新
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Update, command: _commands_menu_update_command__WEBPACK_IMPORTED_MODULE_22__["UpdateCommand"] },
    // 申請
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // { action: SharedCommand.SharedActionTypes.Apply, command: ViewerShowCirculateDialogCommand },
    // 審査/承認
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // { action: SharedCommand.SharedActionTypes.Approve, command: ViewerShowCirculateDialogCommand },
    // 差し戻し
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // { action: SharedCommand.SharedActionTypes.PassBack, command: ViewerShowCirculateDialogCommand },
    // 取り下げ
    // ★Stitch V1.3対応
    // ワークフロー機能は提供しない
    // { action: SharedCommand.SharedActionTypes.Withdraw, command: ViewerShowCirculateDialogCommand },
    // ツール-URLのコピー
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.CopyUrl, command: _commands_menu_viewer_show_create_url_command__WEBPACK_IMPORTED_MODULE_23__["ViewerShowCreateURLCommand"] },
    // ツール-モバイルURLのコピー
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.CopyMobileUrl, command: _commands_menu_viewer_show_create_url_command__WEBPACK_IMPORTED_MODULE_23__["ViewerShowCreateURLCommand"] },
    // 文書-分割
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.Divide, command: _commands_menu_divide_section_command__WEBPACK_IMPORTED_MODULE_14__["DivideSectionCommand"] },
    // 全文検索データを開く(Full Text Search Data)
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.OpenFtsData, command: _commands_menu_open_full_text_application_command__WEBPACK_IMPORTED_MODULE_18__["OpenFullTextApplicationCommand"] },
    // ツール-サブデータの作成
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.ReCreateSubData, command: _commands_menu_viewer_show_document_sub_data_dialog_command__WEBPACK_IMPORTED_MODULE_24__["ViewerShowDocumentSubDataDialogCommand"] },
    // マニュアル表示
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.HelpClick, command: _commands_core_help_click_command__WEBPACK_IMPORTED_MODULE_4__["HelpClickCommand"] },
    // ビューアーモード変更(サムネイルエリアのタブ切り替え)
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.ItemClick, command: _commands_thumbnail_change_mode_command__WEBPACK_IMPORTED_MODULE_26__["ChangeModeCommand"] },
    // 付箋をつける
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.AddTag, command: _commands_thumbnail_section_add_tag_command__WEBPACK_IMPORTED_MODULE_27__["AddTagCommand"] },
    // 付箋を編集する
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.EditTag, command: _main_commands_document_edit_tag_command__WEBPACK_IMPORTED_MODULE_0__["EditTagCommand"] },
    // 付箋を削除する
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.DeleteTag, command: _commands_thumbnail_section_delete_tag_command__WEBPACK_IMPORTED_MODULE_28__["DeleteTagCommand"] },
    // セクション-アプリケーションで開く
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_3__["SharedCommand"].SharedActionTypes.OpenApplication, command: _commands_menu_open_application_command__WEBPACK_IMPORTED_MODULE_31__["OpenApplicationCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/viewer-base/viewer-base.component.html":
/*!**************************************************************************!*\
  !*** ./src/app/viewer/containers/viewer-base/viewer-base.component.html ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<app-sys0-view>\r\n  <!-- menu -->\r\n  <app-menu-box-base\r\n    #menuBar\r\n    class=\"app-menu-box-base\"\r\n    [menuDataProvider]=\"menuDataProvider\"\r\n    [userLabel]=\"userLabel\"\r\n    [useExitButton]=\"locator.currentMode\"\r\n    [exitLabel]=\"exitLabel\"\r\n    (menuItemClick)=\"menuItemClickHandler($event)\"\r\n    (exitClick)=\"exitButtonClickHandler($event)\"\r\n  ></app-menu-box-base>\r\n\r\n  <!-- MainView -->\r\n  <app-main-view #mainView></app-main-view>\r\n</app-sys0-view>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/viewer-base/viewer-base.component.scss":
/*!**************************************************************************!*\
  !*** ./src/app/viewer/containers/viewer-base/viewer-base.component.scss ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "app-sys0-view {\n  width: 100%;\n  height: 100%;\n  min-height: 386px;\n  display: flex;\n  flex-direction: column; }\n  app-sys0-view .app-menu-box-base {\n    width: 100%;\n    height: 34px; }\n  app-sys0-view app-main-view {\n    width: 100%;\n    height: calc(100% - 34px);\n    min-height: calc(100% - 386px); }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvdmlld2VyLWJhc2UvQzpcXFVzZXJzXFxnMTAwMTY4NTFcXERvY3VtZW50c1xcYW5ndWxhci13b3Jrc3BhY2VcXHNtYS1uYXZpXFxhbmd1bGFyXFxyc24vc3JjXFxhcHBcXHZpZXdlclxcY29udGFpbmVyc1xcdmlld2VyLWJhc2VcXHZpZXdlci1iYXNlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixpQkFMZ0I7RUFNaEIsYUFBYTtFQUNiLHNCQUFzQixFQUFBO0VBTHhCO0lBUUksV0FBVztJQUNYLFlBWmMsRUFBQTtFQUdsQjtJQWFJLFdBQVc7SUFDWCx5QkFBb0M7SUFDcEMsOEJBQXVDLEVBQUEiLCJmaWxlIjoic3JjL2FwcC92aWV3ZXIvY29udGFpbmVycy92aWV3ZXItYmFzZS92aWV3ZXItYmFzZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiRtZW51LWhlaWdodDogMzRweDtcclxuJG1pbi1oZWlnaHQ6IDM4NnB4O1xyXG5cclxuYXBwLXN5czAtdmlldyB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIG1pbi1oZWlnaHQ6ICRtaW4taGVpZ2h0O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuXHJcbiAgLmFwcC1tZW51LWJveC1iYXNlIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAkbWVudS1oZWlnaHQ7XHJcbiAgfVxyXG5cclxuICBhcHAtbWFpbi12aWV3IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAjeyRtZW51LWhlaWdodH0pO1xyXG4gICAgbWluLWhlaWdodDogY2FsYygxMDAlIC0gI3skbWluLWhlaWdodH0pO1xyXG4gIH1cclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/viewer/containers/viewer-base/viewer-base.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/viewer/containers/viewer-base/viewer-base.component.ts ***!
  \************************************************************************/
/*! exports provided: ViewerBaseComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerBaseComponent", function() { return ViewerBaseComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/services/view-manager.service */ "./src/app/core/services/view-manager.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _shared_components_menu_box_base_menu_box_base_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../shared/components/menu-box-base/menu-box-base.component */ "./src/app/shared/components/menu-box-base/menu-box-base.component.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");
/* harmony import */ var _viewer_base_menudata__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./viewer-base.menudata */ "./src/app/viewer/containers/viewer-base/viewer-base.menudata.ts");












/**
 * ビューア画面のベースコンポーネント
 */
var ViewerBaseComponent = /** @class */ (function () {
    /**
     * コンストラクタ
     * @param store State定義
     * @param stateUtil 状態管理サービス
     * @param wording 用語解決サービス
     * @param controller
     * @param viewManager
     */
    function ViewerBaseComponent(store, stateUtil, wording, controller, viewManager) {
        this.store = store;
        this.stateUtil = stateUtil;
        this.wording = wording;
        this.controller = controller;
        this.viewManager = viewManager;
        /**
         * コマンドマップ
         */
        this.commandMapDef = [];
        /**
         * ログイン名ラベル
         */
        this.userLabel = '';
        /**
         * locatorの参照
         */
        this.locator = _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_10__["ViewerModelLocatorService"].getInstance();
        /**
         * 閉じるボタンのラベル
         */
        this.exitLabel = '';
        this.viewManager.set(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_9__["ViewerViewTypes"].ViewerBase, this);
    }
    /**
     * ライフサイクルフック：初期化
     */
    ViewerBaseComponent.prototype.ngOnInit = function () {
        this.controller.addCommandMap(this);
        this.menuDataProvider = Object(_viewer_base_menudata__WEBPACK_IMPORTED_MODULE_11__["getViewerMenuData"])(this.wording);
        this.userLabel = this.wording.get('lbl.common.user');
        this.exitLabel = this.wording.get('lbl.viewer.close');
    };
    /**
     * 閉じるボタンを押下した際のイベントハンドラー
     * @param event イベント
     */
    ViewerBaseComponent.prototype.exitButtonClickHandler = function (event) {
        var payload = { event: event };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SharedCommand"].ChangeMode(payload, this));
    };
    /**
     * メニューをクリックした際のイベントハンドラー
     * @param event イベント
     */
    ViewerBaseComponent.prototype.menuItemClickHandler = function (event) {
        var payload = { event: event };
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_8__["SharedCommand"].MenuClick(payload, this));
    };
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewChild"])(_shared_components_menu_box_base_menu_box_base_component__WEBPACK_IMPORTED_MODULE_7__["MenuBoxBaseComponent"]),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", _shared_components_menu_box_base_menu_box_base_component__WEBPACK_IMPORTED_MODULE_7__["MenuBoxBaseComponent"])
    ], ViewerBaseComponent.prototype, "menuBar", void 0);
    ViewerBaseComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewer-base',
            template: __webpack_require__(/*! ./viewer-base.component.html */ "./src/app/viewer/containers/viewer-base/viewer-base.component.html"),
            styles: [__webpack_require__(/*! ./viewer-base.component.scss */ "./src/app/viewer/containers/viewer-base/viewer-base.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__["StateUtilService"],
            _core_services_wording_service__WEBPACK_IMPORTED_MODULE_6__["WordingService"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"],
            _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_5__["ViewManagerService"]])
    ], ViewerBaseComponent);
    return ViewerBaseComponent;
}());



/***/ }),

/***/ "./src/app/viewer/containers/viewer-base/viewer-base.menudata.ts":
/*!***********************************************************************!*\
  !*** ./src/app/viewer/containers/viewer-base/viewer-base.menudata.ts ***!
  \***********************************************************************/
/*! exports provided: getViewerMenuData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getViewerMenuData", function() { return getViewerMenuData; });
/**
 * メイン画面メニューの元データを返します
 * @param wording ワーディングサービス
 */
function getViewerMenuData(wording) {
    // ★Stitch V1.3対応 Viewer.mxml の　<core:xmlMenu> を元に作成
    return [
        {
            label: wording.get('lbl.menu.file'),
            name: 'file',
            items: [
                { label: wording.get('lbl.menu.changemode'), name: 'changeMode' },
                {
                    label: wording.get('lbl.menu.print'),
                    name: 'print',
                    data: 'root',
                    items: [
                        { label: wording.get('lbl.menu.allsection'), name: 'print', data: 'all' },
                        { label: wording.get('lbl.menu.selectsection'), name: 'print', data: 'select' }
                    ]
                },
                { label: wording.get('lbl.menu.property'), name: 'property' }
            ]
        },
        {
            label: wording.get('lbl.menu.view'),
            name: 'view',
            items: [{ label: wording.get('lbl.menu.refresh'), name: 'update' }]
        },
        {
            label: wording.get('lbl.menu.edit'),
            items: [
                { label: wording.get('lbl.menu.sectionreplace'), name: 'replace' },
                { label: wording.get('lbl.menu.add'), name: 'add' },
                { label: wording.get('lbl.menu.del'), name: 'del' }
            ]
        },
        {
            label: wording.get('lbl.menu.move'),
            name: 'move',
            items: [{ label: wording.get('lbl.menu.top'), name: 'moveTop' }, { label: wording.get('lbl.menu.bottom'), name: 'moveBottom' }]
        },
        {
            label: wording.get('lbl.menu.section'),
            name: 'section',
            items: [
                { label: wording.get('lbl.menu.rename'), name: 'renameSection' },
                { label: wording.get('lbl.menu.download'), name: 'sectionDownload' },
                { label: wording.get('lbl.menu.openapp'), name: 'openApplication' }
            ]
        },
        {
            label: wording.get('lbl.menu.document'),
            name: 'document',
            items: [
                { label: wording.get('lbl.menu.download'), name: 'download', data: 'document' },
                { label: wording.get('lbl.menu.inform'), name: 'inform' },
                { label: wording.get('lbl.menu.divide'), name: 'divide' }
            ]
        },
        {
            label: wording.get('lbl.menu.tool'),
            name: 'tool',
            items: [
                { label: wording.get('lbl.menu.createsubdata'), name: 'reCreateSubData' },
                { label: wording.get('lbl.menu.copyurl'), name: 'copyUrl' },
                { label: wording.get('lbl.menu.copymobileurl'), name: 'copyMobileUrl' }
            ]
        }
    ];
}


/***/ }),

/***/ "./src/app/viewer/containers/viewer-mapping-def.ts":
/*!*********************************************************!*\
  !*** ./src/app/viewer/containers/viewer-mapping-def.ts ***!
  \*********************************************************/
/*! exports provided: viewerViewToCommandMapDef */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "viewerViewToCommandMapDef", function() { return viewerViewToCommandMapDef; });
/* harmony import */ var _dialogs_confirm_update_dialog_confirm_update_dialog_commandmap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dialogs/confirm-update-dialog/confirm-update-dialog-commandmap */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog-commandmap.ts");
/* harmony import */ var _dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dialogs/confirm-update-dialog/confirm-update-dialog.component */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.ts");
/* harmony import */ var _dialogs_divide_section_dialog_divide_section_dialog_commandmap__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dialogs/divide-section-dialog/divide-section-dialog.commandmap */ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.commandmap.ts");
/* harmony import */ var _dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dialogs/divide-section-dialog/divide-section-dialog.component */ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.ts");
/* harmony import */ var _dialogs_edit_confirm_dialog_edit_confirm_dialog_commandmap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dialogs/edit-confirm-dialog/edit-confirm-dialog.commandmap */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.commandmap.ts");
/* harmony import */ var _dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dialogs/edit-confirm-dialog/edit-confirm-dialog.component */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts");
/* harmony import */ var _main_view_main_view_commandmap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./main-view/main-view-commandmap */ "./src/app/viewer/containers/main-view/main-view-commandmap.ts");
/* harmony import */ var _main_view_main_view_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./main-view/main-view.component */ "./src/app/viewer/containers/main-view/main-view.component.ts");
/* harmony import */ var _pdf_pdf_view_commandmap__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pdf/pdf-view.commandmap */ "./src/app/viewer/containers/pdf/pdf-view.commandmap.ts");
/* harmony import */ var _pdf_pdf_view_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pdf/pdf-view.component */ "./src/app/viewer/containers/pdf/pdf-view.component.ts");
/* harmony import */ var _section_section_view_commandmap__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./section/section-view.commandmap */ "./src/app/viewer/containers/section/section-view.commandmap.ts");
/* harmony import */ var _section_section_view_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./section/section-view.component */ "./src/app/viewer/containers/section/section-view.component.ts");
/* harmony import */ var _thumbnail_thumbnail_view_commandmap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./thumbnail/thumbnail-view.commandmap */ "./src/app/viewer/containers/thumbnail/thumbnail-view.commandmap.ts");
/* harmony import */ var _thumbnail_thumbnail_view_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./thumbnail/thumbnail-view.component */ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.ts");
/* harmony import */ var _viewer_base_viewer_base_commandmap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./viewer-base/viewer-base.commandmap */ "./src/app/viewer/containers/viewer-base/viewer-base.commandmap.ts");
/* harmony import */ var _viewer_base_viewer_base_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./viewer-base/viewer-base.component */ "./src/app/viewer/containers/viewer-base/viewer-base.component.ts");
/* harmony import */ var _viewer_viewer_commandmap__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./viewer/viewer.commandmap */ "./src/app/viewer/containers/viewer/viewer.commandmap.ts");
/* harmony import */ var _viewer_viewer_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./viewer/viewer.component */ "./src/app/viewer/containers/viewer/viewer.component.ts");


















/**
 * ViewとCommandMapの対応定義を記述する
 */
var viewerViewToCommandMapDef = [
    { view: _thumbnail_thumbnail_view_component__WEBPACK_IMPORTED_MODULE_13__["ThumbnailViewComponent"], commandMap: _thumbnail_thumbnail_view_commandmap__WEBPACK_IMPORTED_MODULE_12__["thumbnailViewCommandMap"] },
    { view: _viewer_base_viewer_base_component__WEBPACK_IMPORTED_MODULE_15__["ViewerBaseComponent"], commandMap: _viewer_base_viewer_base_commandmap__WEBPACK_IMPORTED_MODULE_14__["viewerBaseCommandMap"] },
    { view: _viewer_viewer_component__WEBPACK_IMPORTED_MODULE_17__["ViewerComponent"], commandMap: _viewer_viewer_commandmap__WEBPACK_IMPORTED_MODULE_16__["viewerCommandMap"] },
    { view: _main_view_main_view_component__WEBPACK_IMPORTED_MODULE_7__["MainViewComponent"], commandMap: _main_view_main_view_commandmap__WEBPACK_IMPORTED_MODULE_6__["mainViewCommandMap"] },
    //  { view: TreeViewComponent, commandMap: treeCommandMap },
    { view: _pdf_pdf_view_component__WEBPACK_IMPORTED_MODULE_9__["PdfViewComponent"], commandMap: _pdf_pdf_view_commandmap__WEBPACK_IMPORTED_MODULE_8__["pdfViewCommandMap"] },
    { view: _dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_3__["DivideSectionDialogComponent"], commandMap: _dialogs_divide_section_dialog_divide_section_dialog_commandmap__WEBPACK_IMPORTED_MODULE_2__["divideSectionDialogCommandMap"] },
    { view: _section_section_view_component__WEBPACK_IMPORTED_MODULE_11__["SectionViewComponent"], commandMap: _section_section_view_commandmap__WEBPACK_IMPORTED_MODULE_10__["sectionViewCommandMap"] },
    { view: _dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_5__["EditConfirmDialogComponent"], commandMap: _dialogs_edit_confirm_dialog_edit_confirm_dialog_commandmap__WEBPACK_IMPORTED_MODULE_4__["editConfirmDialogCommandMap"] },
    { view: _dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_1__["ConfirmUpdateDialogComponent"], commandMap: _dialogs_confirm_update_dialog_confirm_update_dialog_commandmap__WEBPACK_IMPORTED_MODULE_0__["confirmUpdateCommandMap"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/viewer/viewer.commandmap.ts":
/*!***************************************************************!*\
  !*** ./src/app/viewer/containers/viewer/viewer.commandmap.ts ***!
  \***************************************************************/
/*! exports provided: viewerCommandMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "viewerCommandMap", function() { return viewerCommandMap; });
/* harmony import */ var _shared_commands_creation_complete_base_command__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/commands/creation-complete-base-command */ "./src/app/shared/commands/creation-complete-base-command.ts");
/* harmony import */ var _shared_commands_resume_edit_confirm_command__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared/commands/resume-edit-confirm-command */ "./src/app/shared/commands/resume-edit-confirm-command.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _commands_applet_message_close_command__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../commands/applet-message-close-command */ "./src/app/viewer/commands/applet-message-close-command.ts");
/* harmony import */ var _commands_edit_complete_command__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../commands/edit-complete-command */ "./src/app/viewer/commands/edit-complete-command.ts");
/* harmony import */ var _commands_edit_upload_command__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../commands/edit-upload-command */ "./src/app/viewer/commands/edit-upload-command.ts");
/* harmony import */ var _commands_edit_upload_fts_command__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../commands/edit-upload-fts-command */ "./src/app/viewer/commands/edit-upload-fts-command.ts");
/* harmony import */ var _commands_edit_upload_section_command__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../commands/edit-upload-section-command */ "./src/app/viewer/commands/edit-upload-section-command.ts");
/* harmony import */ var _commands_get_document_detail_command__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../commands/get-document-detail-command */ "./src/app/viewer/commands/get-document-detail-command.ts");
/* harmony import */ var _commands_list_context_menu_click_command__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../commands/list-context-menu-click-command */ "./src/app/viewer/commands/list-context-menu-click-command.ts");
/* harmony import */ var _commands_sys0_application_complete_command__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../commands/sys0-application-complete-command */ "./src/app/viewer/commands/sys0-application-complete-command.ts");
/* harmony import */ var _commands_viewer_image_edit_command__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../commands/viewer-image-edit-command */ "./src/app/viewer/commands/viewer-image-edit-command.ts");
/* harmony import */ var _commands_viewer_unknown_file_ext_command__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../commands/viewer-unknown-file-ext-command */ "./src/app/viewer/commands/viewer-unknown-file-ext-command.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");














var viewerCommandMap = [
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.Sys0ApplicationComplete, command: _commands_sys0_application_complete_command__WEBPACK_IMPORTED_MODULE_10__["Sys0ApplicationCompleteCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.AppletMessageClose, command: _commands_applet_message_close_command__WEBPACK_IMPORTED_MODULE_3__["AppletMessageCloseCommand"] },
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.GetDocumentDetail, command: _commands_get_document_detail_command__WEBPACK_IMPORTED_MODULE_8__["GetDocumentDetailCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.CreationComplete, command: _shared_commands_creation_complete_base_command__WEBPACK_IMPORTED_MODULE_0__["CreationCompleteBaseCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.ContextMenuClick, command: _commands_list_context_menu_click_command__WEBPACK_IMPORTED_MODULE_9__["ListContextMenuClickCommand"] },
    // アプリ編集が終了した
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.EditComplete, command: _commands_edit_complete_command__WEBPACK_IMPORTED_MODULE_4__["EditCompleteCommand"] },
    // 編集したファイルをアップロード
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.EditUploadComplete, command: _commands_edit_upload_command__WEBPACK_IMPORTED_MODULE_5__["EditUploadCommand"] },
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.EditUploadSection, command: _commands_edit_upload_section_command__WEBPACK_IMPORTED_MODULE_7__["EditUploadSectionCommand"] },
    { action: _store_viewer_actions__WEBPACK_IMPORTED_MODULE_13__["ViewerCommand"].ViewerActionTypes.EditUploadFts, command: _commands_edit_upload_fts_command__WEBPACK_IMPORTED_MODULE_6__["EditUploadFtsCommand"] },
    // サイズが大きくなりすぎた
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.ResumeEdit, command: _shared_commands_resume_edit_confirm_command__WEBPACK_IMPORTED_MODULE_1__["ResumeEditConfirmCommand"] },
    // 関連付けしていないファイル
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.UnknownFileExt, command: _commands_viewer_unknown_file_ext_command__WEBPACK_IMPORTED_MODULE_12__["ViewerUnknownFileExtCommand"] },
    { action: _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_2__["SharedCommand"].SharedActionTypes.ImageEdit, command: _commands_viewer_image_edit_command__WEBPACK_IMPORTED_MODULE_11__["ViewerImageEditCommand"] }
];


/***/ }),

/***/ "./src/app/viewer/containers/viewer/viewer.component.html":
/*!****************************************************************!*\
  !*** ./src/app/viewer/containers/viewer/viewer.component.html ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- ViewerBase -->\r\n<app-viewer-base *ngIf=\"isInitializeComplete\"></app-viewer-base>\r\n"

/***/ }),

/***/ "./src/app/viewer/containers/viewer/viewer.component.scss":
/*!****************************************************************!*\
  !*** ./src/app/viewer/containers/viewer/viewer.component.scss ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "app-viewer-base {\n  width: 100%;\n  height: 100%; }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdmlld2VyL2NvbnRhaW5lcnMvdmlld2VyL0M6XFxVc2Vyc1xcZzEwMDE2ODUxXFxEb2N1bWVudHNcXGFuZ3VsYXItd29ya3NwYWNlXFxzbWEtbmF2aVxcYW5ndWxhclxccnNuL3NyY1xcYXBwXFx2aWV3ZXJcXGNvbnRhaW5lcnNcXHZpZXdlclxcdmlld2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL3ZpZXdlci9jb250YWluZXJzL3ZpZXdlci92aWV3ZXIuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJhcHAtdmlld2VyLWJhc2Uge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxufVxyXG4iXX0= */"

/***/ }),

/***/ "./src/app/viewer/containers/viewer/viewer.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/containers/viewer/viewer.component.ts ***!
  \**************************************************************/
/*! exports provided: ViewerComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerComponent", function() { return ViewerComponent; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_services_application_initialization_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/services/application-initialization.service */ "./src/app/core/services/application-initialization.service.ts");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_popup_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/services/popup.service */ "./src/app/core/services/popup.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/services/view-manager.service */ "./src/app/core/services/view-manager.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _core_store_core_actions__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/store/core.actions */ "./src/app/core/store/core.actions.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _core_utils_subscription_manager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/utils/subscription-manager */ "./src/app/core/utils/subscription-manager.ts");
/* harmony import */ var _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../core/utils/sys0-common-util */ "./src/app/core/utils/sys0-common-util.ts");
/* harmony import */ var _shared_components_progress_dialog_progress_dialog_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../shared/components/progress-dialog/progress-dialog.component */ "./src/app/shared/components/progress-dialog/progress-dialog.component.ts");
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _shared_store_shared_selectors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../shared/store/shared.selectors */ "./src/app/shared/store/shared.selectors.ts");
/* harmony import */ var _models_viewer_enable_model__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../models/viewer-enable-model */ "./src/app/viewer/models/viewer-enable-model.ts");
/* harmony import */ var _models_viewer_view_types__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../models/viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");
/* harmony import */ var _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../services/viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");




















/**
 * ビューアです
 */
var ViewerComponent = /** @class */ (function () {
    function ViewerComponent(componentFactoryResolver, viewContainerRef, initializer, store, popup, viewManager, controller, wording, stateUtilService) {
        this.initializer = initializer;
        this.store = store;
        this.popup = popup;
        this.viewManager = viewManager;
        this.controller = controller;
        this.wording = wording;
        this.stateUtilService = stateUtilService;
        // コマンドマップ
        this.commandMapDef = [];
        // 初期化完了フラグ
        this.isInitializeComplete = false;
        // ★Stitch V1.3対応
        // pdfView、thumbnailView、sectionListView(sectionView)は、ViewerManagerで参照するため不要
        // navigateMessageは、stateUtilService及びで参照するため不要
        // loginNameは、ViewerManagerでViewerBaseを取得し、ViewerBase.menuBar.userNameで参照するため不要
        // viewerTitleは、ViewerManagerでMainViewを取得し、MainView.messageAreaView.documentNameで参照するため不要
        /**  subscriptionを溜め込む */
        this.subscriptionManager = new _core_utils_subscription_manager__WEBPACK_IMPORTED_MODULE_11__["SubscriptionManager"]();
        this.popup.componentFactoryResolver = componentFactoryResolver;
        this.popup.viewContainerRef = viewContainerRef;
        this.enableModel = new _models_viewer_enable_model__WEBPACK_IMPORTED_MODULE_16__["ViewerEnableModel"](viewManager);
        // ロケータ初期化
        _services_viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_18__["ViewerModelLocatorService"].initialize();
        // storeのdispatch() メソッドを差し替え
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_12__["Sys0CommonUtil"].convertStoreDispatch(this.store);
    }
    ViewerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.viewManager.set(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_17__["ViewerViewTypes"].Root, this);
        this.controller.addCommandMap(this);
        // ApplicationInitializationService に Main/Viewerによって異なるプロパティを与えてから、初期化Actionをdispatchします
        this.initInitializationService();
        // アプリケーション初期化完了アクションのサブスクライブ
        this.subscriptionManager.push(this.store.pipe(Object(_ngrx_store__WEBPACK_IMPORTED_MODULE_2__["select"])(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_10__["getApplicationInitializeComplete"])).subscribe(function (isComplete) {
            if (isComplete) {
                _this.isInitializeComplete = isComplete;
            }
        }));
        this.store.dispatch(new _core_store_core_actions__WEBPACK_IMPORTED_MODULE_9__["ApplicationInitialize"]());
    };
    ViewerComponent.prototype.onSys0ApplicationComplete = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].Sys0ApplicationComplete(event, this));
    };
    ViewerComponent.prototype.onAppletMessageClose = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].AppletMessageClose(event, this));
    };
    ViewerComponent.prototype.onCreationComplete = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].CreationComplete(event, this));
    };
    ViewerComponent.prototype.onEditComplete = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].EditComplete(event, this));
    };
    ViewerComponent.prototype.onResumeEditConfirm = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].ResumeEdit(event, this));
    };
    ViewerComponent.prototype.onAutoEditUploadComplete = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].EditUploadComplete(event, this));
    };
    ViewerComponent.prototype.onUnknownFileExt = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].UnknownFileExt(event, this));
    };
    ViewerComponent.prototype.onImageEdit = function (event) {
        this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SharedCommand"].ImageEdit(event, this));
    };
    ViewerComponent.prototype.refreshMenuEnable = function () {
        // ★Stitch V1.3対応 メニューデータをstateから取得
        var menuData = this.stateUtilService.getCurrentState(_shared_store_shared_selectors__WEBPACK_IMPORTED_MODULE_15__["getMenu"]);
        if (menuData == null || this.enableModel == null) {
            return;
        }
        _core_utils_sys0_common_util__WEBPACK_IMPORTED_MODULE_12__["Sys0CommonUtil"].refreshMenuEnable(menuData, this.enableModel);
    };
    /**
     * 最初のポップアップを開く時の処理です。
     * PDFエリアのIFrameを非表示にします。
     * セクションエリアのD&amp;Dエリアを非表示にします。
     * 進捗中表示以外の場合は、メッセージエリアをクリアします
     */
    ViewerComponent.prototype.showPopupHandler = function (event) {
        this.isShowPopup = true; // フラグを立てる
        // PDFエリアを閉じる
        // ★Stitch V1.3対応 component取得
        var pdfView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_17__["ViewerViewTypes"].PdfView);
        pdfView.offIFrame(true);
        // IFrameエリアを閉じる
        // ★Stitch V1.3対応 component取得
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_17__["ViewerViewTypes"].SectionView);
        sectionView.visibleIFrameHtml = false;
        if (!(event.targetObj instanceof _shared_components_progress_dialog_progress_dialog_component__WEBPACK_IMPORTED_MODULE_13__["ProgressDialogComponent"])) {
            // ★Stitch V1.3対応 navigateMessage対応
            this.store.dispatch(new _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_14__["SetNavigateMessage"](''));
        }
    };
    /**
     * 最後のポップアップが閉じられるときの処理です。
     * セクションが選択されている場合で、PDFがある場合はPDFを表示します。
     * PDFがない場合は、PDFを表示しません。
     * セクションが選択されていない場合は、PDFを非表示にします。
     */
    ViewerComponent.prototype.hidePopupHandler = function (event) {
        this.isShowPopup = false; // フラグをおろす
        // ★Stitch V1.3対応 component取得
        var sectionView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_17__["ViewerViewTypes"].SectionView);
        var pdfView = this.viewManager.get(_models_viewer_view_types__WEBPACK_IMPORTED_MODULE_17__["ViewerViewTypes"].PdfView);
        var selectedItem = sectionView.thumbnailList.selectedItem;
        if (selectedItem) {
            if (selectedItem.enablePDF) {
                // PDFエリアを開く
                pdfView.offIFrame(false);
            }
            else {
                pdfView.iframe.source = null;
                pdfView.offIFrame(true);
                pdfView.message = this.wording.get('warn.pdf.datanonexist');
            }
        }
        else {
            pdfView.offIFrame(true);
        }
        if (sectionView.iframe.visible) {
            // IFrameエリアを開く
            sectionView.visibleIFrameHtml = true;
        }
    };
    ViewerComponent.prototype.initInitializationService = function () {
        this.initializer.preLoaderMessageKey = 'info.progress.viewerstarting';
        this.initializer.autoPreLoaderHide = false;
    };
    ViewerComponent = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Component"])({
            selector: 'app-viewer',
            template: __webpack_require__(/*! ./viewer.component.html */ "./src/app/viewer/containers/viewer/viewer.component.html"),
            styles: [__webpack_require__(/*! ./viewer.component.scss */ "./src/app/viewer/containers/viewer/viewer.component.scss")]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ComponentFactoryResolver"],
            _angular_core__WEBPACK_IMPORTED_MODULE_1__["ViewContainerRef"],
            _core_services_application_initialization_service__WEBPACK_IMPORTED_MODULE_3__["ApplicationInitializationService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _core_services_popup_service__WEBPACK_IMPORTED_MODULE_5__["PopupService"],
            _core_services_view_manager_service__WEBPACK_IMPORTED_MODULE_7__["ViewManagerService"],
            _core_services_controller_service__WEBPACK_IMPORTED_MODULE_4__["ControllerService"],
            _core_services_wording_service__WEBPACK_IMPORTED_MODULE_8__["WordingService"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_6__["StateUtilService"]])
    ], ViewerComponent);
    return ViewerComponent;
}());



/***/ }),

/***/ "./src/app/viewer/locator/viewer-model-locator.ts":
/*!********************************************************!*\
  !*** ./src/app/viewer/locator/viewer-model-locator.ts ***!
  \********************************************************/
/*! exports provided: ViewerModelLocator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerModelLocator", function() { return ViewerModelLocator; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/vo/section-vo */ "./src/app/core/vo/section-vo.ts");





/**
 * ビューアー画面のモデルロケーター
 */
var ViewerModelLocator = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerModelLocator, _super);
    /**
     * コンストラクタ
     */
    function ViewerModelLocator(urlService, stateUtilService) {
        var _this = _super.call(this) || this;
        _this.urlService = urlService;
        _this.stateUtilService = stateUtilService;
        /**
         * 更新モードで編集操作を行ったかどうか。
         */
        _this.updated = false;
        /**
         * 個人設定で、PDFを表示するにしているかどうか。
         */
        _this.showPdf = _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__["BaseModelLocator"].PDF_SHOW;
        /**
         * セクションを右クリックしたかどうかを表します。
         */
        _this.rightClick = true;
        /**
         * ビューアーID
         */
        _this.viewerId = null;
        /**
         * 文書プロパティ表示用
         */
        _this.documentPropInfo = null;
        /**
         * ドロップ先のアイテム
         */
        _this.dropTragetObject = null;
        /**
         * アップロードされたファイルの総数
         */
        _this.uploadSectionCount = -1;
        /**
         * アップロード中(D&D)
         */
        _this.uploading = false;
        /**
         * 登録済みの文書数
         */
        _this.createdSectionCount = -1;
        /**
         * セクション
         */
        _this.section = null;
        /**
         * ビューアー起動時に編集するセクション番号
         * nullの場合は、通常起動。
         */
        _this.editSection = null;
        /**
         * 起動中のアプリケーション管理用
         */
        _this.runnningAppSections = new Map();
        return _this;
    }
    /**
     * セクションNoを再採番する。
     */
    ViewerModelLocator.prototype.renumberSectionList = function () {
        var no = 1;
        if (this.sectionList && this.sectionList.length > 0) {
            for (var _i = 0, _a = this.sectionList; _i < _a.length; _i++) {
                var sectionVO = _a[_i];
                // ★Stitch V1.3対応 clone()メソッドが存在しない可能性があるため、isSectionVoでメソッドを生やす
                Object(_core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__["isSectionVO"])(sectionVO);
                var replaceSection = sectionVO.clone();
                replaceSection.sectionNo = no;
                if (replaceSection.tag) {
                    // 付箋がある場合。
                    replaceSection.tag.sectionNo = no; // 付箋のセクション番号を振り直す
                }
                if (replaceSection.hasOwnProperty(ViewerModelLocator.REQUEST_THUMBNAUL)) {
                    replaceSection[ViewerModelLocator.REQUEST_THUMBNAUL] = null; // 削除
                }
                this.sectionList[no - 1] = replaceSection; // オブジェクトごと入れ替えないとrendererが書き換わらないので。
                sectionVO = null;
                no++;
            }
        }
    };
    /**
     * D&Dをリセットする
     */
    ViewerModelLocator.prototype.resetUploadSection = function () {
        if (this.createdSectionCount >= 0) {
            this.createdSectionCount = -1;
            this.uploadSectionCount = -1;
        }
    };
    Object.defineProperty(ViewerModelLocator.prototype, "sectionCount", {
        /**
         * セクション数を取得する
         */
        get: function () {
            if (this.sectionList) {
                return this.sectionList.length;
            }
            else {
                return 0;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerModelLocator.prototype, "runningApp", {
        /**
         * 起動中のアプリケーション管理用
         */
        get: function () {
            var open = false;
            for (var _i = 0, _a = Array.from(this.runnningAppSections.keys()); _i < _a.length; _i++) {
                var key = _a[_i];
                if (this.runnningAppSections.get(key) === _core_vo_section_vo__WEBPACK_IMPORTED_MODULE_4__["SectionVO"].APP_OPEN) {
                    open = true;
                    break;
                }
            }
            return open;
        },
        set: function (value) { },
        enumerable: true,
        configurable: true
    });
    /**
     * アプリ起動のフラグを消去する。
     *
     * @param key セクションNo
     *
     */
    ViewerModelLocator.prototype.removeApp = function (key) {
        this.runnningAppSections.delete(key);
    };
    /**
     * 全てのアプリ起動情報を消去する。
     */
    ViewerModelLocator.prototype.removeAllApp = function () {
        this.runnningAppSections.clear();
    };
    /**
     * JSPのURL取得する。
     */
    ViewerModelLocator.prototype.getJspUrl = function () {
        // ★Stitch V1.3対応 Sys0Application不要な為、削除
        // const app: Sys0Application = Sys0Application.application;
        // remoteサーバーのURL
        var remoteUrl = null;
        // ★Stitch V1.3対応 clientInfo情報をstateから取得
        var clientInfo = this.stateUtilService.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_3__["getClientInfo"]);
        // ★Stitch V1.3対応 LoginInfo情報をstateから取得
        var loginInfo = this.stateUtilService.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_3__["getLoginInfo"]);
        // ★Stitch V1.3対応 urlServiceを使用。BaseURL → getBaseURL()、BaseRemoteUrl → getBaseRemoteUrl()
        // リモートサーバーが指定されているか？
        if (this.urlService.getBaseURL() !== this.urlService.getBaseRemoteUrl()) {
            // ★Stitch V1.3対応 {server.name}の判定を削除
            if (this.urlService.getBaseRemoteUrl() != null) {
                remoteUrl = this.urlService.getBaseRemoteUrl();
            }
        }
        // ★Stitch V1.3対応 urlServiceを使用。BaseURL → getBaseURL()
        // ★Stitch V1.3対応 開発環境の場合はリモートサーバに向ける
        // IFrameに読み込むURLを生成する。
        // BaseURL
        var url = _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"].production ? this.urlService.getBaseURL() : this.urlService.getBaseRemoteUrl();
        // D&D JSPへのパス
        if (this.runningApp) {
            // ★Stitch V1.3対応 clientInfoのVIEWER_DND_DISABLE_PATHを使用
            url += clientInfo.viewerDnDDisablePath;
        }
        else {
            // ★Stitch V1.3対応 clientInfoのVIEWER_DND_PATHを使用
            url += clientInfo.viewerDnDPath;
        }
        // remoteUrlが指定されている場合付加する
        if (remoteUrl != null) {
            url += 'remoteUrl=' + remoteUrl + '/';
            // ★Stitch V1.3対応 loginInfoのsessionIdを使用
            url += '&sessionID=' + loginInfo.sessionId;
            url += '&';
        }
        // アプレットのサイズと背景色を指定する。
        // ★Stitch V1.3対応 clientInfoのVIEWER_DND_STATUSを使用
        url += clientInfo.viewerDnDStatus;
        url += '&' + ViewerModelLocator.VIEWER_ID + '=' + this.viewerId;
        return url;
    };
    /**
     * サムネイル取得中かどうかのフラグ用
     */
    ViewerModelLocator.REQUEST_THUMBNAUL = 'requestThumbnail';
    /**
     * ビューアーID定数
     */
    ViewerModelLocator.VIEWER_ID = 'viewId';
    return ViewerModelLocator;
}(_core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_2__["BaseModelLocator"]));



/***/ }),

/***/ "./src/app/viewer/models/viewer-enable-model.ts":
/*!******************************************************!*\
  !*** ./src/app/viewer/models/viewer-enable-model.ts ***!
  \******************************************************/
/*! exports provided: ViewerEnableModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerEnableModel", function() { return ViewerEnableModel; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _core_models_menu_enable_model__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/models/menu-enable-model */ "./src/app/core/models/menu-enable-model.ts");
/* harmony import */ var _core_application_error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./../../core/application-error */ "./src/app/core/application-error.ts");
/* harmony import */ var _viewer_view_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./viewer-view-types */ "./src/app/viewer/models/viewer-view-types.ts");




/**
 * ビューアーのメニュー制御用モデル
 *
 */
var ViewerEnableModel = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerEnableModel, _super);
    /**
     * コンストラクタです
     */
    function ViewerEnableModel(viewManagerService) {
        var _this = _super.call(this) || this;
        _this.viewManagerService = viewManagerService;
        _this._changeMode = true;
        _this._updateComplete = false;
        _this._showPDF = false;
        _this._openFtsData = false;
        _this._replace = false;
        _this._add = false;
        _this._divide = false;
        _this._move = false;
        _this._moveTop = false;
        _this._moveForward = false;
        _this._moveBackward = false;
        _this._moveBottom = false;
        _this._download = false;
        _this._sectionDownload = false;
        _this._renameSection = false;
        _this._print = false;
        _this._printAll = true;
        // ★Stitch V1.3対応 変数を追加
        /**
         * メニューデータの参照
         */
        _this.menuData = null;
        return _this;
    }
    Object.defineProperty(ViewerEnableModel.prototype, "changeMode", {
        /**
         * 更新モード切替
         */
        get: function () {
            return this._changeMode;
        },
        set: function (value) {
            this._changeMode = value;
            this.setMenuEnable(this.getMenuList('changeMode'), value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "updateComplete", {
        /**
         * 読み取りモード切替
         */
        get: function () {
            return this._updateComplete;
        },
        set: function (value) {
            this._updateComplete = value;
            this.setMenuEnable(this.getMenuList('updateComplete'), value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "showPDF", {
        /**
         * PDF表示
         */
        get: function () {
            return this._showPDF;
        },
        set: function (value) {
            this._showPDF = value;
            this.setMenuEnable(this.getMenuList('showPDF'), value);
            this.setContextMenuEnable('showPDF', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "openFtsData", {
        /**
         * 全文検索データ表示
         */
        get: function () {
            return this._openFtsData;
        },
        set: function (value) {
            this._openFtsData = value;
            this.setMenuEnable(this.getMenuList('openFtsData'), value);
            this.setContextMenuEnable('openFtsData', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "replace", {
        /**
         * セクション差し替え
         */
        get: function () {
            return this._replace;
        },
        set: function (value) {
            this._replace = value;
            this.setMenuEnable(this.getMenuList('replace'), value);
            this.setContextMenuEnable('replace', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "add", {
        /**
         * セクション追加
         */
        get: function () {
            return this._add;
        },
        set: function (value) {
            this._add = value;
            this.setMenuEnable(this.getMenuList('add'), value);
            this.setContextMenuEnable('add', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "divide", {
        /**
         * 分割
         */
        get: function () {
            return this._divide;
        },
        set: function (value) {
            this._divide = value;
            this.setMenuEnable(this.getMenuList('divide'), value);
            this.setContextMenuEnable('divide', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "move", {
        /**
         * 移動
         */
        get: function () {
            return this._move;
        },
        set: function (value) {
            this._move = value;
            this.setMenuEnable(this.getMenuList('move'), value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "moveTop", {
        /**
         * 先頭へ
         */
        get: function () {
            return this._moveTop;
        },
        set: function (value) {
            this._moveTop = value;
            var name = 'moveTop';
            this.setMenuEnable(this.getMenuList('moveTop'), value);
            this.setContextMenuEnable(name, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "moveForward", {
        /**
         * 前へ
         */
        get: function () {
            return this._moveForward;
        },
        set: function (value) {
            this._moveForward = value;
            var name = 'moveForward';
            this.setMenuEnable(this.getMenuList(name), value);
            this.setContextMenuEnable(name, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "moveBackward", {
        /**
         * 後ろへ
         */
        get: function () {
            return this._moveBackward;
        },
        set: function (value) {
            this._moveBackward = value;
            var name = 'moveBackward';
            this.setMenuEnable(this.getMenuList(name), value);
            this.setContextMenuEnable(name, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "moveBottom", {
        /**
         * 最後へ
         */
        get: function () {
            return this._moveBottom;
        },
        set: function (value) {
            this._moveBottom = value;
            var name = 'moveBottom';
            this.setMenuEnable(this.getMenuList('moveBottom'), value);
            this.setContextMenuEnable(name, value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "download", {
        /**
         * ダウンロード
         */
        get: function () {
            return this._download;
        },
        set: function (value) {
            this._download = value;
            this.setMenuEnable(this.getMenuList('download'), value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "sectionDownload", {
        /**
         * セクションダウンロード
         */
        get: function () {
            return this._sectionDownload;
        },
        set: function (value) {
            this._sectionDownload = value;
            this.setMenuEnable(this.getMenuList('sectionDownload'), value);
            this.setContextMenuEnable('sectionDownload', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "renameSection", {
        /**
         * セクション名変更
         */
        get: function () {
            return this._renameSection;
        },
        set: function (value) {
            this._renameSection = value;
            this.setMenuEnable(this.getMenuList('renameSection'), value);
            this.setContextMenuEnable('renameSection', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "print", {
        /**
         * 印刷
         */
        get: function () {
            return this._print;
        },
        set: function (value) {
            this._print = value;
            this.setMenuEnable(this.getMenuList('select'), value);
            this.setContextMenuEnable('print', value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ViewerEnableModel.prototype, "printAll", {
        /**
         * すべてのセクション
         */
        get: function () {
            return this._printAll;
        },
        set: function (value) {
            this._printAll = value;
            this.setMenuEnable(this.getMenuList('root'), value);
            this.setMenuEnable(this.getMenuList('all'), value);
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @inheritdoc
     */
    ViewerEnableModel.prototype.getMenuList = function (name) {
        // ★Stitch V1.3対応  毎回viewの参照をgetするのはコストがかかるので、変数に退避
        if (this.menuData == null) {
            var viewerBase = this.viewManagerService.get(_viewer_view_types__WEBPACK_IMPORTED_MODULE_3__["ViewerViewTypes"].ViewerBase);
            if (viewerBase == null) {
                throw new _core_application_error__WEBPACK_IMPORTED_MODULE_2__["ApplicationError"]('Unexpected null value for viewerBaseView.');
            }
            this.menuData = viewerBase.menuDataProvider;
        }
        // 指定されたキーのメニューデータだけ返却する
        return this.findMenuItem(this.menuData, name);
    };
    return ViewerEnableModel;
}(_core_models_menu_enable_model__WEBPACK_IMPORTED_MODULE_1__["MenuEnableModel"]));



/***/ }),

/***/ "./src/app/viewer/services/sys0-viewer.service.ts":
/*!********************************************************!*\
  !*** ./src/app/viewer/services/sys0-viewer.service.ts ***!
  \********************************************************/
/*! exports provided: Sys0ViewerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Sys0ViewerService", function() { return Sys0ViewerService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/locator/base-model-locator */ "./src/app/core/locator/base-model-locator.ts");
/* harmony import */ var _core_services_logger_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/services/logger.service */ "./src/app/core/services/logger.service.ts");
/* harmony import */ var _core_services_message_dialog_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/services/message-dialog.service */ "./src/app/core/services/message-dialog.service.ts");
/* harmony import */ var _core_services_progress_manager_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../core/services/progress-manager.service */ "./src/app/core/services/progress-manager.service.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_wording_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../core/services/wording.service */ "./src/app/core/services/wording.service.ts");
/* harmony import */ var _core_store_core_selectors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../core/store/core.selectors */ "./src/app/core/store/core.selectors.ts");
/* harmony import */ var _viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./viewer-model-locator.service */ "./src/app/viewer/services/viewer-model-locator.service.ts");












/**
 * ビューアーサービス
 */
var Sys0ViewerService = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](Sys0ViewerService, _super);
    function Sys0ViewerService(wordingService, logger, messageService, store, stateUtil, progressManager) {
        var _this = _super.call(this, wordingService, logger, messageService, store) || this;
        _this.wordingService = wordingService;
        _this.logger = logger;
        _this.messageService = messageService;
        _this.store = store;
        _this.stateUtil = stateUtil;
        _this.progressManager = progressManager;
        return _this;
    }
    /**
     * メッセージ表示
     *
     * @param propertyId
     * @param key メッセージキー
     */
    Sys0ViewerService.prototype.viewMessage = function (propertyId, key) {
        // プログレスバーを閉じる
        this.progressManager.removeCommand(null);
        _super.prototype.viewMessage.call(this, propertyId, key);
    };
    /**
     * ブラウザ×ボタン対応
     *
     * @returns ブラウザが閉じる前に表示するメッセージ
     */
    Sys0ViewerService.prototype.beforeUnload = function () {
        var isStopped = this.stateUtil.getCurrentState(_core_store_core_selectors__WEBPACK_IMPORTED_MODULE_10__["getApplicationStop"]) || false;
        if (!isStopped) {
            var locator = _viewer_model_locator_service__WEBPACK_IMPORTED_MODULE_11__["ViewerModelLocatorService"].getInstance();
            if (locator.currentMode === _core_locator_base_model_locator__WEBPACK_IMPORTED_MODULE_4__["BaseModelLocator"].MODE_EDITABLE) {
                if (locator.runningApp) {
                    return this.wordingService.get('warn.viewer.openapplication');
                }
                else {
                    return this.wordingService.get('warn.viewer.editable');
                }
            }
            else if (locator.beforeUnloadShowMsgDocProp) {
                return this.wordingService.get('warn.docprop.closeprop');
            }
            else {
                return null;
            }
        }
        else {
            return null;
        }
    };
    Sys0ViewerService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_wording_service__WEBPACK_IMPORTED_MODULE_9__["WordingService"],
            _core_services_logger_service__WEBPACK_IMPORTED_MODULE_5__["Logger"],
            _core_services_message_dialog_service__WEBPACK_IMPORTED_MODULE_6__["MessageDialogService"],
            _ngrx_store__WEBPACK_IMPORTED_MODULE_2__["Store"],
            _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_8__["StateUtilService"],
            _core_services_progress_manager_service__WEBPACK_IMPORTED_MODULE_7__["ProgressManager"]])
    ], Sys0ViewerService);
    return Sys0ViewerService;
}(_core_external_js_callback__WEBPACK_IMPORTED_MODULE_3__["ExternalJsCallback"]));



/***/ }),

/***/ "./src/app/viewer/services/viewer-mapping.service.ts":
/*!***********************************************************!*\
  !*** ./src/app/viewer/services/viewer-mapping.service.ts ***!
  \***********************************************************/
/*! exports provided: ViewerMappingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerMappingService", function() { return ViewerMappingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_services_base_mapping_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/services/base-mapping.service */ "./src/app/core/services/base-mapping.service.ts");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _core_services_logger_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/services/logger.service */ "./src/app/core/services/logger.service.ts");
/* harmony import */ var _shared_containers_shared_mapping_def__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/containers/shared-mapping-def */ "./src/app/shared/containers/shared-mapping-def.ts");
/* harmony import */ var _containers_viewer_mapping_def__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../containers/viewer-mapping-def */ "./src/app/viewer/containers/viewer-mapping-def.ts");







/**
 * ViewとCommandMapのマッピングを管理するサービス
 */
var ViewerMappingService = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerMappingService, _super);
    /**
     * コンストラクタ
     */
    function ViewerMappingService(controller, logger) {
        var _this = _super.call(this, controller, logger) || this;
        _this.logger = logger;
        /**
         * ViewとCommandMapのマッピング（複数）
         */
        _this.def = _containers_viewer_mapping_def__WEBPACK_IMPORTED_MODULE_6__["viewerViewToCommandMapDef"].concat(_shared_containers_shared_mapping_def__WEBPACK_IMPORTED_MODULE_5__["sharedViewToCommandMapDef"]);
        return _this;
    }
    ViewerMappingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"], _core_services_logger_service__WEBPACK_IMPORTED_MODULE_4__["Logger"]])
    ], ViewerMappingService);
    return ViewerMappingService;
}(_core_services_base_mapping_service__WEBPACK_IMPORTED_MODULE_2__["BaseMappingService"]));



/***/ }),

/***/ "./src/app/viewer/services/viewer-menu-mapping.service.ts":
/*!****************************************************************!*\
  !*** ./src/app/viewer/services/viewer-menu-mapping.service.ts ***!
  \****************************************************************/
/*! exports provided: ViewerMenuMappingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerMenuMappingService", function() { return ViewerMenuMappingService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_services_base_menu_mapping_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/services/base-menu-mapping.service */ "./src/app/core/services/base-menu-mapping.service.ts");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _viewer_menu_to_action_map__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewer-menu-to-action-map */ "./src/app/viewer/services/viewer-menu-to-action-map.ts");





/**
 * メニューキーとアクションのマッピング定義を管理するサービス
 */
var ViewerMenuMappingService = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerMenuMappingService, _super);
    /**
     * コンストラクタ
     * @param controller コマンド生成サービス
     */
    function ViewerMenuMappingService(controller) {
        var _this = _super.call(this) || this;
        /**
         * メニューキーとアクションのマッピング定義
         */
        _this.menuToActionMap = _viewer_menu_to_action_map__WEBPACK_IMPORTED_MODULE_4__["viewerMenuToActionMap"];
        controller.setMenuToActionMap(_this.menuToActionMap);
        return _this;
    }
    ViewerMenuMappingService = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"]])
    ], ViewerMenuMappingService);
    return ViewerMenuMappingService;
}(_core_services_base_menu_mapping_service__WEBPACK_IMPORTED_MODULE_2__["BaseMenuMappingService"]));



/***/ }),

/***/ "./src/app/viewer/services/viewer-menu-to-action-map.ts":
/*!**************************************************************!*\
  !*** ./src/app/viewer/services/viewer-menu-to-action-map.ts ***!
  \**************************************************************/
/*! exports provided: viewerMenuToActionMap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "viewerMenuToActionMap", function() { return viewerMenuToActionMap; });
/* harmony import */ var _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/store/shared.actions */ "./src/app/shared/store/shared.actions.ts");
/* harmony import */ var _store_viewer_actions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../store/viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");


/**
 * メニュー名とアクションを紐付けるマップ定義
 */
var viewerMenuToActionMap = new Map([
    ['changeMode', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.ChangeMode],
    ['print', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Print],
    ['property', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Property],
    ['update', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Update],
    ['replace', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Replace],
    ['add', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Add],
    ['del', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Delete],
    ['moveTop', _store_viewer_actions__WEBPACK_IMPORTED_MODULE_1__["ViewerCommand"].ViewerActionTypes.MoveTop],
    ['moveBottom', _store_viewer_actions__WEBPACK_IMPORTED_MODULE_1__["ViewerCommand"].ViewerActionTypes.MoveBottom],
    ['renameSection', _store_viewer_actions__WEBPACK_IMPORTED_MODULE_1__["ViewerCommand"].ViewerActionTypes.RenameSection],
    ['sectionDownload', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.SectionDownload],
    ['openApplication', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.OpenApplication],
    ['download', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Download],
    ['inform', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Inform],
    ['divide', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.Divide],
    ['reCreateSubData', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.ReCreateSubData],
    ['copyUrl', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.CopyUrl],
    ['copyMobileUrl', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.CopyMobileUrl],
    ['openFtsData', _shared_store_shared_actions__WEBPACK_IMPORTED_MODULE_0__["SharedCommand"].SharedActionTypes.OpenFtsData]
]);


/***/ }),

/***/ "./src/app/viewer/services/viewer-model-locator.service.ts":
/*!*****************************************************************!*\
  !*** ./src/app/viewer/services/viewer-model-locator.service.ts ***!
  \*****************************************************************/
/*! exports provided: ViewerModelLocatorService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerModelLocatorService", function() { return ViewerModelLocatorService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _core_services_base_model_locator_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/services/base-model-locator.service */ "./src/app/core/services/base-model-locator.service.ts");
/* harmony import */ var _core_services_locator_service_factory__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/services/locator-service-factory */ "./src/app/core/services/locator-service-factory.ts");
/* harmony import */ var _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../core/services/state-util.service */ "./src/app/core/services/state-util.service.ts");
/* harmony import */ var _core_services_url_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/services/url.service */ "./src/app/core/services/url.service.ts");
/* harmony import */ var _core_utils_injector_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/utils/injector-provider */ "./src/app/core/utils/injector-provider.ts");
/* harmony import */ var _locator_viewer_model_locator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../locator/viewer-model-locator */ "./src/app/viewer/locator/viewer-model-locator.ts");








/**
 * ViewerModelLocatorを保持するサービス
 */
var ViewerModelLocatorService = /** @class */ (function (_super) {
    tslib__WEBPACK_IMPORTED_MODULE_0__["__extends"](ViewerModelLocatorService, _super);
    function ViewerModelLocatorService(urlService, stateUtilService) {
        var _this = _super.call(this) || this;
        _this.urlService = urlService;
        _this.stateUtilService = stateUtilService;
        _this.locator = new _locator_viewer_model_locator__WEBPACK_IMPORTED_MODULE_7__["ViewerModelLocator"](urlService, stateUtilService);
        return _this;
    }
    ViewerModelLocatorService_1 = ViewerModelLocatorService;
    /**
     * staticな初期化処理
     */
    ViewerModelLocatorService.initialize = function () {
        // locator serviceを登録する
        Object(_core_services_locator_service_factory__WEBPACK_IMPORTED_MODULE_3__["setLocatorService"])(ViewerModelLocatorService_1);
    };
    /**
     * 唯一つのインスタンスを取得する。
     */
    ViewerModelLocatorService.getInstance = function () {
        return _core_utils_injector_provider__WEBPACK_IMPORTED_MODULE_6__["InjectorProvider"].get().get(ViewerModelLocatorService_1).locator;
    };
    var ViewerModelLocatorService_1;
    ViewerModelLocatorService = ViewerModelLocatorService_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])({
            providedIn: 'root'
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_core_services_url_service__WEBPACK_IMPORTED_MODULE_5__["UrlService"], _core_services_state_util_service__WEBPACK_IMPORTED_MODULE_4__["StateUtilService"]])
    ], ViewerModelLocatorService);
    return ViewerModelLocatorService;
}(_core_services_base_model_locator_service__WEBPACK_IMPORTED_MODULE_2__["BaseModelLocatorService"]));



/***/ }),

/***/ "./src/app/viewer/store/viewer.actions.ts":
/*!************************************************!*\
  !*** ./src/app/viewer/store/viewer.actions.ts ***!
  \************************************************/
/*! exports provided: ViewerCommand, ViewerActionTypes, SetViewerEnableModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerCommand", function() { return ViewerCommand; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerActionTypes", function() { return ViewerActionTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SetViewerEnableModel", function() { return SetViewerEnableModel; });
/**
 * Commandで使用するActionの定義
 */
var ViewerCommand;
(function (ViewerCommand) {
    /**
     * viewerのActionのtype定義
     */
    // tslint:disable-next-line:no-shadowed-variable
    var ViewerActionTypes;
    (function (ViewerActionTypes) {
        ViewerActionTypes["MenuShow"] = "[Viewer] Action Type Menu Show";
        ViewerActionTypes["MenuHide"] = "[Viewer] Action Type Menu Hide";
        ViewerActionTypes["RenameSection"] = "[Viewer] Action Type Rename Section";
        ViewerActionTypes["MoveTop"] = "[Viewer] Action Type Move Top";
        ViewerActionTypes["MoveForward"] = "[Viewer] Action Type Move Forward";
        ViewerActionTypes["MoveBackward"] = "[Viewer] Action Type Move Backward";
        ViewerActionTypes["MoveBottom"] = "[Viewer] Action Type Move Bottom";
        ViewerActionTypes["GetDocumentDetail"] = "[Viewer] Action Type Get Document Detail";
        ViewerActionTypes["EditUploadSection"] = "[Viewer] Action Type Edit Upload Section";
        ViewerActionTypes["EditUploadFts"] = "[Viewer] Action Type Edit Upload Fts";
        ViewerActionTypes["ShowPdf"] = "[Viewer] Action Type Show Pdf";
        ViewerActionTypes["TextInputFocusOut"] = "[Viewer] Action Type Text Input Focus Out";
        ViewerActionTypes["InsertSection"] = "[Viewer] Action Type Insert Section";
        ViewerActionTypes["ClickSelectButton"] = "[Viewer] Action Type Click Select Button";
        ViewerActionTypes["ClickOkCancel"] = "[Viewer] Action Type Click OkCancel Button";
    })(ViewerActionTypes = ViewerCommand.ViewerActionTypes || (ViewerCommand.ViewerActionTypes = {}));
    /**
     * MenuShow
     */
    var MenuShow = /** @class */ (function () {
        function MenuShow(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.MenuShow;
        }
        return MenuShow;
    }());
    ViewerCommand.MenuShow = MenuShow;
    /**
     * MenuHide
     */
    var MenuHide = /** @class */ (function () {
        function MenuHide(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.MenuHide;
        }
        return MenuHide;
    }());
    ViewerCommand.MenuHide = MenuHide;
    /**
     * RenameSection
     */
    var RenameSection = /** @class */ (function () {
        function RenameSection(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.RenameSection;
        }
        return RenameSection;
    }());
    ViewerCommand.RenameSection = RenameSection;
    /**
     * MoveTop
     */
    var MoveTop = /** @class */ (function () {
        function MoveTop(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.MoveTop;
        }
        return MoveTop;
    }());
    ViewerCommand.MoveTop = MoveTop;
    /**
     * MoveForward
     */
    var MoveForward = /** @class */ (function () {
        function MoveForward(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.MoveForward;
        }
        return MoveForward;
    }());
    ViewerCommand.MoveForward = MoveForward;
    /**
     * MoveBackward
     */
    var MoveBackward = /** @class */ (function () {
        function MoveBackward(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.MoveBackward;
        }
        return MoveBackward;
    }());
    ViewerCommand.MoveBackward = MoveBackward;
    /**
     * MoveBottom
     */
    var MoveBottom = /** @class */ (function () {
        function MoveBottom(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.MoveBottom;
        }
        return MoveBottom;
    }());
    ViewerCommand.MoveBottom = MoveBottom;
    /**
     * GetDocumentDetail
     */
    var GetDocumentDetail = /** @class */ (function () {
        function GetDocumentDetail(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.GetDocumentDetail;
        }
        return GetDocumentDetail;
    }());
    ViewerCommand.GetDocumentDetail = GetDocumentDetail;
    /**
     * EditUploadSection
     */
    var EditUploadSection = /** @class */ (function () {
        function EditUploadSection(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.EditUploadSection;
        }
        return EditUploadSection;
    }());
    ViewerCommand.EditUploadSection = EditUploadSection;
    /**
     * EditUploadFts
     */
    var EditUploadFts = /** @class */ (function () {
        function EditUploadFts(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.EditUploadFts;
        }
        return EditUploadFts;
    }());
    ViewerCommand.EditUploadFts = EditUploadFts;
    /**
     *PDF表示
     */
    var ShowPdf = /** @class */ (function () {
        function ShowPdf(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.ShowPdf;
        }
        return ShowPdf;
    }());
    ViewerCommand.ShowPdf = ShowPdf;
    /**
     * TextInputFocusOut
     */
    var TextInputFocusOut = /** @class */ (function () {
        function TextInputFocusOut(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.TextInputFocusOut;
        }
        return TextInputFocusOut;
    }());
    ViewerCommand.TextInputFocusOut = TextInputFocusOut;
    /**
     * InsertSection
     */
    var InsertSection = /** @class */ (function () {
        function InsertSection(payload) {
            this.payload = payload;
            this.type = ViewerActionTypes.InsertSection;
        }
        return InsertSection;
    }());
    ViewerCommand.InsertSection = InsertSection;
    /**
     * ClickSelectButton
     */
    var ClickSelectButton = /** @class */ (function () {
        function ClickSelectButton(payload, parentObject) {
            this.payload = payload;
            this.parentObject = parentObject;
            this.type = ViewerActionTypes.ClickSelectButton;
        }
        return ClickSelectButton;
    }());
    ViewerCommand.ClickSelectButton = ClickSelectButton;
    /**
     * ClickOkCancelButton
     */
    var ClickOkCancelButton = /** @class */ (function () {
        function ClickOkCancelButton(payload, parentObject) {
            this.payload = payload;
            this.parentObject = parentObject;
            this.type = ViewerActionTypes.ClickOkCancel;
        }
        return ClickOkCancelButton;
    }());
    ViewerCommand.ClickOkCancelButton = ClickOkCancelButton;
})(ViewerCommand || (ViewerCommand = {}));
/**
 * Command以外のViewerのActionのtype定義
 */
/**
 * Command以外のViewerのActionのtype定義
 */
var ViewerActionTypes;
(function (ViewerActionTypes) {
    ViewerActionTypes["SetViewerEnableModel"] = "[Main] Set Viewer Enable Model";
    ViewerActionTypes["ClickOkCancel"] = "ClickOkCancel";
})(ViewerActionTypes || (ViewerActionTypes = {}));
/**
 * ViewerEnableModelに書き込むAction
 */
var SetViewerEnableModel = /** @class */ (function () {
    function SetViewerEnableModel(payload) {
        this.payload = payload;
        this.type = ViewerActionTypes.SetViewerEnableModel;
    }
    return SetViewerEnableModel;
}());



/***/ }),

/***/ "./src/app/viewer/store/viewer.effects.ts":
/*!************************************************!*\
  !*** ./src/app/viewer/store/viewer.effects.ts ***!
  \************************************************/
/*! exports provided: ViewerEffects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerEffects", function() { return ViewerEffects; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/services/controller.service */ "./src/app/core/services/controller.service.ts");
/* harmony import */ var _viewer_actions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");





/**
 * viewerモジュールに定義されたActionの副作用を定義するEffectsクラス
 */
var ViewerEffects = /** @class */ (function () {
    function ViewerEffects(actions$, controller) {
        this.actions$ = actions$;
        this.controller = controller;
        this.menuShow$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.MenuShow);
        this.menuHide$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.MenuHide);
        this.renameSection$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.RenameSection);
        this.moveTop$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.MoveTop);
        this.moveForward$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.MoveForward);
        this.moveBackward$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.MoveBackward);
        this.moveBottom$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.MoveBottom);
        this.getDocumentDetail$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.GetDocumentDetail);
        this.editUploadSection$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.EditUploadSection);
        this.editUploadFts$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.EditUploadFts);
        this.showPdf$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.ShowPdf);
        this.textInputFocusOut$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.TextInputFocusOut);
        this.insertSection$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.InsertSection);
        this.clickSelectButton$ = this.controller.doSideEffect(this.actions$, _viewer_actions__WEBPACK_IMPORTED_MODULE_4__["ViewerCommand"].ViewerActionTypes.ClickSelectButton);
    }
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "menuShow$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "menuHide$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "renameSection$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "moveTop$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "moveForward$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "moveBackward$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "moveBottom$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "getDocumentDetail$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "editUploadSection$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "editUploadFts$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "showPdf$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "textInputFocusOut$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "insertSection$", void 0);
    tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Effect"])({ dispatch: false }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:type", Object)
    ], ViewerEffects.prototype, "clickSelectButton$", void 0);
    ViewerEffects = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["Actions"], _core_services_controller_service__WEBPACK_IMPORTED_MODULE_3__["ControllerService"]])
    ], ViewerEffects);
    return ViewerEffects;
}());



/***/ }),

/***/ "./src/app/viewer/store/viewer.initial-state.ts":
/*!******************************************************!*\
  !*** ./src/app/viewer/store/viewer.initial-state.ts ***!
  \******************************************************/
/*! exports provided: getViewerInitialState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getViewerInitialState", function() { return getViewerInitialState; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_store_shared_initial_state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/store/shared.initial-state */ "./src/app/shared/store/shared.initial-state.ts");


/**
 * Storeの初期状態設定
 */
function getViewerInitialState() {
    var viewerInitialState = {
        viewer: {}
    };
    var sharedState = Object(_shared_store_shared_initial_state__WEBPACK_IMPORTED_MODULE_1__["getSharedInitialState"])();
    var wholeState = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, sharedState, viewerInitialState);
    return wholeState;
}


/***/ }),

/***/ "./src/app/viewer/store/viewer.reducer.ts":
/*!************************************************!*\
  !*** ./src/app/viewer/store/viewer.reducer.ts ***!
  \************************************************/
/*! exports provided: viewerReducer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "viewerReducer", function() { return viewerReducer; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _shared_store_shared_reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/store/shared.reducer */ "./src/app/shared/store/shared.reducer.ts");
/* harmony import */ var _viewer_actions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./viewer.actions */ "./src/app/viewer/store/viewer.actions.ts");



/**
 * ビューアー画面のActionを処理するreducer
 * @param state 処理前のstate
 * @param action Action
 */
function viewerReducer(state, action) {
    switch (action.type) {
        // ViewerEnableModelに書き込むアクション
        case _viewer_actions__WEBPACK_IMPORTED_MODULE_2__["ViewerActionTypes"].SetViewerEnableModel: {
            return tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, state, { viewer: tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, state.viewer, { enableModel: action.payload }) });
        }
        default: {
            var sharedState = Object(_shared_store_shared_reducer__WEBPACK_IMPORTED_MODULE_1__["sharedReducer"])(state, action);
            var newState = tslib__WEBPACK_IMPORTED_MODULE_0__["__assign"]({}, state, sharedState);
            return newState;
        }
    }
}


/***/ }),

/***/ "./src/app/viewer/viewer-routing.module.ts":
/*!*************************************************!*\
  !*** ./src/app/viewer/viewer-routing.module.ts ***!
  \*************************************************/
/*! exports provided: ViewerRoutingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerRoutingModule", function() { return ViewerRoutingModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm5/common.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm5/router.js");
/* harmony import */ var _containers_viewer_viewer_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./containers/viewer/viewer.component */ "./src/app/viewer/containers/viewer/viewer.component.ts");





/**
 * ViewerModuleのルーティング設定
 */
var viewerRoutes = [
    {
        path: '',
        component: _containers_viewer_viewer_component__WEBPACK_IMPORTED_MODULE_4__["ViewerComponent"]
    }
];
/**
 * ViewerModuleのルーティングモジュール
 */
var ViewerRoutingModule = /** @class */ (function () {
    function ViewerRoutingModule() {
    }
    ViewerRoutingModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["NgModule"])({
            imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forChild(viewerRoutes)],
            exports: [_angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"]],
            declarations: []
        })
    ], ViewerRoutingModule);
    return ViewerRoutingModule;
}());



/***/ }),

/***/ "./src/app/viewer/viewer.module.ts":
/*!*****************************************!*\
  !*** ./src/app/viewer/viewer.module.ts ***!
  \*****************************************/
/*! exports provided: ViewerModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ViewerModule", function() { return ViewerModule; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm5/core.js");
/* harmony import */ var _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ngrx/effects */ "./node_modules/@ngrx/effects/fesm5/effects.js");
/* harmony import */ var _ngrx_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ngrx/store */ "./node_modules/@ngrx/store/fesm5/store.js");
/* harmony import */ var _core_external_js_callback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/external-js-callback */ "./src/app/core/external-js-callback.ts");
/* harmony import */ var _core_store_store_const__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/store/store-const */ "./src/app/core/store/store-const.ts");
/* harmony import */ var _core_utils_injector_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/utils/injector-provider */ "./src/app/core/utils/injector-provider.ts");
/* harmony import */ var _shared_components_progress_dialog_progress_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../shared/components/progress-dialog/progress-dialog.component */ "./src/app/shared/components/progress-dialog/progress-dialog.component.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _containers_dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./containers/dialogs/confirm-update-dialog/confirm-update-dialog.component */ "./src/app/viewer/containers/dialogs/confirm-update-dialog/confirm-update-dialog.component.ts");
/* harmony import */ var _containers_dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./containers/dialogs/divide-section-dialog/divide-section-dialog.component */ "./src/app/viewer/containers/dialogs/divide-section-dialog/divide-section-dialog.component.ts");
/* harmony import */ var _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component */ "./src/app/viewer/containers/dialogs/edit-confirm-dialog/edit-confirm-dialog.component.ts");
/* harmony import */ var _containers_dialogs_full_text_dialog_full_text_dialog_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./containers/dialogs/full-text-dialog/full-text-dialog.component */ "./src/app/viewer/containers/dialogs/full-text-dialog/full-text-dialog.component.ts");
/* harmony import */ var _containers_dialogs_viewer_circulate_dialog_viewer_circulate_dialog_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component */ "./src/app/viewer/containers/dialogs/viewer-circulate-dialog/viewer-circulate-dialog.component.ts");
/* harmony import */ var _containers_main_view_main_view_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./containers/main-view/main-view.component */ "./src/app/viewer/containers/main-view/main-view.component.ts");
/* harmony import */ var _containers_message_area_view_message_area_view_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./containers/message-area-view/message-area-view.component */ "./src/app/viewer/containers/message-area-view/message-area-view.component.ts");
/* harmony import */ var _containers_pdf_pdf_view_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./containers/pdf/pdf-view.component */ "./src/app/viewer/containers/pdf/pdf-view.component.ts");
/* harmony import */ var _containers_section_section_view_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./containers/section/section-view.component */ "./src/app/viewer/containers/section/section-view.component.ts");
/* harmony import */ var _containers_thumbnail_thumbnail_view_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./containers/thumbnail/thumbnail-view.component */ "./src/app/viewer/containers/thumbnail/thumbnail-view.component.ts");
/* harmony import */ var _containers_viewer_base_viewer_base_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./containers/viewer-base/viewer-base.component */ "./src/app/viewer/containers/viewer-base/viewer-base.component.ts");
/* harmony import */ var _containers_viewer_viewer_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./containers/viewer/viewer.component */ "./src/app/viewer/containers/viewer/viewer.component.ts");
/* harmony import */ var _services_sys0_viewer_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./services/sys0-viewer.service */ "./src/app/viewer/services/sys0-viewer.service.ts");
/* harmony import */ var _services_viewer_mapping_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./services/viewer-mapping.service */ "./src/app/viewer/services/viewer-mapping.service.ts");
/* harmony import */ var _services_viewer_menu_mapping_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./services/viewer-menu-mapping.service */ "./src/app/viewer/services/viewer-menu-mapping.service.ts");
/* harmony import */ var _store_viewer_effects__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./store/viewer.effects */ "./src/app/viewer/store/viewer.effects.ts");
/* harmony import */ var _store_viewer_initial_state__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./store/viewer.initial-state */ "./src/app/viewer/store/viewer.initial-state.ts");
/* harmony import */ var _store_viewer_reducer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./store/viewer.reducer */ "./src/app/viewer/store/viewer.reducer.ts");
/* harmony import */ var _viewer_routing_module__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./viewer-routing.module */ "./src/app/viewer/viewer-routing.module.ts");




























/**
 * ビューアの機能モジュール。遅延ローディングします。
 */
var ViewerModule = /** @class */ (function () {
    function ViewerModule(injector, mapping, menuMapping) {
        _core_utils_injector_provider__WEBPACK_IMPORTED_MODULE_6__["InjectorProvider"].set(injector);
        // tslint:disable-next-line:no-unused-expression
        mapping; // MappingServiceのインスタンスを生成させるためのダミー
        // tslint:disable-next-line:no-unused-expression
        menuMapping; // MenuMappingServiceのインスタンスを生成させるためのダミー
    }
    ViewerModule = tslib__WEBPACK_IMPORTED_MODULE_0__["__decorate"]([
        Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
            // SharedModuleで再エクスポートすれば、このimports:に列挙する必要はありません
            imports: [
                _shared_shared_module__WEBPACK_IMPORTED_MODULE_8__["SharedModule"],
                _viewer_routing_module__WEBPACK_IMPORTED_MODULE_27__["ViewerRoutingModule"],
                _ngrx_store__WEBPACK_IMPORTED_MODULE_3__["StoreModule"].forFeature(_core_store_store_const__WEBPACK_IMPORTED_MODULE_5__["StoreConst"].FEATURE_NAME, _store_viewer_reducer__WEBPACK_IMPORTED_MODULE_26__["viewerReducer"], {
                    initialState: _store_viewer_initial_state__WEBPACK_IMPORTED_MODULE_25__["getViewerInitialState"]
                }),
                _ngrx_effects__WEBPACK_IMPORTED_MODULE_2__["EffectsModule"].forFeature([_store_viewer_effects__WEBPACK_IMPORTED_MODULE_24__["ViewerEffects"]])
            ],
            declarations: [
                _containers_viewer_viewer_component__WEBPACK_IMPORTED_MODULE_20__["ViewerComponent"],
                _containers_viewer_base_viewer_base_component__WEBPACK_IMPORTED_MODULE_19__["ViewerBaseComponent"],
                _containers_thumbnail_thumbnail_view_component__WEBPACK_IMPORTED_MODULE_18__["ThumbnailViewComponent"],
                _containers_section_section_view_component__WEBPACK_IMPORTED_MODULE_17__["SectionViewComponent"],
                _containers_pdf_pdf_view_component__WEBPACK_IMPORTED_MODULE_16__["PdfViewComponent"],
                _containers_dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_9__["ConfirmUpdateDialogComponent"],
                _containers_dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_10__["DivideSectionDialogComponent"],
                _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_11__["EditConfirmDialogComponent"],
                _containers_dialogs_full_text_dialog_full_text_dialog_component__WEBPACK_IMPORTED_MODULE_12__["FullTextDialogComponent"],
                _containers_dialogs_viewer_circulate_dialog_viewer_circulate_dialog_component__WEBPACK_IMPORTED_MODULE_13__["ViewerCirculateDialogComponent"],
                _containers_message_area_view_message_area_view_component__WEBPACK_IMPORTED_MODULE_15__["MessageAreaViewComponent"],
                _containers_main_view_main_view_component__WEBPACK_IMPORTED_MODULE_14__["MainViewComponent"]
            ],
            providers: [{ provide: _core_external_js_callback__WEBPACK_IMPORTED_MODULE_4__["ExternalJsCallback"], useClass: _services_sys0_viewer_service__WEBPACK_IMPORTED_MODULE_21__["Sys0ViewerService"] }],
            entryComponents: [_shared_components_progress_dialog_progress_dialog_component__WEBPACK_IMPORTED_MODULE_7__["ProgressDialogComponent"], _containers_dialogs_divide_section_dialog_divide_section_dialog_component__WEBPACK_IMPORTED_MODULE_10__["DivideSectionDialogComponent"], _containers_dialogs_edit_confirm_dialog_edit_confirm_dialog_component__WEBPACK_IMPORTED_MODULE_11__["EditConfirmDialogComponent"], _containers_dialogs_confirm_update_dialog_confirm_update_dialog_component__WEBPACK_IMPORTED_MODULE_9__["ConfirmUpdateDialogComponent"]]
        }),
        tslib__WEBPACK_IMPORTED_MODULE_0__["__metadata"]("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injector"], _services_viewer_mapping_service__WEBPACK_IMPORTED_MODULE_22__["ViewerMappingService"], _services_viewer_menu_mapping_service__WEBPACK_IMPORTED_MODULE_23__["ViewerMenuMappingService"]])
    ], ViewerModule);
    return ViewerModule;
}());



/***/ })

}]);
//# sourceMappingURL=viewer-viewer-module.js.map