/*
* ---------------------------------------------------------
* Copyright(C) Microsoft Corporation. All rights reserved.
* ---------------------------------------------------------
*/

/*
* ---------------------------------------------------------
* Copyright(C) Microsoft Corporation. All rights reserved.
* ---------------------------------------------------------
*
* ---------------------------------------------------------
* Generated file, DO NOT EDIT
* ---------------------------------------------------------
*
* See following wiki page for instructions on how to regenerate:
*   https://vsowiki.com/index.php?title=Rest_Client_Generation
*/

// Copyright (C) Microsoft Corporation. All rights reserved.

// All license check goes in here, TODO: stakeholder check to be added here.

// Set last update time for license check to yesterday, if its not set already.

define("../../Messaging/Messaging",["require","exports"],function(e,t){!function(e){e[e.CustomizedWorkItemCreated=0]="CustomizedWorkItemCreated",e[e.PageEventCaptured=1]="PageEventCaptured",e[e.StartTraceability=2]="StartTraceability",e[e.VerifyIfOfflineSessionRunning=3]="VerifyIfOfflineSessionRunning",e[e.AnnotationToolReady=4]="AnnotationToolReady",e[e.AnnotateScreenshot=5]="AnnotateScreenshot",e[e.AnnotationDone=6]="AnnotationDone",e[e.AnnotationCancelled=7]="AnnotationCancelled",e[e.SessionLoad=8]="SessionLoad",e[e.SessionUpdate=9]="SessionUpdate",e[e.SessionStart=10]="SessionStart",e[e.SessionStop=11]="SessionStop",e[e.ExportSession=12]="ExportSession",e[e.CaptureScreenshot=13]="CaptureScreenshot",e[e.ScreenshotCaptureCompleted=14]="ScreenshotCaptureCompleted",e[e.ScreenshotCaptureCancelled=15]="ScreenshotCaptureCancelled",e[e.SaveSettings=16]="SaveSettings",e[e.CreateWorkItem=17]="CreateWorkItem",e[e.NewAttachmentCreated=18]="NewAttachmentCreated",e[e.NewBugCreated=19]="NewBugCreated",e[e.CloseWorkItemDialog=20]="CloseWorkItemDialog",e[e.AttachmentsAvailable=21]="AttachmentsAvailable",e[e.SaveAnnotationSettings=22]="SaveAnnotationSettings",e[e.FetchAnnotationSettings=23]="FetchAnnotationSettings",e[e.AnnotationSettingsFetchResponse=24]="AnnotationSettingsFetchResponse",e[e.FetchObjectFromLocalStorage=25]="FetchObjectFromLocalStorage",e[e.FetchObjectFromLocalStorageResponse=26]="FetchObjectFromLocalStorageResponse",e[e.TracingLevelChanged=27]="TracingLevelChanged",e[e.SaveNote=28]="SaveNote",e[e.NoteSaved=29]="NoteSaved",e[e.Trace=30]="Trace",e[e.ExecuteTfsCommand=31]="ExecuteTfsCommand",e[e.UploadInlineImage=32]="UploadInlineImage",e[e.ActivityErrorChanged=33]="ActivityErrorChanged",e[e.ExecutePerfectoCommand=34]="ExecutePerfectoCommand",e[e.TfsLoginFailed=35]="TfsLoginFailed",e[e.TfsLoginSucceeded=36]="TfsLoginSucceeded",e[e.StartAutoRefresh=37]="StartAutoRefresh",e[e.TfsReconnectSucceeded=38]="TfsReconnectSucceeded",e[e.TfsReconnectFailed=39]="TfsReconnectFailed",e[e.QueryTraceableWorkItems=40]="QueryTraceableWorkItems",e[e.QueryWorkItem=41]="QueryWorkItem",e[e.ClearTraceabilityData=42]="ClearTraceabilityData",e[e.QuerySimilarBugs=43]="QuerySimilarBugs",e[e.QueryBug=44]="QueryBug",e[e.UpdateWorkItem=45]="UpdateWorkItem",e[e.ActionLogFeatureChanged=46]="ActionLogFeatureChanged",e[e.PublishTelemetryData=47]="PublishTelemetryData",e[e.CreateTestCase=48]="CreateTestCase",e[e.StartVideoCapture=49]="StartVideoCapture",e[e.StopVideoCapture=50]="StopVideoCapture",e[e.ScreenshotCaptureGetActiveWindow_V1=51]="ScreenshotCaptureGetActiveWindow_V1",e[e.CaptureScreenshot_V1=52]="CaptureScreenshot_V1",e[e.ScreenshotCaptureCancelled_V1=53]="ScreenshotCaptureCancelled_V1",e[e.ScreenshotCaptureCompleted_V1=54]="ScreenshotCaptureCompleted_V1",e[e.ScreenshotCaptureError_V1=55]="ScreenshotCaptureError_V1",e[e.StopTraceability=56]="StopTraceability",e[e.GetSystemInfomation_V1=57]="GetSystemInfomation_V1",e[e.StartVideoCapture_V1=58]="StartVideoCapture_V1",e[e.StopVideoCapture_V1=59]="StopVideoCapture_V1",e[e.VideoCaptureError_V1=60]="VideoCaptureError_V1",e[e.VideoCaptureCompleted_V1=61]="VideoCaptureCompleted_V1",e[e.VideoCaptureCancelled_V1=62]="VideoCaptureCancelled_V1",e[e.VideoCaptureStarted_V1=63]="VideoCaptureStarted_V1",e[e.PerfData=64]="PerfData",e[e.FeatureFlagStatus=65]="FeatureFlagStatus",e[e.StartActionLogCapture_V1=66]="StartActionLogCapture_V1",e[e.StopActionLogCapture_V1=67]="StopActionLogCapture_V1",e[e.GetActionLogReport_V1=68]="GetActionLogReport_V1",e[e.ActionLogContainerCreated_V1=69]="ActionLogContainerCreated_V1",e[e.ActionLogError_V1=70]="ActionLogError_V1",e[e.ActionLogUploadCompleted_V1=71]="ActionLogUploadCompleted_V1",e[e.PingTab=72]="PingTab",e[e.ShowNotification=73]="ShowNotification",e[e.CreateFeedbackResponse=74]="CreateFeedbackResponse",e[e.VerifyIfSessionIsRunning_V1=75]="VerifyIfSessionIsRunning_V1",e[e.ConfigureXtForFeedbackRequest_V1=76]="ConfigureXtForFeedbackRequest_V1",e[e.QueryFeedbackRequests=77]="QueryFeedbackRequests",e[e.QueryFeedbackRequestDetail=78]="QueryFeedbackRequestDetail",e[e.UpdateSessionState=79]="UpdateSessionState",e[e.CreateOrUpdateFeedbackSessionWithGivenState=80]="CreateOrUpdateFeedbackSessionWithGivenState",e[e.ProvideFeedback=81]="ProvideFeedback",e[e.EnableDefaultWorkItemInToolbar=82]="EnableDefaultWorkItemInToolbar",e[e.CaptureDesktopScreenshot_V1=83]="CaptureDesktopScreenshot_V1",e[e.LoadScreenshotContentFromBlob=84]="LoadScreenshotContentFromBlob",e[e.CaptureDesktopScreenshot=85]="CaptureDesktopScreenshot"}(t.NotificationType||(t.NotificationType={}));t.NotificationType}),define("../../Common/Constants",["require","exports"],function(e,t){var r=function(){function e(){}return e.focusAreaWidth=300,e.focusAreaHeight=60,e.runnerActionLogThumbnailWidth=200,e.runnerActionLogThumbnailHeight=100,e.thumbnailFocusAreaWidth=100,e.thumbnailFocusAreaHeight=60,e.thumbnailScaleFactor=.5,e.imageTageClassName="action-log-image",e.linkTageClassName="action-log-link",e.canvasId="image-editor",e.inputTextActionLogPrefix="Update input field with value",e.videoThumbnailClassName="xt-video-attachment",e.actionLogFileNamePrefix="actionLog-",e.actionLogFileFormat="jpeg",e.clickEventType="click",e.keyboardEventType="keyboard",e.actionLogsFileName="actionLog",e.stepHeader="Steps",e.actionHeader="Actions",e.imageHeader="Image",e.screenshotHeader="Full screen image",e.maxRunnerActionLogs=100,e.defaultActionLogCount=15,e.defaultActionLogBufferLength=20,e}();t.ActionLogConstants=r;var o=function(){function e(){}return e.enterKeyCode=13,e.escKeyCode=27,e.sKeyCode=83,e.rightArrow=39,e.leftArrow=37,e.downArrow=40,e.upArrow=38,e.spaceBar=32,e}();t.KeyCodeConstants=o;var n=function(){function e(){}return e.minFrameRate=1,e.maxFrameRate=60,e.defaultFrameRate=30,e.defaultWindowHeight=1280,e.vgaWindowHeight=640,e.defaultWindowWidth=720,e.vgaWindowWidth=360,e.captureIntervalInSeconds=1,e.maxVideoLengthInMinutes=10,e.optimalFrameRate=5,e.maxVideoSizeInBytes=52428800,e}();t.VideoCaptureConstants=n;var i=function(){function e(){}return e.defaultWorkItemCategoryColorMap={"Microsoft.BugCategory":"FFCC293D","Microsoft.TaskCategory":"FFF2CB1D","Microsoft.EpicCategory":"FFFF7B00","Microsoft.FeatureCategory":"FF773B93","Microsoft.RequirementCategory":"FF009CCC","Microsoft.TestCaseCategory":"FFFF9D00","Microsoft.SharedStepCategory":"FFFF9D00","Microsoft.SharedParameterCategory":"FFFF9D00","Microsoft.CodeReviewResponseCategory":"FFFF9D00","Microsoft.FeedbackRequestCategory":"FFFF9D00","Microsoft.FeedbackResponseCategory":"FFFF9D00","Microsoft.TestPlanCategory":"FFFF9D00","Microsoft.TestSuiteCategory":"FFFF9D00"},e.defaultWorkItemColor="FFCC293D",e}();t.WorkItemConstants=i;var a=function(){function e(){}return e.XTSource="XT",e.WebRunnerSource="WebRunner",e}();t.TelemetryConstants=a;var s=function(){function e(){}return e.maxRecords=7,e}();t.PerfDataConstants=s;var c=function(){function e(){}return e.exploratoryTestingExtensionGalleryId="ms.vss-exploratorytesting-web",e.testManagerExtensionGalleryId="ms.vss-testmanager-web",e}();t.CommonExtensionContants=c;var p=function(){function e(){}return e.stakeholderMode="stakeholder",e.teamMode="tfs",e.offlineMode="offline",e.connectedMode="connected",e}();t.ConnectionOptionConstants=p;var u=function(){function e(){}return e.pendingState="Pending",e.completedState="Completed",e.declinedState="Declined",e}();t.FeedbackStateOptionConstants=u;var l=function(){function e(){}return e.feedbackDetailsPageUrl="#/FeedbackRequestDetail",e.feedbackListsPageUrl="#/FeedbackRequests",e}();t.StakeHolderTraceabiltyPageUrls=l;var d=function(){function e(){}return e.unAuthorized="UnauthorizedAccessException",e}();t.ExceptionConstants=d;var f=function(){function e(){}return e.chromeBrowserName="Google Chrome",e.firefoxBrowserName="Mozilla Firefox",e.edgeBrowserName="Microsoft Edge",e}();t.BrowserConstants=f;var m=function(){function e(){}return e.xtMinimizeId="minimize-page",e}();t.ElementIds=m;var g=function(){function e(){}return e.login="To capture screen or action logs, make sure Test & Feedback extension is connected to {0}.",e}();t.Messages=g}),define("../../Model/BrowserHelper",["require","exports","../Common/Constants"],function(e,t,r){var o=function(){function e(){}return e.isChrome=function(){return chrome.extension.getURL("").split(this.hostSeparator)[0]===this.chromeExtensionHost},e.isFirefox=function(){return chrome.extension.getURL("").split(this.hostSeparator)[0]===this.firefoxExtensionHost},e.isEdge=function(){return chrome.extension.getURL("").split(this.hostSeparator)[0]===this.edgeExtensionHost},e.getBrowserInfo=function(){return e.isFirefox()?r.BrowserConstants.firefoxBrowserName:e.isEdge()?r.BrowserConstants.edgeBrowserName:r.BrowserConstants.chromeBrowserName},e.getOptionsPage=function(){return chrome.extension.getURL("options/options.html")},e.getSessionStorageDirectoryName=function(){return this.isChrome()?"Session":"Main"},e.chromeExtensionHost="chrome-extension:",e.firefoxExtensionHost="moz-extension:",e.edgeExtensionHost="ms-browser-extension:",e.hostSeparator="//",e}();t.BrowserHelper=o});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../Messaging/ChromeMessaging",["require","exports","../Messaging/Messaging","../Model/BrowserHelper"],function(e,t,r,o){function n(){try{return window.self!==window.top}catch(e){return!0}}var i=r.NotificationType,a=function(){function e(){}return e.prototype.sendMessage=function(e,t,r,o){var n={notificationType:t,data:r};chrome.tabs.sendMessage(e,n,o)},e.prototype.queryTabs=function(e,t,r){chrome.tabs.query(e,function(e){var o=[];e.forEach(function(e){e.id!==t&&o.push({windowId:e.windowId,url:e.url,title:e.title})}),r(o)})},e}(),s=function(){function e(){}return e.prototype.broadcast=function(e,t,r){var o={notificationType:e,data:t};this.sendMessage(o,r)},e.prototype.broadcastAsync=function(e,t){if(n())throw"async messaging not supported in sandbox";var r=Q.defer();return this.broadcast(e,t,function(e){r.resolve(e)}),r.promise},e.prototype.sendMessage=function(e,t){},e}(),c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.sendMessage=function(e,t){!t&&o.BrowserHelper.isEdge()&&(t=function(e){}),chrome.runtime.sendMessage(e,t)},t}(s),p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.sendMessage=function(e,t){window.parent.postMessage(e,"*")},t}(s),u=function(){function e(){this.subscriptions={}}return e.prototype.subscribe=function(e,t){var r=this.subscriptions[t];r?this.subscriptions[t].push(e):(r=[],r.push(e),this.subscriptions[t]=r)},e.prototype.clearAll=function(){this.subscriptions={}},e.prototype.clearAllForNotificationType=function(e){this.subscriptions&&this.subscriptions[e]&&(this.subscriptions[e]=[])},e.prototype.notifySubscribers=function(e,t,r,o){var n=this.subscriptions[e];if(n)for(var i=0;i<n.length;i++)n[i](t,r,o)},e}(),l=function(e){function t(){var t=this;e.call(this),this.listenToMessages(function(e,r,o,n){t.notifySubscribers(e,r,o,n)})}return __extends(t,e),t.prototype.listenToMessages=function(e){chrome.runtime.onMessage.addListener(function(t,r,o){return t?(e(t.notificationType,t.data,o,r),o?!0:!1):void 0})},t}(u),d=function(e){function t(){var t=this;e.call(this),this.listenToMessages(function(e,r){t.notifySubscribers(e,r,null,null)})}return __extends(t,e),t.prototype.listenToMessages=function(e){window.addEventListener("message",function(t){t.data&&e(t.data.notificationType,t.data.data)})},t}(u),f=function(){function e(){}return e.getSubscriptionService=function(){return n()?e.getSandboxSubscriptionService():this.getChromeSubscriptionService()},e.getBroadcastingService=function(){return n()?e.getSandboxBroadcastingService():this.getChromeBroadcastingService()},e.getChromeMessagingTabService=function(){return e.chromeTabMessagingService?e.chromeTabMessagingService:(e.chromeTabMessagingService=new a,e.chromeTabMessagingService)},e.getSandboxSubscriptionService=function(){return e.sandboxSubscriptionService?e.sandboxSubscriptionService:(e.sandboxSubscriptionService=new d,e.sandboxSubscriptionService)},e.getChromeSubscriptionService=function(){return e.chromeSubscriptionService?e.chromeSubscriptionService:(e.chromeSubscriptionService=new l,e.chromeSubscriptionService)},e.getSandboxBroadcastingService=function(){return e.sandboxBroadcastingService?e.sandboxBroadcastingService:(e.sandboxBroadcastingService=new p,e.sandboxBroadcastingService)},e.getChromeBroadcastingService=function(){return e.chromeBroadcastingService?e.chromeBroadcastingService:(e.chromeBroadcastingService=new c,e.chromeBroadcastingService)},e}();t.MessagingFactory=f;var m=function(){function e(e){this._iframe=e,this._sandbox=e.contentWindow,this.listenToChromeMessages(),this.listenToSandboxMessages()}return e.prototype.listenToSandboxMessages=function(){var e=this;window.addEventListener("message",function(t){t.data&&t.data.resize&&t.data.height?e._iframe.style.height=t.data.height:e.sendMessageToChrome(t.data)})},e.prototype.sendMessageToChrome=function(e){e.notificationType===i.AnnotationToolReady?chrome.windows.getCurrent(function(t){e.data.windowId=t.id,chrome.runtime.sendMessage(e)}):chrome.runtime.sendMessage(e)},e.prototype.listenToChromeMessages=function(){var e=this;chrome.runtime.onMessage.addListener(function(t,r,o){t&&void 0!=t.notificationType&&e.sendMessageToSandbox(t)})},e.prototype.sendMessageToSandbox=function(e){this._sandbox.postMessage(e,"*")},e}();t.SandboxMessagingRelay=m});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../Common/ExtensionStorage",["require","exports","../Messaging/ChromeMessaging","../Messaging/Messaging","../Model/BrowserHelper"],function(e,t,r,o,n){function i(){try{return window.self!==window.top}catch(e){return!0}}var a=n.BrowserHelper,s=function(){function e(){}return e.initializeService=function(){var e=this;r.MessagingFactory.getSubscriptionService().subscribe(function(t){r.MessagingFactory.getBroadcastingService().broadcast(o.NotificationType.FetchObjectFromLocalStorageResponse,e.retrieve(t))},o.NotificationType.FetchObjectFromLocalStorage)},e.store=function(e,r){localStorage.setItem(t.ngStoragePrefix+e,JSON.stringify(r))},e.retrieve=function(e){return JSON.parse(localStorage.getItem(t.ngStoragePrefix+e))},e.retrieveAsync=function(e,n){if(i())r.MessagingFactory.getBroadcastingService().broadcast(o.NotificationType.FetchObjectFromLocalStorage,e),r.MessagingFactory.getSubscriptionService().subscribe(function(e){n(JSON.parse(e))},o.NotificationType.FetchObjectFromLocalStorageResponse);else{var a=localStorage.getItem(t.ngStoragePrefix+e);n(JSON.parse(a))}},e.remove=function(r){localStorage.removeItem(t.ngStoragePrefix+r),a.isEdge()&&e.store(r,null)},e}();t.LocalStorageService=s;var c=function(){function e(){}return e.getStorageService=function(){return this.storageService?this.storageService:(a.isChrome()?this.storageService=new l:this.storageService=new u,this.storageService)},e}();t.PersistentStorageFactory=c;var p=function(){function e(){}return e.prototype.getBlobContentAsync=function(e,t){void 0===t&&(t=!0);var r=Q.defer();return this.getBlob(e,function(e){if(e){var t=new FileReader;t.onloadend=function(e){r.resolve(t.result)},t.readAsText(e)}else r.resolve(null)},r.reject,t),r.promise},e}();t.BaseStorageService=p;var u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.writeBlobInDir=function(e,t,r,o,n,i){var a=this;void 0===i&&(i=!1),i?this.openIndexDb(e,function(e){a.getFile(e,t,!1,function(i){var s=new Blob([i,r],{type:r.type});a.storeFile(e,t,s,o,n)},n)},n):this.openIndexDb(e,function(e){a.storeFile(e,t,r,o,n)},n)},t.prototype.writeBlob=function(e,t,r,o,n,i){var a=this;void 0===n&&(n=!1),void 0===i&&(i=!0);var s=this.getFileInfo(e,i);n?this.openIndexDb(s.dbName,function(e){a.getFile(e,s.fileName,!1,function(n){var i=new Blob([n,t],{type:t.type});a.storeFile(e,s.fileName,i,r,o)},o)},o):this.openIndexDb(s.dbName,function(e){a.storeFile(e,s.fileName,t,r,o)},o)},t.prototype.storeFile=function(e,t,r,o,n){e.blobs.put({name:t,data:r}).then(function(){e.close(),o(URL.createObjectURL(r))})["catch"](function(t){e.close(),n(t)})},t.prototype.getBlob=function(e,t,r,o){var n=this;void 0===o&&(o=!0);var i=this.getFileInfo(e,o);this.openIndexDb(i.dbName,function(e){n.getFile(e,i.fileName,!0,t,r)},r)},t.prototype.getFile=function(e,t,r,o,n){e.blobs.get(t).then(function(t){r&&e.close(),o(t?t.data:null)})["catch"](function(t){r&&e.close(),n(t)})},t.prototype.removeBlobInDir=function(e,t,r,o){this.openIndexDb(e,function(e){e.blobs.clear(t).then(function(){e.close(),r()})["catch"](function(t){e.close(),o(t)})},o)},t.prototype.removeBlob=function(e,t,r,o){void 0===o&&(o=!0);var n=this.getFileInfo(e,o);this.removeBlobInDir(n.dbName,n.fileName,t,r)},t.prototype.createDirectory=function(e,t,r,o){var n=new Dexie(e);n.version(1).stores({blobs:"name,data"}),r(e)},t.prototype.removeDirectory=function(e,t,r,o){this.openIndexDb(e,function(t){t.blobs.clear().then(function(){t.close(),r(e)})["catch"](function(e){t.close(),o(e)})},o)},t.prototype.openIndexDb=function(e,t,r){var o=new Dexie(e);o.version(1).stores({blobs:"name,data"}),o.open()["catch"](function(e){r(e)}),t(o)},t.prototype.getFileInfo=function(e,t){var r=e.split("/");if(1===r.length)var o=e.substr(0,4),n=t?a.getSessionStorageDirectoryName():o;else n=r[0],e=r[1];return{dbName:n,fileName:e}},t}(p);t.IndexDatabaseStorageService=u;var l=function(e){function r(){e.apply(this,arguments)}return __extends(r,e),r.prototype.writeBlobInDir=function(e,t,r,o,n,i){if(void 0===i&&(i=!1),!this.isUnitTest()){var a=e.concat("/").concat(t);PersistentStorageProxy.writeBlob(a,r,o,n,i)}},r.prototype.writeBlob=function(e,t,r,o,n,i){void 0===n&&(n=!1),void 0===i&&(i=!0),this.isUnitTest()||PersistentStorageProxy.writeBlob(this.getFilePath(e,i),t,r,o,n)},r.prototype.getBlob=function(e,t,r,o){void 0===o&&(o=!0),this.isUnitTest()||PersistentStorageProxy.getBlob(this.getFilePath(e,o),t,r)},r.prototype.removeBlobInDir=function(e,t,r,o){if(!this.isUnitTest()){var n=e.concat("/").concat(t);PersistentStorageProxy.removeBlob(n,r,o)}},r.prototype.removeBlob=function(e,t,r,o){void 0===o&&(o=!0),this.isUnitTest()||PersistentStorageProxy.removeBlob(this.getFilePath(e,o),t,r)},r.prototype.createDirectory=function(e,t,r,o){this.isUnitTest()||PersistentStorageProxy.createDirectory(e,t,r,o)},r.prototype.removeDirectory=function(e,t,r,o){this.isUnitTest()||PersistentStorageProxy.removeDirectory(e,t,r,o)},r.prototype.getFilePath=function(e,r){if(void 0===r&&(r=!0),!r)return e;var o=s.retrieve(t.activeSessionKey);return o&&1===o.version?o.id.concat("/").concat(e):a.getSessionStorageDirectoryName().concat("/").concat(e)},r.prototype.isUnitTest=function(){return"true"===localStorage.getItem("isUnitTest")},r}(p);t.PersistentStorageService=l,t.activeSessionKey="activeSession",t.actionLogUrlKey="actionLogUrl",t.actionLogUrl_DataCollectorKey="actionLogUrl_DataCollector",t.activeScreenShotAndWindowIdMap="activeScreenShotAndWindowIdMap",t.activeScreenShotAndWindowIdMap_Datacollector="activeScreenShotAndWindowIdMap_DataCollector",t.toolbarErrorMap="toolbarErrorMap",t.activeSettingsKey="activeSettings",t.activeAnnotationSettingsKey="activeAnnotationSettings",t.notesCountKey="numberOfNotesInSession",t.videosCountKey="numberOfVideosInSession",t.enableAudio="enableAudio",t.currentVideoCaptureIdKey="currentVideoCaptureId",t.currentVideoCaptureId_DataCollectorKey="currentVideoCaptureId_DataCollector",t.activeVideoCaptureRequestPresent="videoCaptureRequestPresent",t.activeVideoCaptureRequestPresent_DataCollector="videoCaptureRequestPresent_DataCollector",t.videoFileFormatKey="videoFileFormat",t.videoFileFormat_DataCollectorKey="videoFileFormat_DataCollector",t.currentVideoCaptureTimeKey="elapsedVideoTime",t.currentVideoCaptureTime_DataCollectorKey="elapsedVideoTime_DataCollector",t.browserCloseEventsWhileVideoRecordingKey="browserCloseEventsWhileVideoRecording",t.browserCloseEventsWhileVideoRecording_DataCollectorKey="browserCloseEventsWhileVideoRecording_DataCollector",t.browserCloseEventsWhileVideoUploadingKey="browserCloseEventsWhileVideoUploading",t.screenshotsCountKey="numberOfScreenshotsInSession",t.ngStoragePrefix="ngStorage-",t.connectionSettingsKey="connectionSettings",t.basicConnectionSettingsKey="basicConnectionSettings",t.connectionOptionKey="connectionOption",t.connectedModeKey="connectedMode",t.changeTeamDetailsKey="changeTeamDetails",t.loginInProgressKey="loginInProgress",t.mostRecentlyUsedUrlsKey="mostRecentlyUsedUrls",t.initialBaseUrlKey="initialBaseUrl",t.refreshingKey="refreshing",t.loggedInKey="loggedIn",t.reconnectKey="reconnected",t.deviceListLocalStorageKey="perfectoMobileDeviceList",t.mobileXtUrlKey="perfectoCloudUrl",t.mobileXtUsernameKey="perfectoUserName",t.iconBlinkKey="iconBlink",t.lastUrlKey="lastUrl",t.useSoapApiForUpgradeKey="useSoapApiForUpgrade",t.useSoapApiFprUpgradeKey="useSoapApiFprUpgrade",t.perfAttachmentCountKey="perfAttachmentCount",t.perfDataMaxRecords="perfDataMaxRecords",t.perfDataNextIndex="perfDataNextIndex",t.lastUrlBeforeNotificationKey="lastUrlBeforeNotification",t.isNotificationDismissedKey="isNotificationDismissed",t.linkedWorkItemKey="linkedWorkItem",t.searchResultsForTraceabilityKey="searchResultsForTraceability",t.searchResultsForFeedbackRequestsKey="searchResultsForFeedbackRequests",t.traceabilityEnabledKey="traceabilityEnabled",t.workItemQueryPatternForTraceabilityKey="workItemQueryPatternForTraceability",t.lastSearchedQueryPatternKey="lastSearchedQueryPattern",t.workItemSearchInProgressKey="workItemSearchInProgress",t.notifyTimelineForTraceabilityKey="notifyTimelineForTraceability",t.similarBugsKey="searchResultsForSimilarBugs",t.selectedBugKey="selectedBugForUpdate",t.selectedBugDescriptionKey="selectedBugDescriptionKey",t.isBugSelectedForUpdateKey="isBugSelectedForUpdate",t.taskFormDirtyKey="taskFormDirty",t.taskTitleDirtyKey="taskTitleDirty",t.unsavedTaskDescriptionKey="unsavedTaskDescription",t.unsavedTaskTitleKey="unsavedTaskTitle",t.includeImageActionLogsInTaskKey="includeImageActionLogsInTask",t.selectedFeedbackRequestApplicationLaunchKey="selectedFeedbackRequestApplicationLaunch",t.selectedFeedbackRequestKey="selectedFeedback",t.isProvideFeedbackInitiatedFromWeb="isProvideFeedbackInitiatedFromWeb",t.bugFormDirtyKey="bugFormDirty",t.bugTitleDirtyKey="bugTitleDirty",t.unsavedBugTitleKey="unsavedBugTitle",t.searchResultsForSimilarBugsKey="searchResultsForSimilarBugs",t.selectedBugForUpdateKey="selectedBugForUpdate",t.includeImageActionLogsInBugKey="includeImageActionLogsInBug",t.testCaseFormDirtyKey="testCaseFormDirty",t.unsavedTestCaseStepsKey="unsavedTestCaseSteps",t.unsavedTestCaseTitleKey="unsavedTestCaseTitle",t.feedbackResponseFormDirtyKey="feedbackResponseFormDirty",t.feedbackResponseTitleDirtyKey="feedbackResponseTitleDirty",t.unsavedFeedbackResponseDescriptionKey="unsavedFeedbackResponseDescription",t.unsavedFeedbackResponseTitleKey="unsavedFeedbackResponseTitle",t.includeImageActionLogsInFeedbackResponseKey="includeImageActionLogsInFeedbackResponse",t.includePerfDataInFeedbackResponseKey="includePerfDataInFeedbackResponse",t.groupingDetails="groupingDetails",t.traceabilityRequestKey="traceabilityRequest",t.iconBeforeErrorKey="iconBeforeError",t.currentIconKey="currentIcon",t.offlineReport="offlineReport",t.reportDirectoryName="Reports",t.actionLogKey="ActionLog",t.newBranding="NewBranding",t.sessionActionLogMaxCountKey="sessionActionLogMaxCount",t.exportedSessionReportPath="Reports/SessionReport.html",t.extensionUniqueIdentifier="ExtensionID",t.actionLogFullImageSizeInBytes="actionLogFullImageSizeInKB",t.isImageActionLogTurnedOnDuringUpgrade="isImageActionLogTurnedOnDuringUpgrade",t.supportTfsSessionCompactKey="supportTfsSessionCompact",t.currentVersionKey="currentVersion",t.workItemTypeMetaDataCache="workItemTypeMetaDataCache",t.workItemCategoryMetaDataCache="workItemCategoryMetaDataCache",t.bugWorkItemTypeCache="bugWorkItemTypeCache",t.alertInformationKey="alertInformation",t.licenseUpdatedDateTimeKey="licenseUpdatedDateTime",t.licenseUpdateIntervalKey="licenseUpdateIntervalInHrs",t.selectedFeedbackRequestWorkitemObjectKey="selectedFeedbackRequestWorkitemObject",t.teamSettingsKey="teamSettings",t.forceStopSessionReason="forceStopSessionReason"});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../Common/SessionData",["require","exports","../Common/ExtensionStorage"],function(e,t,r){!function(e){e[e.chromeScreenCapture=0]="chromeScreenCapture",e[e.chromeDesktopCapture=1]="chromeDesktopCapture"}(t.chromeApiType||(t.chromeApiType={}));var o=(t.chromeApiType,function(){function e(e,t,r,o,n,i){this._screenshotDefaultPrefix="Screenshot-",this.id=e,this.content=t,r&&(this.state=r),this.isXTSession=n,o?this.name=o:this.name=this._generateScreenshotName(),null!=i&&(this.chromeApiType=i)}return e.prototype.setPosition=function(e,t){this.top=e,this.left=t},e.prototype.setDimension=function(e,t){this.width=e,this.height=t},e.prototype._generateScreenshotName=function(){return this._screenshotDefaultPrefix.concat(this._generateScreenshotSuffix())},e.prototype._generateScreenshotSuffix=function(){if(this.isXTSession)return this._getScreenshotCountAndUpdateInLocalStorage().toString();var e=new Date(Date.now());return e.toISOString().replace(/:/g,"-")},e.prototype._getScreenshotCountAndUpdateInLocalStorage=function(){var e=r.LocalStorageService.retrieve(r.screenshotsCountKey);return e?e+=1:e=1,r.LocalStorageService.store(r.screenshotsCountKey,e),e},e}());t.Screenshot=o;var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(o);t.ScreenshotEx=n;var i=function(){function e(e,t){this.id=e,this.content=t}return e}();t.SystemInformation=i;var a=function(){function e(e,t){this.notesPrefix="Note-",this.content=e,this.size=t,this.id=this.getNoteId()}return e.prototype.getNoteId=function(){var e=r.LocalStorageService.retrieve(r.notesCountKey),t=parseInt(e)+1;return r.LocalStorageService.store(r.notesCountKey,t),this.notesPrefix.concat(t.toString())},e}();t.Note=a;var s=function(){function e(e,t){this.videoPrefix="ScreenRecording-",this.size=e,this.isXTSession=t,this.id=this.getVideoId()}return e.prototype.getVideoId=function(){if(this.isXTSession){var e=r.LocalStorageService.retrieve(r.videosCountKey),t=parseInt(e)+1;r.LocalStorageService.store(r.videosCountKey,t);var o=r.LocalStorageService.retrieve(r.videoFileFormatKey);return o=null===o?"webm":o,this.videoPrefix.concat(t.toString()).concat("."+o)}var o=r.LocalStorageService.retrieve(r.videoFileFormat_DataCollectorKey);o=null===o?"webm":o;var n=new Date(Date.now());return this.videoPrefix.concat(n.toISOString().replace(/:/g,"-")).concat("."+o)},e}();t.Video=s;var c=function(){function e(e){this.actionLogPrefix="ActionLog-",this.fileFormat=".html",this.size=e,this.id=this.getActionLogId()}return e.getActionLogSessionData=function(t,r,o){var n=new e(o);return n.id=t?t:n.id,n.content=r?r:n.content,n},e.prototype.getActionLogId=function(){var e=new Date(Date.now());return this.actionLogPrefix.concat(e.toISOString().replace(/:/g,"-")).concat(this.fileFormat)},e}();t.ActionLog=c;var p=function(){function e(e,t,r){this.content=e,this.size=t,this.id=r}return e}();t.PerfData=p}),define("../../Model/Model",["require","exports"],function(e,t){!function(e){e[e.Session=0]="Session",e[e.ScreenShot=1]="ScreenShot",e[e.Note=2]="Note",e[e.Bug=3]="Bug",e[e.Bug2=4]="Bug2",e[e.TimeLine=5]="TimeLine",e[e.Settings=6]="Settings",e[e.MobileXt=7]="MobileXt",e[e.Traceability=8]="Traceability",e[e.About=9]="About",e[e.Task=10]="Task",e[e.TestCase=11]="TestCase",e[e.Video=12]="Video",e[e.FeedbackResponse=13]="FeedbackResponse",e[e.FeedbackRequests=14]="FeedbackRequests",e[e.ScreenShotScreen=15]="ScreenShotScreen",e[e.ScreenShotApplication=16]="ScreenShotApplication"}(t.ToolbarType||(t.ToolbarType={}));t.ToolbarType;!function(e){e[e.BrowserTab=0]="BrowserTab",e[e.Screen=1]="Screen",e[e.Application=2]="Application"}(t.ScreenshotType||(t.ScreenshotType={}));t.ScreenshotType;!function(e){e[e.Off=0]="Off",e[e.AsRequirements=1]="AsRequirements",e[e.AsTasks=2]="AsTasks"}(t.BugsBehavior||(t.BugsBehavior={}));t.BugsBehavior;!function(e){e[e.Unknown=0]="Unknown",e[e.XTDesktop=1]="XTDesktop",e[e.FeedbackDesktop=2]="FeedbackDesktop",e[e.XTWeb=3]="XTWeb",e[e.FeedbackWeb=4]="FeedbackWeb"}(t.TestSessionSource||(t.TestSessionSource={}));var r=(t.TestSessionSource,function(){function e(){}return e.testPlanIdString="TestPlanId",e.feedbackRequestIdString="FeedbackRequestId",e}());t.TestSessionConstants=r;var o=function(){function e(){}return e.solicited="Solicited",e.unsolicited="UnSolicited",e.none="None",e}();t.FeedbackTypeConstants=o,function(e){e[e.None=0]="None",e[e.InProgress=1]="InProgress",e[e.Completed=2]="Completed",e[e.Paused=3]="Paused",e[e.Declined=4]="Declined"}(t.SessionState||(t.SessionState={}));t.SessionState;!function(e){e[e["0 - Not Rated"]=0]="0 - Not Rated",e[e["1 - Poor"]=1]="1 - Poor",e[e["2 - Fair"]=2]="2 - Fair",e[e["3 - Good"]=3]="3 - Good",e[e["4 - Very Good"]=4]="4 - Very Good",e[e["5 - Excellent"]=5]="5 - Excellent"}(t.FeedbackResponseRating||(t.FeedbackResponseRating={}));t.FeedbackResponseRating;!function(e){e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Completed=4]="Completed"}(t.ServerSessionState||(t.ServerSessionState={}));t.ServerSessionState;!function(e){e[e.Created=0]="Created",e[e.ContainerCreated=1]="ContainerCreated",e[e.Uploaded=2]="Uploaded",e[e.Failed=3]="Failed"}(t.AttachmentState||(t.AttachmentState={}));t.AttachmentState;!function(e){e[e.Screenshot=0]="Screenshot",e[e.SystemInformation=1]="SystemInformation",e[e.Note=2]="Note",e[e.Video=3]="Video",e[e.ActionLog=4]="ActionLog",e[e.PerfData=5]="PerfData"}(t.AttachmentType||(t.AttachmentType={}));var n=(t.AttachmentType,function(){function e(){}return e}());t.CaptureWindowPayload=n,function(e){e[e.Mouse=1]="Mouse",e[e.Keyboard=2]="Keyboard"}(t.ActionLogType||(t.ActionLogType={}));var i=(t.ActionLogType,function(){function e(){}return e}());t.IActionLogReportPayload=i,function(e){e[e.TFS_CONNECTION_FAILED=1]="TFS_CONNECTION_FAILED",e[e.TFS_AUTH_FAILED=2]="TFS_AUTH_FAILED",e[e.WINDOW_NOT_FOUND=3]="WINDOW_NOT_FOUND",e[e.SCREEN_RECORDING_DISABLED=4]="SCREEN_RECORDING_DISABLED",e[e.DATACOLLECTION_ALREADY_INPROGRESS=5]="DATACOLLECTION_ALREADY_INPROGRESS",e[e.TAB_NOT_REACHABLE=6]="TAB_NOT_REACHABLE",e[e.ACTIONLOG_FEATURE_DISABLED=7]="ACTIONLOG_FEATURE_DISABLED",e[e.MICROPHONE_NOTFOUND=8]="MICROPHONE_NOTFOUND"}(t.ErrorCode||(t.ErrorCode={}));var a=(t.ErrorCode,function(){function e(){}return e}());t.IConnectedUserDetails=a,function(e){e[e.AnnotationSettings=0]="AnnotationSettings",e[e.WorkItemFiling=1]="WorkItemFiling",e[e.VsoSessionSettings=2]="VsoSessionSettings",e[e.DeviceProvider=3]="DeviceProvider",e[e.Traceability=4]="Traceability",e[e.TestCaseForm=5]="TestCaseForm",e[e.VideoCapture=6]="VideoCapture",e[e.ActionLog=7]="ActionLog",e[e.QueryFeedbackRequestsData=8]="QueryFeedbackRequestsData",e[e.ProvideFeedback=9]="ProvideFeedback",e[e.FirefoxInstallEvent=10]="FirefoxInstallEvent"}(t.TelemetryEvent||(t.TelemetryEvent={}));t.TelemetryEvent;!function(e){e[e.ConnectedModeAvailable=0]="ConnectedModeAvailable",e[e.TrialModeOn=1]="TrialModeOn",e[e.TrialModeExpired=2]="TrialModeExpired"}(t.AlertType||(t.AlertType={}));t.AlertType;!function(e){e[e.Offline=0]="Offline",e[e.VSTS=1]="VSTS",e[e.TFS=2]="TFS"}(t.ServerType||(t.ServerType={}));var s=(t.ServerType,function(){function e(){}return e.epic="Epic",e.productBacklogItem="Product Backlog Item",
e.testCase="Test Case",e.userStory="User Story",e.feature="Feature",e.scenario="Scenario",e.requirement="Requirement",e.bug="Bug",e.task="Task",e.feedbackResponse="Feedback Response",e}());t.WorkItemType=s;var c=function(){function e(){}return e.BugCategory="Microsoft.BugCategory",e.TaskCategory="Microsoft.TaskCategory",e.TestCaseCategory="Microsoft.TestCaseCategory",e.ScenarioCategory="Microsoft.ScenarioCategory",e.EpicCategory="Microsoft.EpicCategory",e.RequirementCategory="Microsoft.RequirementCategory",e.FeatureCategory="Microsoft.FeatureCategory",e.FeedbackResponseCategory="Microsoft.FeedbackResponseCategory",e.FeedbackRequestCategory="Microsoft.FeedbackRequestCategory",e.HiddenCategory="Microsoft.HiddenCategory",e}();t.WorkItemCategories=c;var p=function(){function e(){}return e.workItemType="System.WorkItemType",e.id="System.Id",e.title="System.Title",e.iterationPath="System.IterationPath",e.assignedTo="System.AssignedTo",e.workItemState="System.State",e.acceptanceCriteria="Microsoft.VSTS.Common.AcceptanceCriteria",e.description="System.Description",e.areaPath="System.AreaPath",e.reproSteps="Microsoft.VSTS.TCM.ReproSteps",e.systemInfo="Microsoft.VSTS.TCM.SystemInfo",e.applicationStartInfo="Microsoft.VSTS.Feedback.ApplicationStartInformation",e.applicationLaunchInstruction="Microsoft.VSTS.Feedback.ApplicationLaunchInstructions",e.createdBy="System.CreatedBy",e.createdDate="System.CreatedDate",e.url="url",e.startTime="startTime",e.relations="Relations",e}();t.WorkItemField=p;var u=function(){function e(){}return e.relatedLink="System.LinkTypes.Related",e.relatedLinkForward="System.LinkTypes.Related-Forward",e.parentLink="System.LinkTypes.Hierarchy-Reverse",e.testedByForward="Microsoft.VSTS.Common.TestedBy-Forward",e.testedByReverse="Microsoft.VSTS.Common.TestedBy-Reverse",e}();t.WorkItemRelations=u;var l=function(){function e(){}return e.filedWorkItemKey="AssociatedWorkItem",e.exploredWorkItemKey="ExploredWorkItem",e}();t.SessionKeys=l;var d=function(){function e(e,t,r,o){this.eventType=e,this.timing=t,this.requestURL=r,this.eventData=o}return e}();t.PerfData=d;var f=function(){function e(){}return e}();t.PerfResourceData=f;var m=function(){function e(e,t){this.serverUrl=e,this.lastAccessedTime=t}return e}();t.MostRecentlyUsedUrls=m}),define("../../Model/BrowserActionService",["require","exports","../Common/ExtensionStorage","../Model/Model"],function(e,t,r,o){function n(){s||(s=new p)}function i(){return s||n(),s}function a(){s=null}t.initializeService=n,t.getService=i,function(e){e[e.Default=0]="Default",e[e.InProgress=1]="InProgress",e[e.Error=2]="Error",e[e.Empty=3]="Empty"}(t.ExtensionIconType||(t.ExtensionIconType={}));var s,c=t.ExtensionIconType;t.deinitializeService=a;var p=function(){function e(){this.iconLookup={},this.iconWidth=19,this.iconHeight=19,this.iconLookup[c.Default]="../../Images/NormalState-",this.iconLookup[c.InProgress]="../../Images/SessionOnState-",this.iconLookup[c.Error]="../../Images/ErrorState-";var e=r.LocalStorageService.retrieve(r.activeSessionKey);e&&e.state===o.SessionState.InProgress?(r.LocalStorageService.store(r.iconBeforeErrorKey,c.InProgress),r.LocalStorageService.store(r.currentIconKey,c.InProgress)):(r.LocalStorageService.store(r.iconBeforeErrorKey,c.Default),r.LocalStorageService.store(r.currentIconKey,c.Default))}return e.prototype.setIcon=function(e){if(e===c.Empty){var t=document.createElement("canvas"),o=t.getContext("2d").createImageData(this.iconWidth,this.iconHeight);chrome.browserAction.setIcon({imageData:o})}else{var n=this.iconLookup[e];r.LocalStorageService.store(r.currentIconKey,e),e!==c.Error&&r.LocalStorageService.store(r.iconBeforeErrorKey,e),chrome.browserAction.setIcon({path:{19:n+"19.png",38:n+"38.png"}})}},e.prototype.clearError=function(){this.setIcon(r.LocalStorageService.retrieve(r.iconBeforeErrorKey))},e.prototype.getCurrentIconState=function(){return r.LocalStorageService.retrieve(r.currentIconKey)},e}()}),define("../../Common/ResourceStrings",["require","exports"],function(e,t){var r=function(){function e(){}return e.productNameShort="TF",e.productName="Test & Feedback",e.Tfs2015Name="TFS 2015",e.Tfs2017Name="TFS 2017",e.productNameWithExtension=e.productName+" extension",e.buyProductTitleString="Buy "+e.productName+" extension",e.trialExpiredTitleString="Your 30-day trial has expired",e.trialAboutToExpireTitleString="Your trial will expire in {0}",e.startTrialMessage="The preview of "+e.productName+" extension has ended. To continue using this extension in Connected mode, select an option below. We'll send a request to your admin.",e.trialExpiredMessage="To continue using "+e.productName+" in Connected mode, select Buy. We'll send a request to your admin.",e.trialAboutToExpireMessage="To continue using "+e.productName+" in Connected mode after trial ends, select Buy. We'll send a request to your admin.",e.trialNotificationContactAdminFooter="You can use Connected mode when your admin approves your request.",e.trialNotificationContinueFooter="For now, you can keep using "+e.productName+" in Standalone mode for free!",e.trialNotificationConitnueFooter2="And remember, you can use "+e.productName+" in Standalone mode for free!",e.stakeholderTfsNotSupportedMessage="TFS version you are connecting to is not supported. Use "+e.Tfs2017Name+" and above to respond to feedback requests.",e.teamModeTfsNotSupportedMessage="TFS version you are connecting to is not supported. Use "+e.Tfs2015Name+" and above to use in connected mode.",e}();t.ResourceStrings=r}),define("../../Common/ResourceHelper",["require","exports","../Common/ResourceStrings"],function(e,t,r){function o(){return r.ResourceStrings.productNameShort}function n(){return r.ResourceStrings.productName}function i(){return r.ResourceStrings.productNameWithExtension}function a(){return r.ResourceStrings.buyProductTitleString}function s(){return r.ResourceStrings.trialExpiredTitleString}function c(){return r.ResourceStrings.trialAboutToExpireTitleString}function p(){return r.ResourceStrings.startTrialMessage}function u(){return r.ResourceStrings.trialExpiredMessage}function l(){return r.ResourceStrings.trialAboutToExpireMessage}function d(){return r.ResourceStrings.trialNotificationContactAdminFooter}function f(){return r.ResourceStrings.trialNotificationContinueFooter}function m(){return r.ResourceStrings.trialNotificationConitnueFooter2}function g(){return r.ResourceStrings.stakeholderTfsNotSupportedMessage}function y(){return r.ResourceStrings.teamModeTfsNotSupportedMessage}t.getProductNameShortMessage=o,t.getProductNameMessage=n,t.getProductNameWithExtensionMessage=i,t.getBuyProductTitleMessage=a,t.getTrialExpiredTitleMessage=s,t.getTrialAboutToExpireTitleMessage=c,t.getStartTrialMessage=p,t.getTrialExpiredMessage=u,t.getTrialAboutToExpireMessage=l,t.getTrialNotificationContactAdminFooterMessage=d,t.getTrialNotificationContinueFooterMessage=f,t.getTrialNotificationConitnueFooter2Message=m,t.getTFSNotSupportedMessageForStakeholder=g,t.getTFSNotSupportedMessageForBasicUser=y}),define("../../Popup2/Common/ResourceUtility.Service",["require","exports","../../Common/ResourceHelper"],function(e,t,r){var o=function(){function e(){}return e.prototype.getProductNameMessage=function(){return r.getProductNameMessage()},e.prototype.getProductNameWithExtensionMessage=function(){return r.getProductNameWithExtensionMessage()},e.getProductNameShortMessage=function(){return r.getProductNameShortMessage()},e.GetProductNameMessage=function(){return r.getProductNameMessage()},e.GetProductNameWithExtensionMessage=function(){return r.getProductNameWithExtensionMessage()},e}();t.ResourceUtilityService=o}),define("../../Common/Types",["require","exports"],function(e,t){function r(){var e=(128+Math.floor(64*Math.random())).toString(16);return o(8)+"-"+o(4)+"-4"+o(3)+"-"+e+o(2)+"-"+o(12)}function o(e){if(!e)return Math.floor(16*Math.random()).toString(16);for(var t="",r=0;e>r;r++)t+=o();return t}function n(e){var t=!0;return e&&e.length>0&&(t=!1),t}function i(e,t){return n(e)?!1:e.lastIndexOf(t)+t.length===e.length?!0:!1}function a(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return s(!1,e,t)}function s(e,t,r){for(var o="",n=0;;){var i=t.indexOf("{",n),a=t.indexOf("}",n);if(0>i&&0>a){o+=t.slice(n);break}if(a>0&&(i>a||0>i)){if("}"!==t.charAt(a+1))throw new Error("The format string contains an unmatched opening or closing brace.");o+=t.slice(n,a+1),n=a+2}else if(o+=t.slice(n,i),n=i+1,"{"!==t.charAt(n)){if(0>a)throw new Error("The format string contains an unmatched opening or closing brace.");var s=t.substring(n,a),c=s.indexOf(":"),p=parseInt(0>c?s:s.substring(0,c),10);if(isNaN(p))throw new Error("The format string is invalid.");var u=0>c?"":s.substring(c+1),l=r[p];("undefined"==typeof l||null===l)&&(l=""),o+=l.toFormattedString?l.toFormattedString(u):l.format?l.format(u):l.toString(),n=a+1}else o+="{",n++}return o}t.newGuid=r,t.isStringNullOrEmpty=n,t.endsWith=i,t.stringFormat=a}),define("../../Common/FeatureAvailabiliy",["require","exports","../Common/ExtensionStorage","../Messaging/ChromeMessaging","../Messaging/Messaging"],function(e,t,r,o,n){var i=function(){function e(){}return e.initialize=function(){var e=this;this._subscriptionService=o.MessagingFactory.getSubscriptionService(),this._subscriptionService.subscribe(function(t,r){e.isFeatureEnabled(t.flagType)&&r()},n.NotificationType.FeatureFlagStatus),this.updateDefaultFeatureStatesInLocalStore()},e.updateDefaultFeatureStatesInLocalStore=function(){for(var e in this.defaultFeatureStates)if(!this.doesFeatureExists(e)&&this.defaultFeatureStates.hasOwnProperty(e)){var t=this.defaultFeatureStates[e];r.LocalStorageService.store(e,t),e===a[a.ActionLog]&&chrome.storage.local.set(this.getFeatureFlagJson(e,t))}},e.isFeatureEnabled=function(e){return r.LocalStorageService.retrieve(a[e])||!1},e.doesFeatureExists=function(e){return null!==r.LocalStorageService.retrieve(e)},e.setFeatureFlagState=function(e,t){var o=a[e];r.LocalStorageService.store(o,t),e===a.ActionLog&&chrome.storage.local.set(this.getFeatureFlagJson(o,t))},e.getFeatureFlagJson=function(e,t){var r={};return r[e]=t,r},e.defaultFeatureStates={ActionLog:!0,Task:!0,SearchSimilarBugs:!0,OfflineMode:!0,RestApiForSession:!0,PerfData:!0,RunnerActionLog:!0,XTTrialMode:!1,OngoingRecording:!0,StakeholderMode:!0},e}();t.FeatureAvailibilityService=i,function(e){e[e.ActionLog=0]="ActionLog",e[e.Task=1]="Task",e[e.SearchSimilarBugs=2]="SearchSimilarBugs",e[e.OfflineMode=3]="OfflineMode",e[e.RestApiForSession=4]="RestApiForSession",e[e.PerfData=5]="PerfData",e[e.RunnerActionLog=6]="RunnerActionLog",e[e.XTTrialMode=7]="XTTrialMode",e[e.OngoingRecording=8]="OngoingRecording",e[e.StakeholderMode=9]="StakeholderMode",e[e.NewBranding=10]="NewBranding"}(t.FeatureFlag||(t.FeatureFlag={}));var a=t.FeatureFlag}),define("../../Popup2/CommonControls/InputDropdown.Template",["require","exports"],function(e,t){t.inputDropdownControlTemplate='<div id="input-mrutfsurls">  <div class ="typeahead-dropdown-icon bowtie-triangle-down bowtie-icon dropdown-button" role="button" aria-label="Open drop down" tabIndex="0" aria-pressed="{{ isDropOpen }}" ng-click="onDropDownClick()" ng-mousedown="onMouseDown($event)" ng-keydown="onKeyDown($event)" ng-if="isDropButtonVisible()"> </div>  <input class="typeahead" type= "text" aria-labelledby="team-services-url" placeholder=" Enter Team Services / Team Foundation Server url" ng-model="url"></div>',t.inputDropdownControlTemplateNewBranding='<div id="input-mrutfsurls">  <div class ="typeahead-dropdown-icon bowtie-triangle-down bowtie-icon dropdown-button" role="button" aria-label="Open drop down" tabIndex="0" aria-pressed="{{ isDropOpen }}" ng-click="onDropDownClick()" ng-mousedown="onMouseDown($event)" ng-keydown="onKeyDown($event)" ng-if="isDropButtonVisible()"> </div>  <input class="typeahead" type= "text" aria-labelledby="team-services-url" placeholder=" Enter Azure DevOps Services / Team Foundation Server url" ng-model="url"></div>'}),define("../../Popup2/SignIn/SignIn.Template",["require","exports"],function(e,t){t.signInTemplate='<div class="sign-in-page" ng-controller="SignInFormController as controller" ng-escape="controller.utilityService.minimizeForm()">    <error-control></error-control>    <div class="form-container">        <div role="group" aria-labelledby="connection-settings">           <div id="connection-settings" class="sign-in-page-title">               <legend>Connection settings</legend>           </div>           <div class="sign-in-option">               <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'tfs-option\'}}">                   <input id="connected-radio-button" type="radio" aria-labelledby="connected" name="connection" value="connected" ng-disabled="controller.$localStorage.activeSession.state === 1" ng-change="controller.changeConnectionOption()" ng-model="controller.connectionOption">                   <span id="connected">{{ controller.getTeamRadioText() }}</span>               </div>               <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'offline-option\'}}">                   <input id="standalone-radio-button" type="radio" aria-labelledby="standalone" name="connection" value="offline" ng-disabled="controller.$localStorage.activeSession.state === 1" ng-change="controller.changeConnectionOption()" ng-model="controller.connectionOption">                   <span id="standalone">Standalone</span>               </div>           </div>        </div>        <div class="tfs-content" ng-if="controller.connectionOption === \'connected\'">           <div class="connected-mode-description" ng-if="!controller.isloggedIn">               {{ controller.getConnectedModeDescription() }}<a ng-click="controller.utilityService.openLink(\'https://aka.ms/xtmodes \')" ng-keydown="controller.utilityService.openLinkOnEnterPress($event, \'http://aka.ms/xtmodes \')" target="_blank" tabindex="0">Learn more</a>                <br>           </div>        <div class="connect-tfs-control">            <div class="tfs-header-section">                <div class="tfs-header">Server URL</div>            <button class="disconnect-button" ng-if="controller.connectionStatusPassed && controller.$localStorage.activeSession.state !== 1" ng-click="controller.disconnect()" tabindex="{{ controller.enableTabIndex(controller.isloggedIn) }}">                <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'disconnect\'}}" title="{{ controller.$localStorage.activeSession.state | TooltipFilter }}">                    Disconnect                </div>            </button>            <button class="disconnect-button" ng-if="(!controller.connectionStatusPassed && controller.$localStorage.initialBaseUrl  && $root.actionInProgress) || controller.$localStorage.activeSession.state === 1" ng-click="controller.repair()" tabindex="{{ controller.enableTabIndex(controller.isloggedIn) }}">                <div  class="disconnect" title="Repair">                    Repair                </div>            </button>                <!--                <div class="icon-info"></div>                -->            </div>            <div class="tfs-url" ng-style="{\'background-color\': !controller.isInputEditable ? \'#DDDDDD\' : \'white\' }">                  <span ng-if="!controller.isInputEditable"> <input ng-style="{\'background-color\': !controller.isInputEditable ? \'#DDDDDD\' : \'white\' }" type="text" ng-model="controller.baseUrl;" tabindex="{{ controller.enableTabIndex(!controller.isloggedIn) }}" aria-labelledby="team-services-url" ng-readonly="!controller.isInputEditable" ng-keydown="controller.keyDownOnNext($event)" enable="{{ controller.isloggedIn === false }}" placeholder=" Enter Team Services / Team Foundation Server url" /></span>                  <span id="team-services-url" class="hidden-aria-label">Team Foundation Server or Team Services URL</span>                  <span ng-if="controller.isInputEditable"> <input-dropdown tfsurl="controller.baseUrl" ng-style="{\'background-color\': !controller.isInputEditable ? \'#DDDDDD\' : \'white\' }" type="text"  tabindex="-1" ng-readonly="!controller.isInputEditable" ng-keydown="controller.keyDownOnNext($event)" enable="{{ controller.isloggedIn === false }}"></input-dropdown></span>                <div class="connection-status">                    <div class="passed"                         ng-class="controller.statusPassedItem.css"                         ng-bind-html="controller.statusPassedItem.unicode"                         ng-if="controller.connectionStatusPassed && controller.showConnectionStatusIcon"></div>                </div>            </div>            <div class="tfs-url-preview" ng-if="!controller.connectionStatusPassed && controller.baseUrl && controller.baseUrl.length != 0 " ng-if="!controller.isTeamSelected" >                <span>Preview:&nbsp;</span>                <input type="text" value="{{ controller.$localStorage.initialBaseUrl = controller.baseUrl; controller.baseUrl | tfsurlFilter }}" title="{{ controller.baseUrl | tfsurlFilter }}" readonly tabindex="-1" />            </div>            <div class="tfs-url-preview" ng-if="controller.isInputEditable && (!controller.baseUrl || controller.baseUrl.length === 0) ">            </div>            <div class="vso-sign-up" ng-if="!controller.isloggedIn">              Don\'t have a Visual Studio Team Services account? <a ng-href="" ng-click="controller.loadSignUpPage()" ng-keydown="controller.keyDownOnNewUser($event)" tabindex="0">Sign up </a>for free.            </div>        </div>        <div class="button-container" ng-if="!controller.isloggedIn" tabindex="-1">            <button ng-click="controller.validateTfsUrl()" ng-disabled="$root.actionInProgress || !controller.$localStorage.initialBaseUrl" tabindex="{{ controller.enableTabIndex(!controller.isloggedIn) }}">                <div class="submit-text">                    Next                </div>            </button>        </div>        <div ng-if="controller.$storage.changeTeamDetails !== false" >            <div ng-if="controller.isloggedIn" class="team-path">                <div class="project-team-header">                    <div class="select-team-text" tabindex="-1" ng-if="!controller.isTeamSelected"><label for="team-search-input" id="search-label-id">Select your team<label></div>                </div>                   <div class="refresh-button" title="Refresh" ng-click="controller.refresh()" role="button" tabindex="{{ controller.enableTabIndex(controller.isloggedIn) }}" ng-keydown="controller.keyDownOnRefresh($event)">Refresh</div>                <div class="select-team">                   <div class="filter">                        <div class="select-collection-header" title="{{controller.collectionFilter.name}}" ng-if="controller.data.length > 1" >                            <select class="select-collection" tabindex="{{ controller.enableTabIndex(controller.data.length > 1 && !controller.isloggedIn) }}" ng-disabled="controller.$storage.activeSession.state === 1" ng-options="collection.name for collection in controller.data" ng-model="controller.collectionFilter"> </select>                       </div>                       <div class="team-filter" >                            <input class="input-box" id="team-search-input" type="text" results="0"  ng-disabled="controller.$storage.activeSession.state === 1" ng-change="controller.teamFilterChanged()" ng-model="controller.teamFilter" aria-describedby="team-search-input" ng-model-options="{debounce: 300}" enable="controller.isloggedIn"  placeholder= " Search..." />                           <div class="team-search-button-container" title="Search">&#57492;</div>                       </div>                   </div>                 </div>             </div>            <!-- as a Dom element -->            <div class="team-selector" id="team-selector-container" ng-if="controller.isloggedIn">                <div ng-if="!controller.isRefreshing"                     data-angular-treeview="true"                     data-tree-id="tree"                     data-tree-model="controller.data"                     data-node-id="id"                     data-node-label="name"                     data-node-children="children"                     data-container-id="team-selector-container">                </div>                <div ng-if="controller.isRefreshing" class="refresh-icon">                </div>            </div>        </div>            <button class="change-button" ng-click="controller.changeConnectionSettings()" ng-disabled="controller.isChangeButtonDisabled()" ng-if="controller.$storage.changeTeamDetails === false">                   <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'change\' }}" > Change </div>            </button>            <div class="selected-team-title" ng-if="controller.isloggedIn && controller.$storage.changeTeamDetails === false">Selected Team: </div>            <div class="selected-team-text" ng-if="controller.$storage.changeTeamDetails === false && controller.isloggedIn" title="{{ controller.teamPath }} ">{{ controller.teamPath }} </div>            <div class="selected-team-text-without-title" ng-if="controller.$storage.changeTeamDetails !== false && controller.isloggedIn" title="{{ controller.teamPath }} ">{{ controller.teamPath }} </div>            <div class="button-container" ng-if="controller.isloggedIn && controller.$storage.changeTeamDetails !== false" tabindex=-1>                 <button ng-click="controller.save()" ng-disabled="controller.isSaveDisable() || controller.$storage.activeSession.state === 1 || $root.actionInProgress" tabindex="{{ controller.enableTabIndex(!controller.isSaveDisable()) }}">                    <div class="submit-text">                         Save                    </div>                 </button>             </div>        </div>        <div class="offline-content" ng-if="controller.connectionOption === \'offline\'">        Make notes, take screenshots, file bugs, and share your findings as a report. Open to everyone. No connection to Visual Studio Team Services or Team Foundation Server required. <a ng-click="controller.utilityService.openLink(\'https://aka.ms/xtmodes \')" target="_blank" ng-keydown="controller.utilityService.openLinkOnEnterPress($event, \'http://aka.ms/xtmodes \')" tabindex="0">Learn more</a><br><br>Don\'t have a Visual Studio Team Services account? <a ng-href="" ng-click="controller.loadSignUpPage()" ng-keydown="controller.keyDownOnNewUser($event)" tabindex="0">Sign up</a> for free.        <br>        <br>        <i> {{ controller.getOfflineFooterMessage() }} </i>        </div>        <xt-minimizepage></xt-minimizepage>    </div></div>',t.signInTemplateNewBranding='<div class="sign-in-page" ng-controller="SignInFormController as controller" ng-escape="controller.utilityService.minimizeForm()">    <error-control></error-control>    <div class="form-container">        <div role="group" aria-labelledby="connection-settings">           <div id="connection-settings" class="sign-in-page-title">               <legend>Connection settings</legend>           </div>           <div class="sign-in-option">               <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'tfs-option\'}}">                   <input id="connected-radio-button" type="radio" aria-labelledby="connected" name="connection" value="connected" ng-disabled="controller.$localStorage.activeSession.state === 1" ng-change="controller.changeConnectionOption()" ng-model="controller.connectionOption">                   <span id="connected">{{ controller.getTeamRadioText() }}</span>               </div>               <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'offline-option\'}}">                   <input id="standalone-radio-button" type="radio" aria-labelledby="standalone" name="connection" value="offline" ng-disabled="controller.$localStorage.activeSession.state === 1" ng-change="controller.changeConnectionOption()" ng-model="controller.connectionOption">                   <span id="standalone">Standalone</span>               </div>           </div>        </div>        <div class="tfs-content" ng-if="controller.connectionOption === \'connected\'">           <div class="connected-mode-description" ng-if="!controller.isloggedIn">               {{ controller.getConnectedModeDescription() }}<a ng-click="controller.utilityService.openLink(\'https://aka.ms/xtmodes \')" ng-keydown="controller.utilityService.openLinkOnEnterPress($event, \'http://aka.ms/xtmodes \')" target="_blank" tabindex="0">Learn more</a>                <br>           </div>        <div class="connect-tfs-control">            <div class="tfs-header-section">                <div class="tfs-header">Server URL</div>            <button class="disconnect-button" ng-if="controller.connectionStatusPassed && controller.$localStorage.activeSession.state !== 1" ng-click="controller.disconnect()" tabindex="{{ controller.enableTabIndex(controller.isloggedIn) }}">                <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'disconnect\'}}" title="{{ controller.$localStorage.activeSession.state | TooltipFilter }}">                    Disconnect                </div>            </button>            <button class="disconnect-button" ng-if="(!controller.connectionStatusPassed && controller.$localStorage.initialBaseUrl  && $root.actionInProgress) || controller.$localStorage.activeSession.state === 1" ng-click="controller.repair()" tabindex="{{ controller.enableTabIndex(controller.isloggedIn) }}">                <div  class="disconnect" title="Repair">                    Repair                </div>            </button>                <!--                <div class="icon-info"></div>                -->            </div>            <div class="tfs-url" ng-style="{\'background-color\': !controller.isInputEditable ? \'#DDDDDD\' : \'white\' }">                  <span ng-if="!controller.isInputEditable"> <input ng-style="{\'background-color\': !controller.isInputEditable ? \'#DDDDDD\' : \'white\' }" type="text" ng-model="controller.baseUrl;" tabindex="{{ controller.enableTabIndex(!controller.isloggedIn) }}" aria-labelledby="team-services-url" ng-readonly="!controller.isInputEditable" ng-keydown="controller.keyDownOnNext($event)" enable="{{ controller.isloggedIn === false }}" placeholder=" Enter Azure DevOps Services / Team Foundation Server url" /></span>                  <span id="team-services-url" class="hidden-aria-label">Team Foundation Server or Azure DevOps Services URL</span>                  <span ng-if="controller.isInputEditable"> <input-dropdown tfsurl="controller.baseUrl" ng-style="{\'background-color\': !controller.isInputEditable ? \'#DDDDDD\' : \'white\' }" type="text"  tabindex="-1" ng-readonly="!controller.isInputEditable" ng-keydown="controller.keyDownOnNext($event)" enable="{{ controller.isloggedIn === false }}"></input-dropdown></span>                <div class="connection-status">                    <div class="passed"                         ng-class="controller.statusPassedItem.css"                         ng-bind-html="controller.statusPassedItem.unicode"                         ng-if="controller.connectionStatusPassed && controller.showConnectionStatusIcon"></div>                </div>            </div>            <div class="tfs-url-preview" ng-if="!controller.connectionStatusPassed && controller.baseUrl && controller.baseUrl.length != 0 " ng-if="!controller.isTeamSelected" >                <span>Preview:&nbsp;</span>                <input type="text" value="{{ controller.$localStorage.initialBaseUrl = controller.baseUrl; controller.baseUrl | tfsurlFilter }}" title="{{ controller.baseUrl | tfsurlFilter }}" readonly tabindex="-1" />            </div>            <div class="tfs-url-preview" ng-if="controller.isInputEditable && (!controller.baseUrl || controller.baseUrl.length === 0) ">            </div>            <div class="vso-sign-up" ng-if="!controller.isloggedIn">              Don\'t have a Azure DevOps organization? <a ng-href="" ng-click="controller.loadSignUpPage()" ng-keydown="controller.keyDownOnNewUser($event)" tabindex="0">Sign up </a>for free.            </div>        </div>        <div class="button-container" ng-if="!controller.isloggedIn" tabindex="-1">            <button ng-click="controller.validateTfsUrl()" ng-disabled="$root.actionInProgress || !controller.$localStorage.initialBaseUrl" tabindex="{{ controller.enableTabIndex(!controller.isloggedIn) }}">                <div class="submit-text">                    Next                </div>            </button>        </div>        <div ng-if="controller.$storage.changeTeamDetails !== false" >            <div ng-if="controller.isloggedIn" class="team-path">                <div class="project-team-header">                    <div class="select-team-text" tabindex="-1" ng-if="!controller.isTeamSelected"><label for="team-search-input" id="search-label-id">Select your team<label></div>                </div>                   <div class="refresh-button" title="Refresh" ng-click="controller.refresh()" role="button" tabindex="{{ controller.enableTabIndex(controller.isloggedIn) }}" ng-keydown="controller.keyDownOnRefresh($event)">Refresh</div>                <div class="select-team">                   <div class="filter">                        <div class="select-collection-header" title="{{controller.collectionFilter.name}}" ng-if="controller.data.length > 1" >                            <select class="select-collection" tabindex="{{ controller.enableTabIndex(controller.data.length > 1 && !controller.isloggedIn) }}" ng-disabled="controller.$storage.activeSession.state === 1" ng-options="collection.name for collection in controller.data" ng-model="controller.collectionFilter"> </select>                       </div>                       <div class="team-filter" >                            <input class="input-box" id="team-search-input" type="text" results="0"  ng-disabled="controller.$storage.activeSession.state === 1" ng-change="controller.teamFilterChanged()" ng-model="controller.teamFilter" aria-describedby="team-search-input" ng-model-options="{debounce: 300}" enable="controller.isloggedIn"  placeholder= " Search..." />                           <div class="team-search-button-container" title="Search">&#57492;</div>                       </div>                   </div>                 </div>             </div>            <!-- as a Dom element -->            <div class="team-selector" id="team-selector-container" ng-if="controller.isloggedIn">                <div ng-if="!controller.isRefreshing"                     data-angular-treeview="true"                     data-tree-id="tree"                     data-tree-model="controller.data"                     data-node-id="id"                     data-node-label="name"                     data-node-children="children"                     data-container-id="team-selector-container">                </div>                <div ng-if="controller.isRefreshing" class="refresh-icon">                </div>            </div>        </div>            <button class="change-button" ng-click="controller.changeConnectionSettings()" ng-disabled="controller.isChangeButtonDisabled()" ng-if="controller.$storage.changeTeamDetails === false">                   <div class="{{ controller.$localStorage.activeSession.state | ChangeClassFilter: \'change\' }}" > Change </div>            </button>            <div class="selected-team-title" ng-if="controller.isloggedIn && controller.$storage.changeTeamDetails === false">Selected Team: </div>            <div class="selected-team-text" ng-if="controller.$storage.changeTeamDetails === false && controller.isloggedIn" title="{{ controller.teamPath }} ">{{ controller.teamPath }} </div>            <div class="selected-team-text-without-title" ng-if="controller.$storage.changeTeamDetails !== false && controller.isloggedIn" title="{{ controller.teamPath }} ">{{ controller.teamPath }} </div>            <div class="button-container" ng-if="controller.isloggedIn && controller.$storage.changeTeamDetails !== false" tabindex=-1>                 <button ng-click="controller.save()" ng-disabled="controller.isSaveDisable() || controller.$storage.activeSession.state === 1 || $root.actionInProgress" tabindex="{{ controller.enableTabIndex(!controller.isSaveDisable()) }}">                    <div class="submit-text">                         Save                    </div>                 </button>             </div>        </div>        <div class="offline-content" ng-if="controller.connectionOption === \'offline\'">        Make notes, take screenshots, file bugs, and share your findings as a report. Open to everyone. No connection to Azure DevOps Services or Team Foundation Server required. <a ng-click="controller.utilityService.openLink(\'https://aka.ms/xtmodes \')" target="_blank" ng-keydown="controller.utilityService.openLinkOnEnterPress($event, \'http://aka.ms/xtmodes \')" tabindex="0">Learn more</a><br><br>Don\'t have a Azure DevOps organization? <a ng-href="" ng-click="controller.loadSignUpPage()" ng-keydown="controller.keyDownOnNewUser($event)" tabindex="0">Sign up</a> for free.        <br>        <br>        <i> {{ controller.getOfflineFooterMessage() }} </i>        </div>        <xt-minimizepage></xt-minimizepage>    </div></div>';
}),define("../../Common/Utility",["require","exports","../Common/Constants","../Common/ExtensionStorage","../Common/Types","../Common/FeatureAvailabiliy","../Popup2/CommonControls/InputDropdown.Template","../Popup2/SignIn/SignIn.Template"],function(e,t,r,o,n,i,a,s){function c(e){var t=!1;if(e){var r=(new Date).getTime()-e.getTime();400>r&&(t=!0)}return t}function p(){var e,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|chromium|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===r[1]&&(e=t.match(/\b(OPR|Edge)\/(\d+)/),null!=e)?e.slice(1).join(" ").replace("OPR","Opera"):(r=r[2]?[u(r[1]),r[2]]:[navigator.appName,navigator.appVersion,"-?"],r.join(" "))}function u(e){switch(e.toLowerCase()){case"chrome":return r.BrowserConstants.chromeBrowserName;case"firefox":return r.BrowserConstants.firefoxBrowserName;case"edge":return r.BrowserConstants.edgeBrowserName;default:return e}}function l(e,t){var r="tfsallin.net",o=e;return e.search(r)<=0&&!d(e)&&(o+=t+"/"),o}function d(e){var t=f(e);return t.match(/.visualstudio.com$/)||t.match(/^dev.azure.com$/)||t.match(/^codeapp.ms$/)||t.match(/^codedev.ms$/)?!0:!1}function f(e){var t=document.createElement("a");return t.href=e,t.hostname?t.hostname:""}function m(e,t){var r="";return e&&t&&(r=e,d(e)||(r=e.replace(t+"/",""))),r}function g(e,t,i){chrome.tabs.get(e,function(e){if(e){var a=o.LocalStorageService.retrieve(o.basicConnectionSettingsKey),s=o.LocalStorageService.retrieve(o.activeSettingsKey),c=a?a:s.serverbaseUrl,p=o.LocalStorageService.retrieve(o.loggedInKey),u=document.createElement("a");if(u.href=e.url,p&&c){var l=document.createElement("a");if(l.href=c,u.protocol==l.protocol&&u.host===l.host)return void t()}i(n.stringFormat(r.Messages.login,u.hostname))}else i(n.stringFormat(r.Messages.login,"server"))})}t.ignoreEvent=c,t.getBrowserNameAndVersion=p,t.getFullyQualifiedBrowerName=u,t.getCollectionUrl=l,t.isHostedUrl=d,t.getTfsUrl=m,t.ValidateTabHost=g;var y=function(){function e(){this.items={},this.length=0}return e.prototype.add=function(e,t){this.items[e]=t,this.length++},e.prototype.has=function(e){return e in this.items},e.prototype.get=function(e){return this.items[e]},e}();t.Map=y;var h=function(){function e(){}return e.getFooterBrandingPerfPage=function(){var e="";return e=i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.NewBranding)?"Azure DevOps </a>. ":"Visual Studio Team Services</a> / Team Foundation Server using the Connected mode. "},e.getConnectedServerTypeForHosted=function(){var e="";return e=i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.NewBranding)?"Azure DevOps organization":"VSTS account"},e.getInputDropDownTemplate=function(){var e="";return e=i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.NewBranding)?a.inputDropdownControlTemplateNewBranding:a.inputDropdownControlTemplate},e.getSignInTemplate=function(){var e="";return e=i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.NewBranding)?s.signInTemplateNewBranding:s.signInTemplate},e.getHostedBrandingName=function(e){return i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.NewBranding)?e?"Azure DevOps":"Azure DevOps Services":"Visual Studio Team Services"},e.getHostedBrandingShortName=function(e){return i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.NewBranding)?"Azure DevOps":"Team Services"},e}();t.BrandingChangesHelper=h}),define("../../Model/PerfDataInsightViewService",["require","exports","../Popup2/Common/ResourceUtility.Service","../Common/Utility"],function(e,t,r,o){var n=function(){function e(){}return e.getInsightView=function(t,r,o){var n=t.url,i=t.data,a=i.items.start,s=i.items.end,c=i.items.count;delete i.start,delete i.end,delete i.count,e.barHeight=r?r:10,e.barWidth=o?o:1500,e.RSvgWidth=e.barWidth+e.hShift;var p="<html><head><title>Performance Insights</title>";return p+='<script>function showB(t) {var bStart = document.getElementById("bStart" + t.id);var bEnd = document.getElementById("bEnd" + t.id);var bTxtStart = document.getElementById("bTxtStart" + t.id);var bTxtEnd = document.getElementById("bTxtEnd" + t.id);bStart.setAttribute("visibility", "visible");bEnd.setAttribute("visibility", "visible");bTxtStart.setAttribute("visibility", "visible");bTxtEnd.setAttribute("visibility", "visible");}function hideB(t) {var bStart = document.getElementById("bStart" + t.id);var bEnd = document.getElementById("bEnd" + t.id);var bTxtStart = document.getElementById("bTxtStart" + t.id);var bTxtEnd = document.getElementById("bTxtEnd" + t.id);bStart.setAttribute("visibility", "hidden");bEnd.setAttribute("visibility", "hidden");bTxtStart.setAttribute("visibility", "hidden");bTxtEnd.setAttribute("visibility", "hidden");}var gTags = document.getElementsByTagName("g");var startYPos = 15;function translateBoundaries(gTag, diff){var rects = gTag.getElementsByTagName("rect"), bStart, bEnd, bTxtStart, bTxtEnd, id;for(var i=0;i<rects.length;i++){if(rects[i].getAttribute("id")){id = rects[i].getAttribute("id");bStart = document.getElementById("bStart"+id);bEnd = document.getElementById("bEnd"+id);bTxtStart = document.getElementById("bTxtStart"+id);bTxtEnd = document.getElementById("bTxtEnd"+id);bStart.setAttribute("y1", Number(bStart.getAttribute("original_y1"))+diff);bStart.setAttribute("y2", Number(bStart.getAttribute("original_y2"))+diff);bEnd.setAttribute("y1", Number(bEnd.getAttribute("original_y1"))+diff);bEnd.setAttribute("y2", Number(bEnd.getAttribute("original_y2"))+diff);bTxtStart.setAttribute("y", Number(bTxtStart.getAttribute("original_y"))+diff);bTxtEnd.setAttribute("y", Number(bTxtEnd.getAttribute("original_y"))+diff);}}}function translateTicks(y){var ticks = document.getElementsByClassName("resourceTick");for(var i=0;i<ticks.length;i++){ticks[i].setAttribute("y2", y+15);}}function showAll(){var currY = startYPos, original_y;for(var i=0;i<gTags.length;i++){if(gTags[i].getAttribute("type") === null){continue;}gTags[i].setAttribute("visibility", "visible");gTags[i].setAttribute("transform", "translate(0, "+currY+")");original_y = gTags[i].getAttribute("original_y");translateBoundaries(gTags[i], 0);currY += 15;}translateTicks(currY);document.getElementById("resourceSvg").setAttribute("height", currY+70);}function filter(filter){if(filter === "All"){showAll();return;};var currY = startYPos, original_y;for(var i=0;i<gTags.length;i++){if(gTags[i].getAttribute("type") === null){continue;console.log("NULL");}if(gTags[i].getAttribute("type") === filter){gTags[i].setAttribute("visibility", "visible");gTags[i].setAttribute("transform", "translate(0, "+currY+")");original_y = gTags[i].getAttribute("original_y");translateBoundaries(gTags[i], currY-original_y);currY += 15;} else{gTags[i].setAttribute("visibility", "hidden");}}translateTicks(currY);document.getElementById("resourceSvg").setAttribute("height", currY+70);}function setSvgHeight() {y = 15;for(var i=0;i<gTags.length;i++){if(gTags[i].getAttribute("type") === null){continue;}y += 15;}document.getElementById("resourceSvg").setAttribute("height", y+70);}window.onload = setSvgHeight;</script>',p+='</head><body style="min-width:'+e.RSvgWidth+'">',p+=e.addCSS(),p+=e.addReportTitle(n),p+='<div class="perfInsight" width= "100%" height= "100%" >\n',s=s>i.items.pageTimings.loadEventEnd-i.items.pageTimings.navigationStart?s:i.items.pageTimings.loadEventEnd-i.items.pageTimings.navigationStart,i.items.pageTimings.loadEventEnd<=0?p+"</div>\n</body></html>":(p+=e.generateNavigationWaterfall(i.items.pageTimings,i.items.pageTimings.navigationStart,i.items.pageTimings.loadEventEnd,12),p+=e.generateResourceWaterfall(i,a,s,c),p+="</div>\n",p+=e.addFooter(),p+"</body></html > ")},e.addCSS=function(){var e='<style>.perfInsight {font-family: "Segoe UI", Arial, Helvetica, sans-serif;font-size: 100%;text-align: left;color: #333;line-height: 120%;padding-bottom: 2px;padding-top: 1px;padding-left: 1px;position: relative;margin-bottom: 0;overflow: auto;}.line {position: relative;margin-bottom: 0;border-bottom: 2px solid #ccc;height: 2px;overflow: hidden;}#main p.inlineBlock {margin-bottom: 0;display: inline-block;}.ReportGenerationText {font-family: "Segoe UI", Arial, Helvetica, sans-serif;font-size: 140%;text-align: left;color: #999;line-height: 120%;padding-bottom: 2px;padding-top: 1px;position: relative;margin-bottom: 0;float: left;padding-top: 5px;margin-top: 20px;margin-bottom: 20px;width: 100%;}.PageLoaded {font-family: "Segoe UI", Arial, Helvetica, sans-serif;font-size: 200%;text-align: left;color: #999;line-height: 120%;padding-bottom: 2px;position: relative;margin-bottom: 10px;width: 100%;float: left;margin-top: 10px;}.ReportHeader {position: relative;width: 95%;height: 300px;margin-bottom: 10px;margin-bottom: 20px;padding-left: 1px;}.ReportTitle {font-family: "Segoe UI", Arial, Helvetica, sans-serif;font-size: 400%;text-align: left;color: #0079cc;line-height: 120%;padding-bottom: 2px;padding-top: 1px;position: relative;margin-bottom: 0;width: 100%;float: left;display: inline-block;}.ExploratoryTestingLabel {font-family: "Segoe UI", Arial, Helvetica, sans-serif;padding-left: 1px;font-size: 200%;text-align: left;color: #999;line-height: 120%;padding-bottom: 2px;position: relative;margin-top: 10px;width: 100%;float: left;display: inline-block;}.TocTitleDiv {position: relative;top: 0px;height: 60px;width: 100%;background: #eee;}.TocHeader {font-family: "Segoe UI Semibold", Arial, Helvetica, sans-serif;font-size: 200%;font-weight: bold;text-align: left;color: #0079cc;line-height: 120%;padding: 15px;position: relative;}.ReportEndText {font-family: "Segoe UI Semibold", Arial, Helvetica, sans-serif;font-size: 200%;font-weight: bold;text-align: left;color: #0079cc;position: relative;margin-bottom: 0;padding: 15px;}.GreyedTileFooterDiv {position: relative;margin-bottom: 0;margin-top: 20px;background-color: #eee;width: 100%;padding-top: 0px;height: 60px;}caption, h2{text-align: left}.appCache:hover, .blocked:hover, .connect:hover, .crossDomainRed:hover, .dns:hover, .dnsN:hover, .domContentLoadEvent:hover, .domProcessing:hover, .networkServer:hover, .onLoadEvent:hover, .redirect:hover, .request:hover, .response:hover, .responseN:hover, .tcp:hover, .total:hover, .ttfb:hover, .unload:hover {    opacity: .5}html, body, caption, h1, h2, h3, html, li, p, a, section, table, tbody, td, th, thead, tr, ul {margin: 0;padding: 0;border: none;font: inherit;vertical-align: baseline}h3 {font-weight: 700}body, html {height: 100%}html {font-size: 100.01%}body {padding: 0 32px;font-family: helvetica, arial, sans-serif;font-size: 75% ;}h1 {margin: 1em 0;font-size: 2em}caption, h2 {margin: .7em 0;font-size: 1.4em}h3 {display: inline}table {border-collapse: collapse;border: 1px solid #111}th{padding:.5em 1emfont-weight: 700}.background{background-color:#fff;fill: #fff}.background:hover {background-color: #999;fill:#999;opacity: .5}.blocked {fill: #FFE0D9;background-color: #FFE0D9;color: #000}.connect,.dns,.redirect,.request,.response{color: #fff}.redirect {fill: #DEEAF6;background-color: #DEEAF6}.dns {fill: #FEFCBA;background-color: #FEFCBA}.connect {fill: #CFC;background-color: #CFC}.request {fill: #D1A3FF;background-color: #D1A3FF}.response {fill: #ECD9FF;background-color: #ECD9FF}.unload {fill: #FB9FC6;background-color: #FB9FC6}.tick {stroke: #ccc}.resource-detail {position: absolute;visibility: hidden}.crossDomainRed {fill: #f3c;background-color: #f3c;color: #000}.total{fill:#3BCCFF;background-color: #3BCCFF;color:#000}.networkServer {fill: #C8FFFF;background-color: #C8FFFF;color: #fff}.tcp {fill: #FEFCBA;background-color: #FEFCBA;color: #fff}.appCache {fill: #F7CAAC;background-color: #F7CAAC;color: #fff}.ttfb {fill: #CFC;background-color: #CFC;color: #fff}.dnsN {fill: #FCF;background-color: #FCF;color: #fff}.domProcessing {fill: #FCDF74;background-color: #FCDF74;color: #fff}.domContentLoadEvent {fill: #FCCC74;background-color: #FCCC74;color: #fff}.onLoadEvent {fill: #A8D08D;background-color: #A8D08D;color: #fff}.responseN {fill: #9CF;background-color:#9CF;color: #fff}</style>';return e},e.generateResourceWaterfall=function(t,r,o,n){e.RSvgHeight=(n+1)*(e.barHeight+e.margin)+e.vShift,e.RBoundaries="",e.setScale(r?r:0,o,!1);for(var i in e.typesDict)e.typesDict[i].done=!1,e.typesDict[i].count=0;var a='<div>\n<div class="TocTitleDiv">\n<div class="TocHeader">Resource Chart</div>\n</div>\n<div class="line"></div><div style="float:right;">\n'+e.addRTable()+"</div>\n</div><br>\n";a+=e.addSelectMenu(t)+"<br><br>",a+='<div style="margin-bottom:10px" class="resourceTimingChart">\n<svg id="resourceSvg" width="100%" height="'+e.RSvgHeight+'px">\n<g transform="translate(950, 19)"><text style="font-weight: bold;">Time (ms) </text></g><g transform="translate(25, 19)"><text style="font-weight: bold;">Resources </text></g><g transform="translate(165, 19)"><text style="font-weight: bold;">Total Time (ms)</text></g><g transform="translate(250, 60)">',a+=e.addNavigationChart(t.items.pageTimings,0,e.barWidth,e.barHeight,"Navigations");var s=1;for(var c in t.items)if("pageTimings"!==c&&"timestamp"!==c&&t.items[c]&&t.items[c].intervals){var p=e.generateChart(t.items[c],s++,e.barWidth,e.barHeight,c);a+=p}return a+=e.getTicks(!1),a+='</g>\n</svg><hr style="width='+(e.barWidth+300)+'">\n</div>'},e.generateNavigationWaterfall=function(t,r,o,n){var i={total:["Total","0"],networkServer:["Network/Server","navigationStart"],crossDomainRedirect:["Cross-Domain-Redirect","navigationStart"],tcp:["tcp","connectStart"],appCache:["App-Cache","domainLookupStart"],dnsN:["Dns","domainLookupStart"],ttfb:["Time to first Byte","requestStart"],responseN:["Response","responseStart"],unload:["Unload","unloadEventStart"],domProcessing:["DomProcessing","domProcessingStart"],domContentLoadedEvent:["DomContentLoaded","domContentLoadedEventStart"],onLoadEvent:["Load Event","onLoadEventStart"]};e.NSvgWidth=e.barWidth+e.hShift,e.NSvgHeight=n*(e.barHeight+e.margin)+e.vShift,e.NBoundaries="",e.setScale(r?r:0,o,!0);var a='<div>\n\n<div class="TocTitleDiv">\n<div class="TocHeader">Navigation Chart</div>\n</div>\n<div class="line"></div></div>\n<div style="margin-bottom:10px;margin-top:20px" class="NavigationTimingChart">\n<svg width="100%" height="'+e.NSvgHeight+'px"><g transform="translate(950, 19)"><text style="font-weight: bold;">Time (ms) </text></g><g transform="translate(25, 19)"><text style="font-weight: bold;">Navigations </text></g><g transform="translate(165, 19)"><text style="font-weight: bold;">Total Time (ms)</text></g><g transform="translate(250, 60)">',s=0;for(var c in i)"0"===i[c][1]&&(a+=e.generateNavigationChart(t,s++,e.barWidth,e.barHeight,c,i[c])),t[c]>=0&&t[i[c][1]]>=0&&(a+=e.generateNavigationChart(t,s++,e.barWidth,e.barHeight,c,i[c]));return a+=e.getTicks(!0),a+='</g></svg><hr style="width='+(e.barWidth+300)+'">\n</div>\n<br>'},e.generateNavigationChart=function(t,r,o,n,i,a){var s,c=r*(n+5);s='<g transform="translate(0, '+c+')" style="opacity: 1">',s+='<rect x="-250" y="0" width="100%" height="'+n+'px" class="background"></rect>',0===r&&(s+=e.generateNRect(r,t.navigationStart,t[i],i,o,n,c)),t[a[1]]>=0&&(s+=e.generateNRect(r,t[a[1]],t[i],i,o,n,c)),s+='<text x="-250" y="10" class="resource-label">'+a[0]+"</text>";for(var p=new Array,u=0;u<e.totalTimeInLength;u++)p.push("&nbsp;");for(var l=t[i].toFixed(2),u=l.length-1,d=e.totalTimeInLength-1;u>=0;u--,d-=2)p[d]=l[u],p[d-1]="";return s+='<text x="-100" y="10" class="resource-label">'+p.join("")+" </text>",s+"</g>"},e.generateChart=function(t,r,o,n,i){var a,s=r*(n+5);if(a='<g visibility="visible" original_y="'+s+'" type="'+t.type+'" transform="translate(0, '+s+')" style="opacity: 1">',a+='<rect x="-250" y="0" width="100%" height="'+n+'px" class="background"><title>',t.intervals.requestStart>0)for(var c in t.intervals)a+=c+"- "+t.intervals[c]+" ; ";else a+="Total duration- "+(t.end-t.start).toString();a+="</title></rect>",t.intervals.requestStart>0?(a+=e.generateRect(r,t.start,t.intervals.requestStartDelay,"blocked",o,n,s),a+=e.generateRect(r,t.intervals.redirectStart,t.intervals.redirect,"redirect",o,n,s),a+=e.generateRect(r,t.intervals.dnsLookupStart,t.intervals.dnsLookupTime,"dns",o,n,s),a+=e.generateRect(r,t.intervals.connectStart,t.intervals.connectTime,"connect",o,n,s),a+=e.generateRect(r,t.intervals.requestStart,t.intervals.request,"request",o,n,s),a+=e.generateRect(r,t.intervals.reponseStart,t.intervals.response,"response",o,n,s)):a+=e.generateRect(r,t.start,t.end-t.start,"response",o,n,s);var p=t.name.length>20?t.name.substr(0,10)+"....."+t.name.substr(-5,t.name.length):t.name;a+='<text x="-250" y="10" class="resource-label">'+p+"<title>"+i+"</title></text>";for(var u=new Array,l=0;l<e.totalTimeInLength;l++)u.push("&nbsp;");for(var d=t.totalDuration.toFixed(2),l=d.length-1,f=e.totalTimeInLength-1;l>=0;l--,f-=2)u[f]=d[l],u[f-1]="";return a+='<text x="-100" y="10" class="resource-label">'+u.join("")+" </text>",a+"</g>"},e.addNavigationChart=function(t,r,o,n,i){var a,s={networkServer:["NW/Server","navigationStart"],crossDomainRedirect:["Cross-Domain-Redirect","navigationStart"],tcp:["TCP","connectStart"],appCache:["AppCache","domainLookupStart"],dnsN:["DNS","domainLookupStart"],ttfb:["Time to first Byte","requestStart"],responseN:["Response","responseStart"],unload:["Unload","unloadEventStart"],domProcessing:["DomProcessing","domProcessingStart"],domContentLoadedEvent:["DomContentLoaded","domContentLoadedEventStart"],onLoadEvent:["Load Event","onLoadEventStart"]},c=r*(n+e.margin);a='<g transform="translate(0, '+c+')" style="opacity: 1">',a+='<rect x="-250" y="0" width="100%" height="'+n+'px" class="background"><title>Total Time '+t.total+"</title></rect>";for(var p in s)"0"===s[p][1]&&(a+=e.generateRect(r,0,t[p],p,o,n,c)),t[p]>=0&&t[s[p][1]]>=0&&(a+=e.generateRect(r,t[s[p][1]]-t.navigationStart,t[p],p,o,n,c));a+='<text x="-250" y="10" class="resource-label">'+i+"<title>Page Navigation Timings</title></text>";for(var u=new Array,l=0;l<e.totalTimeInLength;l++)u.push("&nbsp;");for(var d=t.total.toFixed(2),l=d.length-1,f=e.totalTimeInLength-1;l>=0;l--,f-=2)u[f]=d[l],u[f-1]="";return a+='<text x="-100" y="10" class="resource-label">'+u.join("")+" </text>",a+"</g>"},e.generateRect=function(t,r,o,n,i,a,s){var c="";if(r>=0){var p=r*e.RScale,u=p+o*e.RScale,l=r+o,d=n;n="responseN"===n||"dnsN"===n?n.substr(0,n.length-1):n,c='<rect onmouseover="showB(this)" onmouseout="hideB(this)" id="'+d+t+'" x="'+p+'" y="0" width="'+o*e.RScale+'" height="'+a+'" class="resourceRect '+n+'"><title>'+n+"- "+o+"</title></rect>",e.RBoundaries+='<line class="boundaryStart" stroke="blue" visibility="hidden" id="bStart'+d+t+'" x1="'+p+'" x2="'+p+'" y1="'+(s+10)+'" y2="'+(s-8)+'" original_y1="'+(s+10)+'" original_y2="'+(s-8)+'"></line>',e.RBoundaries+='<text fill="blue" visibility="hidden" id="bTxtStart'+d+t+'" x="'+p+'" y="'+(s-10)+'" dy="-3" text-anchor="middle" original_y="'+(s-10)+'">'+r.toFixed(0)+"</text>",e.RBoundaries+='<line class="boundaryEnd" stroke="blue" visibility="hidden" id="bEnd'+d+t+'" x1="'+u+'" x2="'+u+'" y1="'+(s+10)+'" y2="'+(s+25)+'" original_y1="'+(s+10)+'" original_y2="'+(s+25)+'"></line>',e.RBoundaries+='<text fill="blue" visibility="hidden" id="bTxtEnd'+d+t+'" x="'+u+'" y="'+(s+30)+'" dy="+5" text-anchor="middle" original_y="'+(s+30)+'">'+l.toFixed(0)+"</text>",e.currX+=o*e.RScale}return c},e.generateNRect=function(t,r,o,n,i,a,s){var c="";if(r>0){var p=(r-e.NStartMs)*e.NScale,u=p+o*e.NScale,l=r-e.NStartMs+o,d=n;n="responseN"===n||"dnsN"===n?n.substr(0,n.length-1):n,c='<rect onmouseover="showB(this)" onmouseout="hideB(this)" id="'+d+t+'" x="'+p+'" y="0" width="'+o*e.NScale+'" height="'+a+'" class="navigationRect '+n+'"><title>'+n+"- "+o+"</title></rect>",e.NBoundaries+='<line class="boundaryStart" stroke="blue" visibility="hidden" id="bStart'+d+t+'" x1="'+p+'" x2="'+p+'" y1="'+(s+10)+'" y2="'+(s-8)+'"></line>',e.NBoundaries+='<text fill="blue" visibility="hidden" id="bTxtStart'+d+t+'" x="'+p+'" y="'+(s-10)+'" dy="-3" text-anchor="middle">'+(r-e.NStartMs).toFixed(0)+"</text>",e.NBoundaries+='<line class="boundaryEnd" stroke="blue" visibility="hidden" id="bEnd'+d+t+'" x1="'+u+'" x2="'+u+'" y1="'+(s+10)+'" y2="'+(s+25)+'"></line>',e.NBoundaries+='<text fill="blue" visibility="hidden" id="bTxtEnd'+d+t+'" x="'+u+'" y="'+(s+30)+'" dy="+5" text-anchor="middle">'+l.toFixed(0)+"</text>",e.currX+=o*e.RScale}return c},e.setScale=function(t,r,o){o?(e.NStartMs=t,e.NEndMs=r-r%10+100,e.NScale=e.barWidth/(e.NEndMs-e.NStartMs)):(e.RStartMs=0,e.REndMs=r-r%10+100,e.RScale=e.barWidth/(e.REndMs-e.RStartMs))},e.getTicks=function(t){var r,o,n,i,a;if(t){for(r='<g transform="translate(0, -6)">',i=Number((e.NEndMs-e.NStartMs)/10),a=0;a<=e.NEndMs-e.NStartMs;a+=i)o=a*e.NScale,n=e.NSvgHeight-30,r+='<line x1="'+o+'" x2="'+o+'" y1="0px" y2="'+n+'" class="tick"></line>',r+='<text x="'+o+'" y="0" dy="-3" text-anchor="middle">'+a.toFixed(0)+"</text>";return a-i<e.NEndMs-e.NStartMs&&(o=a*e.NScale,n=e.NSvgHeight-30,r+='<line x1="'+o+'" x2="'+o+'" y1="0px" y2="'+n+'" class="tick"></line>',r+='<text x="'+o+'" y="0" dy="-3" text-anchor="middle">'+a.toFixed(0)+"</text>"),r+e.NBoundaries+"</g>"}for(r='<g transform="translate(0, -6)">',i=Number((e.REndMs-e.RStartMs)/10),a=e.RStartMs;a<=e.REndMs;a+=i)o=(a-e.RStartMs)*e.RScale,n=e.RSvgHeight+30,r+='<line x1="'+o+'" x2="'+o+'" y1="0px" y2="'+n+'" class="tick resourceTick"></line>',r+='<text x="'+o+'" y="0" dy="-3" text-anchor="middle">'+a.toFixed(0)+"</text>";return a-i<e.REndMs&&(o=a*e.NScale,n=e.NSvgHeight-30,r+='<line x1="'+o+'" x2="'+o+'" y1="0px" y2="'+n+'" class="tick"></line>',r+='<text x="'+o+'" y="0" dy="-3" text-anchor="middle">'+a.toFixed(0)+"</text>"),r+e.RBoundaries+"</g>"},e.addRTable=function(){var e='<br><br>\n<table style="margin:0 auto;text-align:center;padding:0;margin-bottom:10px;">\n<thead><tr><td width="16.67%" style="padding:0;background-color:#FFE0D9">Blocked</td><td width="16.67%" style="padding:0;background-color:#DEEAF6">Redirect</td><td width="16.67%" style="padding:0;background-color:#FEFCBA">DNS</td><td width="16.67%" style="padding:0;background-color:#CCFFCC">Connect</td><td width="16.67%" style="padding:0;background-color:#D1A3FF">Request</td><td width="16.67%" style="padding:0;background-color:#ECD9FF">Response</td></tr></thead>\n</table>\n';return e},e.addNTable=function(){var e='<br><br><table style="margin:0 auto;text-align:center;padding:0;margin-bottom:10px;"><thead><tr><td width="9.09%" style="padding:0;background-color:#C8FFFF">NW/Server</td><td width="9.09%" style="padding:0;background-color:#ff33cc">Cross-Domain-Redirect</td><td width="9.09%" style="padding:0;background-color:#FEFCBA">TCP</td><td width="9.09%" style="padding:0;background-color:#F7CAAC">AppCache</td><td width="9.09%" style="padding:0;background-color:#FFCCFF">DNS</td><td width="9.09%" style="padding:0;background-color:#CCFFCC">Time to first Byte</td><td width="9.09%" style="padding:0;background-color:#99CCFF">Response</td><td width="9.09%" style="padding:0;background-color:#FB9FC6">Unload</td><td width="9.09%" style="padding:0;background-color:#FCDF74">DomProcessing</td><td width="9.09%" style="padding:0;background-color:#FCCC74">DomContentLoad</td><td width="9.09%" style="padding:0;background-color:#A8D08D">Load Event</td></tr></thead></table>';return e},e.addSelectMenu=function(t){var r=0;for(var o in t.items)"pageTimings"!==o&&"timestamp"!==o&&t.items[o]&&t.items[o].intervals&&t.items[o].intervals.requestStart>=0&&t.items[o].type&&(e.typesDict[t.items[o].type.split(" ")[0]].done=!0,e.typesDict[t.items[o].type.split(" ")[0]].count++,r++);var n='<br><select style="margin-top:10px" onchange="filter(this.value)">';n+='<option value="All" title="'+r+'">All</option>';for(var i in e.typesDict)e.typesDict[i].done&&(n+='<option value="'+e.typesDict[i].name+'" title="'+e.typesDict[i].count+'">'+e.typesDict[i].name+"</option>");return n+"</select>"},e.addFooter=function(){var e=o.BrandingChangesHelper.getFooterBrandingPerfPage(),t='<div class="ReportGenerationText"><p class="inlineBlock">This page load report was generated using <a style="color:0079cc" href="http://aka.ms/xtmarketplace">'+r.ResourceUtilityService.GetProductNameWithExtensionMessage()+'</a> for <a style="color:0079cc" href="https://visualstudio.com">'+e+'<a style="color:0079cc" href="http://aka.ms/xtlearn">Learn more</a></p>';return t+='<div class="GreyedTileFooterDiv"><div class="ReportEndText"><p>End of report.</p></div></div><div class="line"></div>',t+"</div>"},e.addReportTitle=function(e){var t='<div class="ReportTitle">\n<p class="inlineBlock">Page Load Report</p></div>\n',o=e.length>123?e.substr(0,123)+"...":e,n='<div class="ExploratoryTestingLabel">\n<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAkCAYAAAAKNyObAAAIYUlEQVRYR+1YfXBU1RW/977dLKkhbULTFgTKRJSY/Yg2rSNFnEw7Tlu1DnaMlewmxMLASCC7RP/oOLYsjBVGxWQ3JANBJU12ozYw004/xtoPY6dTi5ha9iMIYUaQqh1pCQ0Bk82+d/s7b/dmN58kzMhfvpk7++59997zO+f8zj3nLmczPpLT55qSlkLDqu/D6wo0iWaOp9/VDmrMHEdn1OB8dzhSf8jP/ALNmFnW5K/ZG076WlHht/T0+JPVzmCtZPLgXDfH/JOhqBcKEVZOSs3pmRFcSuPtsqas5UbD0A9h8vWQMB8SNDQdNvyfKY2b1pyHdl1a+kX8DgNPMBTxPfWpWC5bzUq7PyfXkl9kGNoRjF9PVhGj2jdljqYN658kbZplPZPy6TTWBp3ltHdFNw/MyVQTJs9oOTVXaU6/p5wF72F8KVofXGZXczzO4Ca4j3gJjHx9OFb/4sby/da23k2jVwtwVuBSnGGsdlm7TZ9/8ST4twTd46FovX1jeZulrXcj8XIzfLvXBMfkxnDU+3xFxQ6NOHsNwHG5dXnQdiGX9WfAeUtV0LhdTZu55C0ZcL4D6ttn4D6zXBYH5hAQXNYuOzhvfEBMzTlsuqkz6m27ppwjYYvPF5xCOH5VHSVTBgRntUhbHdckWscyhT24xBAsCmCUJfopNWVSXKBOHSWc8z2dkfrHKit/oXV3P6h/qtGqhHicgVcg6MG0sDDAedRBW2VvvEUI8Ta+EVWGpSErwnHfUQKvwFX0MIPSIfXJquavOTZ1UXBFzilgbmfz9zgzfof9qLoYMpKaq+v4ljNk1XhlKScLIUs04wjekgIj94+ULKqbjeVSMiqx7/ji4ArgJPezHfzD8oXzLidGjkHgDWQZyfk2cKop47ZUBqksb8u3jQwfZYJ1WQbzd7effnh4bfmzX9QSOd/B2jthsmLOZS44O4L397Hkb7rUX3059uhZc/0EGswIbsydjuDPAOlx2gALes8uGLi9qKhUTqVtlbO1gBK+Gdl5g08A9gYs+/IMvLuAPTsZz3myM/LIx9kApwWnkv26sufsuqH1YnOr6SzOV8Fqf5+K7GOR62x2ggJhTHdOAPUR+gPQ8DpYbzHeTd6llOZndUOu64p7X1d7TwsuEwTB1wGpIkUj1hqKeeumAqaUqXYFHFLKP0Hcl9JyLyB6XwChDklpOSHYaCMU3ActL2HD+1EKopphi9JzR1DR3IeK5jWSMSU4JXx8BSw/tlqEYyhx3iwwzxWZgcGUe4mb8fKF822JEUSsXJ4W9gbT9Q2hvoZTykJuZ1OV1bD+uT1e928aqynZu8Cw6HthuofQpT0HLZpxa/s/fWcmgSML0KIztxYuGE0aMVigCN0kirR7QjHfHya4yexmlGlqlIz7FDDLxfzvUlDQcbOo9yM9dYykIlJRgLh5aeEAz7mk7ceX6rSHDsNDD0wCN+ZOV+B5uHE9aYNJF2CNvXCFZnBpbg4NDKgpOBP/Ql23/yHHniUWbjmOT7loA0mLcL38ztYPx6cwySvtO6zdcX+C9nA7mn7IOF8rmfXhvBxt6HJiGMZgN5JMwYzV48ApYFXOpjsF4z1pM5Mlp49qyTtCsfp1HkfgMcx6hoTCetvD0fqdE4Epq1WVBW/TpPwJ1LwXfLwP2eTXtM7jaqqBAX5O7wiQA1lCoVVlt2B9fZpNFNBJT5FGHDDdjGdiRUt9C8i9lq5/yB6/Qf9utIQw2E0dce/7mYtN6vblublxIbNorYC/xtyRsxdCEe8GpUTlyudybUPitBlMkvWPgctkgsCPMbgLSyknjoV6GmD2j3l/BbiVdLQAHA5p5kI7KYT2/aQhznVFHwEdiJPd4ty5Pr74vwV/hdD3AOobGP4CLkgrit/9j3kJituLPpfLkoXgUBjf78DQsAlOJfZ1juZinUsSQryhb9O5U12spc5E6UvRre8CHEXkDSD1W7DTaXDpl6FI/Ut0ayOOgV+PwoXPGhq7ietwHTdC4YivVeXmmrLAHYbO6iAxP+0B4nom2tKuuWcWVqNlKYDcKA9Ftv0Da+Pol4Jv8Q8WnL+FLjYqZ1bd3LJUWHQiex7aIBbuwgVod/Z9Vr1jn9cw5y60BHiWKmvcruADCMTuWQIjcKbbQcg1HVHvr7DpH9H/NtqQEHpJx7GGD7KqmTcwvhqgWmVSe0YVDJlqJMVJOlaS8wdPYO5SyhhI7H7Rv7wwT+SyGG5VlFLIIioICMR0jxkQOOF3our1u52BndjwiZRJ6WroO0DJrtoR+JHkwiMEa+g4Vv9OtqfUxsrCbkfzXSgMfp/GcNh0K7Teg5+GOVhtzHJ4OYK67naUVJRPSbgAulMFw9w58nmb8clIoqwztpWi3zysKTB6erbD6qo8klxVzMDxF0yjYIDO/F5e42xcaTBBZqfInCkIprIgWdkA724j3uHuehjh+wNzYvqYoFci/UBxgTG+tksfXfhu0soZ/CkQ7UhZnr+ZKPnKal7tDLwNCeWmkNm5Mxtk6riRzEw3OERXQOOjGKM/dASYtM86mL+NUhgtIgqdLCv8OjMs/dn/o2QBI6pocO3KzojvCIcpL2PALIeu8kkpJfkaZIrfepyNOGDFobQXiLvHwMGnE4bxane84bzbFegQhrGLiSSKTdu3kCVAJ7PqMRWF67aAwy1mVYIq4SCIXHuVwLKXjeLesIruDW5H4H7OGaUhugipB7Ucp0jEIwn0MjT6Q0g9SQDzKWDkam6Gb97gFvDza1RJcoFt5/hISTUAt4LiJ7Sh/CfJjW57sBSOfQqbUUq7gmd4j2D64x3RbW/OqhKeI76s6SmiK/J7HI0VyBao1fgqTCpGs6HR32J0h3gLhekr4ZiP8vKkO8T/AUdXecW4X2hcAAAAAElFTkSuQmCC" style="vertical-align: sub"> '+r.ResourceUtilityService.GetProductNameMessage()+'</img></p><p style="margin-top:50px"> \nPage loaded: <a target="_blank" href="'+e+'" style="color:#0079cc" title="'+e+'">'+o+"</a></p\n><br></div>\n";return t+n},e.hShift=300,e.vShift=75,e.margin=5,e.totalTimeInLength=20,e.typesDict={Image:{name:"Image",done:!1,count:0},JavaScript:{name:"JavaScript",done:!1,count:0},Php:{name:"Php",done:!1,count:0},Style:{name:"Style Sheet",done:!1,count:0},Flash:{name:"Flash",done:!1,count:0},Font:{name:"Font",done:!1,count:0},Video:{name:"Video",done:!1,count:0},Source:{name:"Source Map",done:!1,count:0},XHR:{name:"XHR",done:!1,count:0},Object:{name:"Object resource",done:!1,count:0},SVG:{name:"SVG",done:!1,count:0},Link:{name:"Link",done:!1,count:0},Html:{name:"Html",done:!1,count:0},Script:{name:"Script resource",done:!1,count:0},CSS:{name:"CSS resource",done:!1,count:0},Embed:{name:"Embed resource",done:!1,count:0},Doc:{name:"Doc",done:!1,count:0},Manifest:{name:"Manifest",done:!1,count:0},Other:{name:"Other Request",done:!1,count:0}},e}();t.PerfInsightView=n}),define("../../Model/ModelHelper",["require","exports","../Model/Model","../Common/SessionData","../Common/ExtensionStorage","../Messaging/ChromeMessaging","../Messaging/Messaging","../Model/BrowserActionService","../Model/PerfDataInsightViewService","../Common/Constants","../Common/ResourceHelper"],function(e,t,r,o,n,i,a,s,c,p,u){function l(e,t,r){r?r.$emit(e.toString(),t):i.MessagingFactory.getBroadcastingService().broadcast(e,t)}function d(e){var t=Q.defer(),r={windowId:e};return chrome.tabs.query(r,function(e){t.resolve(e[0].id)}),t.promise}function f(e,t,r){var o=new Image;o.onload=function(){var e=document.createElement("CANVAS"),o=e.getContext("2d");e.height=this.height,e.width=this.width,o.drawImage(this,0,0);var n=e.toDataURL(r);t(n)},o.src=e}var m=o.SystemInformation,g=o.Screenshot,y=o.Note,h=o.Video,T=o.PerfData,I=o.ActionLog,v=n.LocalStorageService,S=function(){function e(){}return e.getAttachment=function(e){var t;if(e instanceof g)t={url:e.id,name:e.name,length:e.size,state:r.AttachmentState.Created,getContent:this.getContentFunction(e.id,e.isXTSession?!0:!1),type:r.AttachmentType.Screenshot,source:e.source,timeStamp:new Date};else if(e instanceof m)t={url:e.id,name:e.id,length:e.size,state:r.AttachmentState.Created,getContent:this.getContentFunction(e.id),type:r.AttachmentType.SystemInformation,timeStamp:new Date};else if(e instanceof y)t={url:e.id,name:e.id,length:e.size,timeStamp:new Date,state:r.AttachmentState.Created,getContent:this.getContentFunction(e.id),type:r.AttachmentType.Note};else if(e instanceof h)t={url:e.id,name:e.id,length:e.size,timeStamp:new Date,state:r.AttachmentState.Created,getContent:this.getContentFunction(e.id,e.isXTSession?!0:!1),type:r.AttachmentType.Video};else if(e instanceof T){var o=JSON.parse(e.content),i=c.PerfInsightView.getInsightView(o),a=new Blob([i],{type:"application/json"});n.PersistentStorageFactory.getStorageService().writeBlob(e.id,a,function(){},function(){}),t={url:e.id,name:e.id,length:e.size,timeStamp:new Date,state:r.AttachmentState.Created,getContent:this.getPerfDataContentFunction(e.id,i),type:r.AttachmentType.PerfData}}else e instanceof I&&(t={url:e.id,name:e.id,length:e.size,timeStamp:new Date,state:r.AttachmentState.Created,getContent:this.getActionLogContentFunction(e.id,e.content,e.isXTSession?!0:!1),type:r.AttachmentType.ActionLog});return t},e.getContentFunction=function(e,t){return void 0===t&&(t=!0),function(r){n.PersistentStorageFactory.getStorageService().getBlob(e,function(e){r(e)},function(e){console.log(e)},t)}},e.getActionLogContentFunction=function(e,t,r){return void 0===r&&(r=!0),function(r){var o=new Blob([t],{type:"text/plain"}),n=new File([o],e);r(n)}},e.getPerfDataContentFunction=function(e,t){return function(e){var r=new Blob([t],{type:"application/json"}),o=r;e(o)}},e}();t.AttachmentConverter=S,t.sendMessage=l,t.getTabId=d,t.convertToDataUrl=f;var b=function(){function e(){}return e.getError=function(e){var t=n.LocalStorageService.retrieve(n.toolbarErrorMap);if(!t)return null;var r=t[e];return r&&0!==r.length?r.pop():null},e.saveError=function(t,r,o,i,c,p){if(void 0===o&&(o=0),void 0===i&&(i=!0),void 0===c&&(c=!0),t){var u=n.LocalStorageService.retrieve(n.toolbarErrorMap);u||(u=new Object);var d=u[r];
d||(d=[]);var f=this.getErrorMessage(t);if(f){f=f.trim(),0===f.indexOf("404")&&(f=e.GetNotSupportedTfsErrorMessage());var m=t.status;d.push({errorCode:m,errorMessage:f,errorLevel:o,sticky:i,showNotification:c}),u[r]=d,v.store(n.toolbarErrorMap,u),l(a.NotificationType.ActivityErrorChanged,{toolbarType:r,errorMessage:f,errorLevel:o,showNotification:c},p),0===o&&s.getService().setIcon(s.ExtensionIconType.Error)}}},e.clearLastError=function(e,t){var r=n.LocalStorageService.retrieve(n.toolbarErrorMap);if(r){var o=r[e];if(o&&0!==o.length){o.pop(),r[e]=o,v.remove(n.toolbarErrorMap),v.store(n.toolbarErrorMap,r);var i,c,p=null;if(o.length>0){var u=o.pop();p=u.errorMessage,i=u.errorLevel,c=u.showNotification}else s.getService().clearError();l(a.NotificationType.ActivityErrorChanged,{toolbarType:e,errorMessage:p,errorLevel:i,showNotification:c},t)}}},e.clearNonStickyErrors=function(e,t){var r=n.LocalStorageService.retrieve(n.toolbarErrorMap);if(r){var o=r[e];if(o&&0!==o.length){var i=[];for(var c in o){var p=o[c];p.sticky&&i.push(p)}r[e]=i,v.store(n.toolbarErrorMap,r);var u,d,f=null;if(i.length>0){var m=i.pop();f=m.errorMessage,u=m.errorLevel,d=m.showNotification}else s.getService().clearError();l(a.NotificationType.ActivityErrorChanged,{toolbarType:e,errorMessage:f,errorLevel:u,showNotification:d},t)}}},e.clearAllErrors=function(e,t){var r=n.LocalStorageService.retrieve(n.toolbarErrorMap);if(r){var o=r[e];o&&0!==o.length&&(r[e]=[],v.store(n.toolbarErrorMap,r),l(a.NotificationType.ActivityErrorChanged,{toolbarType:e},t),s.getService().clearError())}},e.getErrorMessage=function(e,t){void 0===t&&(t=!0);var r=null;return"string"==typeof e||e instanceof String?r=e:(e.statusText?r=e.statusText:e.message?r=e.message:e.errorMessage&&(r=e.errorMessage),t&&(r&&r.match("parsererror$")||e.status&&401===e.status)&&(r="Unable to connect to server. Click on repair in connection settings page. Details:"+r)),r},e.GetNotSupportedTfsErrorMessage=function(){var e=u.getTFSNotSupportedMessageForBasicUser(),t=n.LocalStorageService.retrieve(n.connectedModeKey);return t===p.ConnectionOptionConstants.stakeholderMode&&(e=u.getTFSNotSupportedMessageForStakeholder()),e},e}();t.ErrorHelper=b}),define("../../Tracing/Tracing",["require","exports","../Common/ExtensionStorage","../Messaging/ChromeMessaging","../Messaging/Messaging","../Model/ModelHelper"],function(e,t,r,o,n,i){var a=i.ErrorHelper;!function(e){e[e.Error=0]="Error",e[e.Perf=1]="Perf",e[e.Warning=2]="Warning",e[e.Info=3]="Info",e[e.Verbose=4]="Verbose"}(t.TraceLevel||(t.TraceLevel={}));var s=t.TraceLevel;!function(e){e[e.Background=0]="Background",e[e.Popup=1]="Popup",e[e.AnnotationTool=2]="AnnotationTool"}(t.Component||(t.Component={}));var c=t.Component,p=function(){function e(){}return e.initializeService=function(e){var t=this;this.component=e,this.setTracingLevel(),o.MessagingFactory.getSubscriptionService().subscribe(function(e){t.setTracingLevelFromString(e)},n.NotificationType.TracingLevelChanged),this.component===c.Background&&(r.PersistentStorageFactory.getStorageService().createDirectory(this.tracingDirectoryName,this.tracingDirectorySize,function(){},function(){}),o.MessagingFactory.getSubscriptionService().subscribe(function(e,r){t.flushTraceQueue()},n.NotificationType.SessionStop),o.MessagingFactory.getSubscriptionService().subscribe(function(e){t.traceInternal(e.traceLevel,e.formattedMessage,e.optionalParams)},n.NotificationType.Trace))},e.traceEnter=function(e,t,r,o){for(var n=[],i=4;i<arguments.length;i++)n[i-4]=arguments[i];this.tracingLevel>=s.Perf&&console.time(e),this.trace(t,r,s.Verbose,o,n)},e.traceLeave=function(e,t,r,o){for(var n=[],i=4;i<arguments.length;i++)n[i-4]=arguments[i];this.tracingLevel>=s.Perf&&console.timeEnd(e),this.trace(t,r,s.Verbose,o,n)},e.traceError=function(e,t,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];this.trace(e,t,s.Error,a.getErrorMessage(r),o)},e.traceWarning=function(e,t,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];this.trace(e,t,s.Warning,r,o)},e.traceInfo=function(e,t,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];this.trace(e,t,s.Info,r,o)},e.traceVerbose=function(e,t,r){for(var o=[],n=3;n<arguments.length;n++)o[n-3]=arguments[n];this.trace(e,t,s.Verbose,r,o)},e.trace=function(e,t,r,i){for(var a=[],p=4;p<arguments.length;p++)a[p-4]=arguments[p];if(!(this.tracingLevel<r)){var u=new Date(Date.now()),l="("+u.toISOString()+")",d="["+c[this.component]+"-"+s[r]+" @"+l+"];XTModule:"+e+";XTModuleTracepoint:"+t+";"+i;this.component!==c.Background?o.MessagingFactory.getBroadcastingService().broadcast(n.NotificationType.Trace,{traceLevel:r,formattedMessage:d,optionalParams:a}):this.traceInternal(r,d,a)}},e.traceInternal=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];switch(e){case s.Verbose:console.log(t,r),this.persistTrace(10,t,r);break;case s.Info:console.info(t,r),this.persistTrace(5,t,r);break;case s.Warning:console.warn(t,r),this.persistTrace(0,t,r);break;case s.Error:console.error(t,r),this.persistTrace(0,t,r)}},e.setTracingLevel=function(){var e=this;r.LocalStorageService.retrieveAsync(this.tracingLevelKey,function(t){e.setTracingLevelFromString(t)})},e.setTracingLevelFromString=function(e){if(void 0!=e){var t=Number(e);this.tracingLevel=t}},e.persistTrace=function(e,t){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var n=this.getFormattedTrace(t,r);this.traceQueue.push(n),this.traceQueue.length>e&&this.flushTraceQueue()},e.getFormattedTrace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var o in t)e="\n"+e.replace("{"+o+"}",arguments[o]);return e},e.flushTraceQueue=function(){if(this.traceQueue.length>0){var e=this.traceQueue;this.traceQueue=new Array;var t=new Blob([e],{type:"text/plain"});r.PersistentStorageFactory.getStorageService().writeBlobInDir(this.tracingDirectoryName,this.getTraceFileName(),t,function(){},function(){},!0)}},e.getDayOfWeek=function(){var e=new Date;return e.getDay()},e.getTraceFileName=function(){var e=this.getDayOfWeek(),t=r.LocalStorageService.retrieve(this.lastTraceDate),o=this.traceFileNamePrefix+e;return t!==e&&(r.LocalStorageService.store(this.lastTraceDate,e),r.PersistentStorageFactory.getStorageService().removeBlobInDir(this.tracingDirectoryName,o,function(){},function(){})),o},e.tracingLevelKey="TracingLevel",e.component=c.Background,e.tracingDirectoryName="Logs",e.tracingLevel=s.Error,e.traceFileNamePrefix="xt-console-traces-",e.traceQueue=new Array,e.tracingDirectorySize=104857600,e.lastTraceDate="LastTraceDate",e}();t.TracingService=p}),define("../../Model/NoteService",["require","exports","../Common/SessionData","../Common/ExtensionStorage","../Model/AttachmentService","../Model/ModelHelper","../Tracing/Tracing","../Model/SessionService","../Model/Model","../Messaging/Messaging","../Messaging/ChromeMessaging"],function(e,t,r,o,n,i,a,s,c,p,u){function l(){t.service||(t.service=new g,o.LocalStorageService.store(o.notesCountKey,0),u.MessagingFactory.getSubscriptionService().subscribe(function(e,r){t.service.saveNote(e,function(){r&&r(),i.ErrorHelper.clearAllErrors(c.ToolbarType.Note)},function(e){a.TracingService.traceError(m,7,e),i.ErrorHelper.saveError(e,c.ToolbarType.Note)})},p.NotificationType.SaveNote))}function d(){return t.service||l(),t.service}var f=r.Note,m="NoteService";t.initializeService=l,t.getService=d,t.sessionNoteFileName="SessionNotes.txt";var g=function(){function e(){}return e.prototype.saveNote=function(e,t,r){var n=this,i=new Blob([e],{type:"text/plain"}),s=new f(e,i.size.toString());a.TracingService.traceEnter("saveNote",m,1,"Begin - Save note to persistent storage"),o.PersistentStorageFactory.getStorageService().writeBlob(s.id,i,function(e){a.TracingService.traceLeave("saveNote",m,2,"End - Save note to persistent storage"),n.updateMasterNote(s,t,r)},r)},e.prototype.cleanupNotes=function(){var e=s.getService().getLocalSession(),r=e.attachments.filter(function(e){return e.type===c.AttachmentType.Note?!0:!1});r.forEach(function(e){o.PersistentStorageFactory.getStorageService().removeBlob(e.url,function(){},function(e){a.TracingService.traceError(m,8,e)})}),o.PersistentStorageFactory.getStorageService().removeBlob(t.sessionNoteFileName,function(){},function(e){a.TracingService.traceError(m,9,e)})},e.prototype.updateMasterNote=function(e,r,n){var i=this;a.TracingService.traceEnter("saveNote",m,3,"Begin - Update master note in persistent storage");var s=new Date,c=new Blob(["\n"+s.toISOString()+"\n"+e.content],{type:"text/plain"});o.PersistentStorageFactory.getStorageService().writeBlob(t.sessionNoteFileName,c,function(t){a.TracingService.traceEnter("saveNote",m,4,"End - Update master note in persistent storage"),i.addNoteToSessionAttachments(e),r()},n,!0)},e.prototype.addNoteToSessionAttachments=function(e){a.TracingService.traceEnter("updateLocalStorage",m,5,"Begin - Add note to session attachments");var t=i.AttachmentConverter.getAttachment(e);t.textValue=e.content,n.AttachmentServiceHelper.updateAttachmentInLocalStorage(t),a.TracingService.traceLeave("updateLocalStorage",m,6,"End - Add note to session attachments")},e}()}),define("../../Common/DataCollectors",["require","exports"],function(e,t){var r=function(){function e(){}return e.screenshot="Screenshot",e.systemInfo="SystemInfo",e}();t.DataCollectorTypes=r;var o=function(){function e(){}return e.getDataCollector=function(t){return e.collectionsHash[t]},e.registerDataCollector=function(t,r){e.collectionsHash[t]=new r},e.collectionsHash={},e}();t.DataCollectorProvider=o}),define("../../ChromeDataCollectors/SystemInformationCollector",["require","exports","../Common/DataCollectors","../Common/SessionData","../Model/SystemInformationService","../Tracing/Tracing","../Common/Utility","../Model/BrowserHelper"],function(e,t,r,o,n,i,a,s){var c=s.BrowserHelper,p=i.TracingService,u="ChromeSystemInfoCollector",l=function(){function e(){this._type=r.DataCollectorTypes.systemInfo}return e.prototype.isAvailable=function(){return c.isChrome()?!0:!1},e.prototype.capture=function(e,t){var r=this;p.traceEnter("SystemInfoCollector",u,1,"Begin");var i={};chrome.windows.getCurrent({populate:!0},function(t){r.setBrowserInformation(i,t),chrome.system.cpu.getInfo(function(t){r.setOperatingSystemInformation(i,t),chrome.system.memory.getInfo(function(t){r.setMemoryInformation(i,t),chrome.system.display.getInfo(function(t){r.setDisplayInformation(i,t);var a=JSON.stringify(i),s=new o.SystemInformation(n.getSystemInformationFileName(),a);e&&e(s)})})})}),p.traceLeave("SystemInfoCollector",u,2,"End")},e.prototype.getType=function(){return this._type},e.prototype.setBrowserInformation=function(e,t){e.Browser={},e.Browser.Name=a.getBrowserNameAndVersion(),e.Browser.Language=navigator.language,e.Browser.Height=t.height,e.Browser.Width=t.width,e.Browser.UserAgent=navigator.userAgent},e.prototype.setOperatingSystemInformation=function(e,t){e.OS={},e.OS.Name=navigator.appVersion.substring(navigator.appVersion.indexOf("(")+1,navigator.appVersion.indexOf(")")),e.OS.Architecture=t.archName,e.OS.ProcessorModel=t.modelName,e.OS.NumberOfProcessors=t.numOfProcessors},e.prototype.setMemoryInformation=function(e,t){e.Memory={},e.Memory.Available=t.availableCapacity,e.Memory.Capacity=t.capacity},e.prototype.setDisplayInformation=function(e,t){var r=t.filter(function(e){return e.isPrimary});e.Display={},e.Display.PixelsPerInchXaxis=r[0].dpiX,e.Display.PixelsPerInchYaxis=r[0].dpiY,e.Display.Height=screen.height,e.Display.Width=screen.width,e.Display.DevicePixelRatio=window.devicePixelRatio},e}();t.ChromeSystemInfoCollector=l}),define("../../Model/SystemInformationService",["require","exports","../Common/DataCollectors","../ChromeDataCollectors/SystemInformationCollector","../Common/ExtensionStorage"],function(e,t,r,o,n){function i(){return(new o.ChromeSystemInfoCollector).isAvailable()}function a(){!t.service&&i()&&(t.service=new l)}function s(){return t.service||a(),t.service}function c(){return u}function p(){var e=new Date(Date.now());return e.toISOString().replace(/:/g,"-")}t.isAvailable=i,t.initializeService=a,t.getService=s,t.getSystemInformationFileName=c,t.getUtcTime=p;var u,l=function(){function e(){r.DataCollectorProvider.registerDataCollector(r.DataCollectorTypes.systemInfo,o.ChromeSystemInfoCollector)}return e.prototype.captureSystemInformation=function(e,t){u="SystemInformation-"+p()+".json";var o=r.DataCollectorProvider.getDataCollector(r.DataCollectorTypes.systemInfo);o.capture(function(r){var o=new Blob([r.content],{type:"text/json"});r.size=o.size.toString(),n.PersistentStorageFactory.getStorageService().writeBlob(u,o,function(t){e(r)},function(e){t&&t(e)})})},e.prototype.captureSystemInformationAsync=function(){var e=Q.defer();return this.captureSystemInformation(e.resolve,e.reject),e.promise},e}()}),define("../../Service/WorkItemHelper",["require","exports","../Common/ExtensionStorage","../Common/Constants","../Model/Model"],function(e,t,r,o,n){var i=function(){function e(){}return e.populateWorkItemMetaDataCache=function(e,t){var n=r.LocalStorageService.retrieve(r.workItemTypeMetaDataCache);n||(n={}),n[e]={category:t,color:o.WorkItemConstants.defaultWorkItemColor},r.LocalStorageService.store(r.workItemTypeMetaDataCache,n);var i=r.LocalStorageService.retrieve(r.workItemCategoryMetaDataCache);i||(i={}),i[t]={defaultWorkItemType:e},r.LocalStorageService.store(r.workItemCategoryMetaDataCache,i)},e.getWorkItemColor=function(e){if(this.isOffline()||!e)return o.WorkItemConstants.defaultWorkItemColor;var t=r.LocalStorageService.retrieve(r.workItemTypeMetaDataCache);return t[e].color},e.getDefaultWorkItemType=function(e){if(this.isOffline())return n.WorkItemType.bug;var t=r.LocalStorageService.retrieve(r.workItemCategoryMetaDataCache);return t[e].defaultWorkItemType},e.getCategory=function(e){if(this.isOffline())return n.WorkItemCategories.BugCategory;var t=r.LocalStorageService.retrieve(r.workItemTypeMetaDataCache);return t[e].category},e.isOffline=function(){var e=r.LocalStorageService.retrieve(r.activeSettingsKey);return!e||e.offlineMode?!0:!1},e._removeDirtyWorkItemFromLocalStorage=function(e){this.getCategory(e.type)===n.WorkItemCategories.BugCategory?this._removeDirtyBugFromLocalStorage():this.getCategory(e.type)===n.WorkItemCategories.TaskCategory?this._removeDirtyTaskFromLocalStorage():this.getCategory(e.type)===n.WorkItemCategories.TestCaseCategory?this._removeDirtyTestCaseFromLocalStorage():this.getCategory(e.type)===n.WorkItemCategories.FeedbackResponseCategory&&this._removeDirtyFeedbackResponseFromLocalStorage()},e._removeDirtyBugFromLocalStorage=function(){r.LocalStorageService.remove(r.bugFormDirtyKey),r.LocalStorageService.remove(r.bugTitleDirtyKey),r.LocalStorageService.remove(r.unsavedBugTitleKey),r.LocalStorageService.remove(r.searchResultsForSimilarBugsKey),r.LocalStorageService.remove(r.selectedBugForUpdateKey),r.LocalStorageService.remove(r.includeImageActionLogsInBugKey)},e._removeDirtyTaskFromLocalStorage=function(){r.LocalStorageService.remove(r.taskFormDirtyKey),r.LocalStorageService.remove(r.taskTitleDirtyKey),r.LocalStorageService.remove(r.unsavedTaskDescriptionKey),r.LocalStorageService.remove(r.unsavedTaskTitleKey),r.LocalStorageService.remove(r.includeImageActionLogsInTaskKey)},e._removeDirtyFeedbackResponseFromLocalStorage=function(){r.LocalStorageService.remove(r.feedbackResponseFormDirtyKey),r.LocalStorageService.remove(r.feedbackResponseTitleDirtyKey),r.LocalStorageService.remove(r.unsavedFeedbackResponseDescriptionKey),r.LocalStorageService.remove(r.unsavedFeedbackResponseTitleKey),r.LocalStorageService.remove(r.includeImageActionLogsInFeedbackResponseKey)},e._removeDirtyTestCaseFromLocalStorage=function(){r.LocalStorageService.remove(r.testCaseFormDirtyKey),r.LocalStorageService.remove(r.unsavedTestCaseStepsKey),r.LocalStorageService.remove(r.unsavedTestCaseTitleKey)},e}();t.WorkItemHelper=i}),define("../../Model/WorkitemServiceHelper",["require","exports","../Model/SettingsService","../Model/Model","../Common/ExtensionStorage","../Service/WorkItemHelper"],function(e,t,r,o,n,i){var a=i.WorkItemHelper,s=function(){function e(){}return e.updateWorkItems=function(e,t){var i=this,a=n.LocalStorageService.retrieve(t);if(e){var s=r.getService().getLocalSettings();a||(a=new Array),e.forEach(function(e){var t={title:e.fields[o.WorkItemField.title],id:e.fields[o.WorkItemField.id],type:e.fields[o.WorkItemField.workItemType],assignedTo:e.fields[o.WorkItemField.assignedTo]?e.fields[o.WorkItemField.assignedTo].substring(0,e.fields[o.WorkItemField.assignedTo].indexOf("<")):"Unassigned",state:e.fields[o.WorkItemField.workItemState],iterationPath:e.fields[o.WorkItemField.iterationPath],url:i.getEditableWitUrl(e.fields[o.WorkItemField.id],s)};a.push(t)})}return a},e.parseFeedbackWorkItems=function(e){var t=new Array;return e.forEach(function(e){var r={title:e.fields[o.WorkItemField.title],id:e.fields[o.WorkItemField.id],type:e.fields[o.WorkItemField.workItemType],createdDate:e.fields[o.WorkItemField.createdDate],createdBy:e.fields[o.WorkItemField.createdBy]?e.fields[o.WorkItemField.createdBy].substring(0,e.fields[o.WorkItemField.createdBy].indexOf("<")):"None",applicationLaunchInstruction:e.fields[o.WorkItemField.applicationLaunchInstruction]};t.push(r)}),t},e.getWorkItemIdFromUrl=function(e){var t=0;if(e){var r=e.split("/"),o=r.length,n=parseInt(r[o-1]);t=isNaN(n)?0:n}return t},e.mergeFeedbackWorkItemsWithSessions=function(e,t){var r={};return t&&t.forEach(function(e){if(e.propertyBag&&e.propertyBag.bag){var t=e.propertyBag.bag[o.TestSessionConstants.feedbackRequestIdString];t&&(!r[t]||r[t].id<e.id)&&(r[t]=e)}}),e&&e.forEach(function(e){e.associatedFeedbackSession=r[e.id]}),e},e.parseLinksAndGetParent=function(e){for(var t=0;t<e.length;t++)if(e[t].rel===o.WorkItemRelations.parentLink)return e[t].url;return null},e.filterAndRankWorkItems=function(e,t){for(var r={},o=0,n=t.length;n>o;o++)r[t[o].id]=t[o];t=[];for(var i in r)t.push(r[i]);var a=e.split(" ").filter(function(e){return e?!0:!1}),s=a.join("|");return t=t.sort(function(e,t){var r=(e.title.match(new RegExp(s,"gi"))||[]).length,o=(t.title.match(new RegExp(s,"gi"))||[]).length;return o-r}),t=t.sort(function(e,t){var r=!0;a.forEach(function(t){0===(e.title.match(new RegExp(t,"gi"))||[]).length&&(r=!1)});var o=!0;return a.forEach(function(e){0===(t.title.match(new RegExp(e,"gi"))||[]).length&&(o=!1)}),r&&o?0:o?1:r?-1:0})},e.getEditableWitUrl=function(e,t){return e?"/"===t.url.charAt(t.url.length-1)?t.url.concat(t.project).concat(this.editableWorkitemUrlSuffix).concat(e):t.url.concat("/").concat(t.project).concat(this.editableWorkitemUrlSuffix).concat(e):null},e.isLinkabaleWorkItem=function(e){return a.getCategory(e)===o.WorkItemCategories.FeatureCategory||a.getCategory(e)===o.WorkItemCategories.ScenarioCategory||a.getCategory(e)===o.WorkItemCategories.RequirementCategory||a.getCategory(e)===o.WorkItemCategories.TestCaseCategory||a.getCategory(e)===o.WorkItemCategories.EpicCategory?!0:!1},e.editableWorkitemUrlSuffix="/_workitems#_a=edit&id=",e}();t.WorkItemServiceHelper=s});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../Model/ActionLogStorageService",["require","exports","../Common/ExtensionStorage","../Tracing/Tracing","../Common/Constants","../Model/BrowserHelper"],function(e,t,r,o,n,i){var a=i.BrowserHelper,s=n.ActionLogConstants,c="ActionLogStorageService",p=function(){function e(){}return e.getActionLogStorageService=function(e){return e===a.getSessionStorageDirectoryName()?(this._actionLogStorageService||(this._actionLogStorageService=new l),this._actionLogStorageService.initialize(e),this._actionLogStorageService):(this._actionLogStorageDataCollectorService||(this._actionLogStorageDataCollectorService=new d),this._actionLogStorageDataCollectorService.initialize(e),this._actionLogStorageDataCollectorService)},e}();t.ActionLogStorageServiceFactory=p;var u=function(){function e(){}return e.prototype.updateLogInStorageAsync=function(e){var t=this,r=Q.defer(),o=function(e){t.updateActionLogInLocalStorage(e),r.resolve(null)},n=JSON.stringify(e);return this.updateActionLogInPersistentStorage(n).then(o),r.promise},e.prototype.initialize=function(e){this.storageDirectory=e},e.prototype.getStorageDirectory=function(){return this.storageDirectory},e.prototype.updateActionLogInLocalStorage=function(e){r.LocalStorageService.store(this.getStorageKey(),e)},e}(),l=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.updateLogInStorageAsync=function(t){return this.trimActionLogs(t),e.prototype.updateLogInStorageAsync.call(this,t)},t.prototype.getStorageKey=function(){return r.actionLogUrlKey},t.prototype.trimActionLogs=function(e){var t=r.LocalStorageService.retrieve(r.sessionActionLogMaxCountKey);t=(t?t:s.defaultActionLogCount)+s.defaultActionLogBufferLength,e&&e.length&&e.length>t&&(this.removeImageBlobFromPersistentStorage(this.getFileNameFromUrl(e[0])),e.splice(0,1))},t.prototype.getFileNameFromUrl=function(e){var t=e.imgUrl.split("/");return t.pop()},t.prototype.removeImageBlobFromPersistentStorage=function(e){r.PersistentStorageFactory.getStorageService().removeBlob(e,function(){o.TracingService.traceInfo(c,1,"Successfully removed the image url blob from persistent storage fileName: "+e)},function(e){var t=JSON.stringify(e);o.TracingService.traceError(c,2,"Failure in removing the image blob from Persistent storage with error: "+t)})},t.prototype.updateActionLogInPersistentStorage=function(e){var t=Q.defer(),o=new Blob([e],{type:"application/json"});return r.PersistentStorageFactory.getStorageService().writeBlob(s.actionLogsFileName,o,t.resolve,t.reject),t.promise},t}(u);t.ActionLogStorageService=l;var d=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getStorageKey=function(){return r.actionLogUrl_DataCollectorKey},t.prototype.updateActionLogInPersistentStorage=function(e){var t=Q.defer(),o=new Blob([e],{type:"application/json"});return r.PersistentStorageFactory.getStorageService().writeBlobInDir(this.getStorageDirectory(),s.actionLogsFileName,o,t.resolve,t.reject,!1),t.promise},t}(u);t.ActionLogStorageDataCollectorService=d}),define("../../Model/ActionLogImageGenerator",["require","exports","../Common/ExtensionStorage","../Model/BrowserHelper"],function(e,t,r,o){var n=r.LocalStorageService,i=r.actionLogFullImageSizeInBytes,a=o.BrowserHelper,s=function(){function e(e,t){this._canvas=e,this.devicePixelRatio=t}return e.prototype.generateImageActionLog=function(e,t){var r=this,o=Q.defer(),n=function(o){return r.drawCursorAsync(e,t,o)},i=function(e){return a.isFirefox()?r.drawImageAsync(e,r._canvas,!1):r.drawImageAsync(e,r._canvas,!0)},s=function(e){var t=Q.defer();return t.resolve(e.toDataURL("image/jpeg",.25)),t.promise},c=function(e){return r.drawImageAsync(e,r._canvas,!1)},p=function(e){o.resolve(r.getDataUrl(e))};return this.takeScreenshotAsync().then(i).then(s).then(c).then(n).then(p),o.promise},e.prototype.generateKeyboardImageActionLog=function(){var e=this,t=Q.defer(),r=function(t){return e.drawImageAsync(t,e._canvas,!0)},o=function(r){t.resolve(e.getDataUrl(r))};return this.takeScreenshotAsync().then(r).then(o),t.promise},e.prototype.getCursorImageLocation=function(){return"../../Images/ActionLogCursor.png"},e.prototype.getDataUrl=function(e){var t=e.toDataURL("image/jpeg");return this.logImageSizeTelemetryData(t),t},e.prototype.logImageSizeTelemetryData=function(e){var t=this.getImageSizeInKb(e);n.store(i,t)},e.prototype.getImageSizeInKb=function(e){var t="data:image/png;base64,",r=Math.round(3*(e.length-t.length)/4);return Math.round(r/1024)},e.prototype.takeScreenshotAsync=function(){var e=Q.defer();return chrome.tabs.captureVisibleTab(null,{format:"jpeg"},e.resolve),e.promise},e.prototype.drawImageAsync=function(e,t,r){var o=this,n=Q.defer(),i=new Image;return i.onload=function(){var e=i.width,a=i.height;r?(t.width=e/o.devicePixelRatio,t.height=a/o.devicePixelRatio):(t.width=e,t.height=a);var s=t.getContext("2d");s.clearRect(0,0,t.width,t.height),s.drawImage(i,0,0,t.width,t.height),n.resolve(t)},i.src=e,n.promise},e.prototype.drawCursorAsync=function(e,t,r){var o=Q.defer(),n=new Image;return n.onload=function(){var i=r.getContext("2d");i.drawImage(n,e-16,t-16),o.resolve(r)},n.src=this.getCursorImageLocation(),o.promise},e}();t.ActionLogImageGenerator=s}),define("../../Model/ClickEventCaptureService",["require","exports","../Model/ActionLogImageGenerator","../Model/Model"],function(e,t,r,o){var n=function(){function e(){}return e.getImageActionLogGenerator=function(e,t){return new r.ActionLogImageGenerator(e,t)},e}();t.ActionLogImageGeneratorFactory=n;var i=function(){function e(){}return e.prototype.capture=function(e){var t=document.createElement("canvas");document.body.appendChild(t);var r=n.getImageActionLogGenerator(t,e.devicePixelRatio),i=function(r){t.remove();var n={x:e.x,y:e.y},i={imgUrl:r,location:n,height:t.height,width:t.width,timeStamp:new Date,text:e.text,actionLogType:o.ActionLogType.Mouse};return i};return r.generateImageActionLog(e.x,e.y).then(i)},e}();t.ClickEventCaptureService=i;var a=function(){function e(){}return e.prototype.capture=function(e){var t=document.createElement("canvas");document.body.appendChild(t);var r=n.getImageActionLogGenerator(t,e.devicePixelRatio),i=function(r){t.remove();var n={x:e.x+100,y:e.y+10},i={imgUrl:r,location:n,height:t.height,width:t.width,timeStamp:new Date,text:e.text,actionLogType:o.ActionLogType.Keyboard};return i};return r.generateKeyboardImageActionLog().then(i)},e}();t.KeyboardEventCaptureService=a}),define("../../Model/ActionLogHelper",["require","exports","../Tracing/Tracing"],function(e,t,r){var o=(r.TracingService,function(){function e(){}return e.getDataUrl=function(e,t){var r=Q.defer(),o=new Image;return o.onload=function(){var n=document.createElement("canvas");n.width=t.width,n.height=t.height;var i=n.getContext("2d");i.clearRect(0,0,n.width,n.height),i.drawImage(o,e.left,e.top,n.width,n.height,0,0,n.width,n.height);var a={descriptionUrl:e.src,webUrl:e.webUrl,dataUrl:n.toDataURL("image/jpeg")};r.resolve(a)},o.src=e.src,r.promise},e.getFocusAreaPosition=function(e,t){var r=e.width-t.width,o=e.height-t.height,n=e.location.x-t.width/2,i=e.location.y-t.height/2;return n>r&&(n=r),0>n&&(n=0),0>i&&(i=0),i>r&&(i=o),{x:n,y:i}},e}());t.ActionLogHelper=o}),define("../../ActionLog/ActionLogReportTemplate",["require","exports"],function(e,t){t.actionLogHtmlTemplate='<html><head>    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />    <meta http-equiv="X-UA-Compatible" content="IE=edge" />    <style type="text/css">        body, .rowheader {            font-family: \'Segoe UI\', sans-serif;        }        * {            padding: 0;            margin: 0;        }        .rowheader {            position: fixed;            clear: both;            background-color: #e7e7e7;            top: 0px;            left: 0px;            height: 50px;            width: 100%;            overflow: hidden;            text-align: left;            font-size: 23px;        }        body {            font-size: 12px;            padding: 50px 0 0 0;            background-color: White;        }        body .stepbody {            background-color: #f2f1f1;            width: 620px;            margin-bottom: 5px;            overflow: hidden;        }        .step, .action, .image, .thumbnail, .screenshot {            float: left;            padding-top: 10px;            padding-bottom: 10px;            height: 100px;            padding-left: 10px;        }        .image {            left: 410px;            width: 200px;            padding-right: 10px;        }        .stepHeader {            float: left;            overflow-x: hidden;            text-overflow: ellipsis;            padding: 10px 0px 10px 10px;            width: 150px;        }        .actionHeader {            float: left;            overflow-x: hidden;            text-overflow: ellipsis;            padding: 10px 0px 10px 10px;            width: 230px;        }        .imageHeader {            float: left;            overflow-x: hidden;            text-overflow: ellipsis;            padding: 10px 0px 10px 10px;            width: 200px;        }        .screenshotHeader {            float: left;            overflow-x: hidden;            text-overflow: ellipsis;            padding: 10px 0px 10px 10px;            margin-left: 10px;        }        .step {            left: 10px;            width: 150px;            visibility: visible;            overflow-y: auto;            word-wrap: break-word;        }        .action {            left: 170px;            width: 230px;            overflow-y: auto;            word-wrap: break-word;        }        .thumbnail {            width: 200px;            padding-right: 10px;        }        .thumbnail > input {            width: 200px;            height: 100px;            outline: none;        }        .screenshot {            margin-left: 10px;            left: 620px;        }        .largeImage {            position: fixed;            top: 60px;            left: 630px;            display: none;            padding: 0px;            margin: 0px;            width: 840px;        }            .largeImage > input {                width: 100%;            }        .row {            clear: both;            height: 120px;            width: 620px;            margin-top: 0px;            margin-bottom: 0px;            padding: 0px;        }        .selectedRow .action, .selectedRow .thumbnail {            background-color: #cfcece;        }    </style>    <script type="text/javascript">if (typeof jQuery != \'undefined\') {    $(function () {        var pageManager = (function () {            var windowWidth = null;            var imageWidth = null;            var imageLeft = null;            var lastActiveRow = null;            var lastActiveImage = null;            var maxWidth = 840;            function getWidths() {                windowWidth = $(window).width();                if ((windowWidth === 0) ||                (windowWidth === null) ||                (windowWidth === undefined)) {                    windowWidth = window.innerWidth;                }                imageWidth = windowWidth - imageLeft;            }            function setFocus(row) {                if (row.is(lastActiveRow)) {                    return;                }                if (lastActiveRow !== null) {                    lastActiveRow.removeClass("selectedRow");                }                row.addClass("selectedRow");                lastActiveRow = row;            }            function scaleActiveImage(image) {                var currentImageWidth = parseInt($(image).css("width"), 10);                var newWidth = currentImageWidth;                if (currentImageWidth > imageWidth) {                    newWidth = imageWidth;                } else {                    newWidth = imageWidth > maxWidth ? maxWidth : imageWidth;                }                var newHeight = (newWidth / currentImageWidth) * parseInt($(image).css("height"), 10);                image.css("width", newWidth + "px");                image.css("height", newHeight + "px");            }            function activateLargeImage(image) {                if (!image.is(lastActiveImage)) {                    if (lastActiveImage !== null) {                        lastActiveImage.fadeOut(200);                    }                    image.fadeIn(400);                    lastActiveImage = image;                    scaleActiveImage(lastActiveImage);                }            }            function activateRow(row) {                if (row.is(lastActiveRow)) {                    return;                }                setFocus(row);                var largeImage = $(".largeImage", row).first();                activateLargeImage(largeImage);            }            return {                initialize: function () {                    imageLeft = parseInt($(".largeImage").css("left"), 10);                    getWidths();                    $(".page").width(windowWidth);                    $(".rowheader").width(windowWidth);                    $("html, body").animate({ scrollTop: 0 }, "slow");                    var row = $(".row:first");                    row.click();                },                resizeWindow: function () {                    getWidths();                    if (lastActiveImage !== null) {                        scaleActiveImage(lastActiveImage);                    }                    $(".page").width(windowWidth);                    $(".rowheader").width(windowWidth);                },                onHover: function (row) {                    if (!row.is(lastActiveRow)) {                        row.click();                    }                },                onClick: function (row, e) {                    var input = $(".thumbnail input", row);                    input.focus();                    e.preventDefault();                },                onFocus: function (row) {                    activateRow(row);                }            };        })();        $(window).resize(pageManager.resizeWindow);        $(".row").bind({            focusin: function () {                pageManager.onFocus($(this));            },            click: function (e) {                pageManager.onClick($(this), e);            },            mouseenter: function () {                pageManager.onHover($(this));            }        });        pageManager.initialize();    });} else {    document.onreadystatechange = function () {        if (document.readyState == "complete") {            var element = document.getElementById("nojQuery");            element.style.visibility = "visible";            element.style.display = "inline";        }    };}    </script>    <title>    </title></head><body>    <div class="page">        <div class="rowheader">            <div class="stepHeader" title="Steps">                Steps            </div>            <div class="actionHeader" title="Actions">                Actions            </div>            <div class="imageHeader" title="Image">                Image            </div>            <div class="screenshotHeader" title="Full screen image">                Full screen image            </div>        </div>        <noscript>            <div class="largeImage" style="display:inline;font-size:150%;">            Javascript not enabled: You must enable Javascript to display the full screen image and interactive rows.            </div>        </noscript>        <div id="nojQuery" class="largeImage" style="display:none;font-size:150%;">            Cannot access the jQuery content delivery networks. This might be caused by internet connectivity or by internet site issues. jQuery is required for the display of the full screen image and interactive rows.        </div>        {{#stepActionLogMap}}        <div class="stepbody">            {{#actionLogs}}            <div class="row">                <div class="step">                </div>                <div class="action">                    {{{text}}}                </div>                <div class="thumbnail">                    <input class="thumbnail-image" type="image" tabindex="0" src="{{thumbnailDataUrl}}" />                </div>                <div class="largeImage">                    <input class="thumbnail-image" type="image" tabindex="0" src="{{dataUrl}}" />                </div>            </div>            {{/actionLogs}}        </div>        {{/stepActionLogMap}}     </div></body></html>';
}),define("../../DataCollectors/ActionLog/ReportGenerator",["require","exports","../../Model/ActionLogService","../../Model/ActionLogHelper","../../Common/Constants","../../ActionLog/ActionLogReportTemplate"],function(e,t,r,o,n,i){var a=n.ActionLogConstants,s=function(){function e(e,t){this.jqueryPath="Scripts/jquery.min.js",this.stepInfo=e,this.localizedHeaderMap=t}return e.prototype.create=function(){var e=this,t=Q.defer(),r=function(t){return e.getStepActionLogMapAsync(e.stepInfo,t)},o=function(t){return e.generateReport(t)};return this.deepFetchActionLogs().then(r).then(o).then(function(e){t.resolve(e)}),t.promise},e.prototype.getStepActionLogMap=function(e,t){var r=[];return 0===t.length?r:0===e.length?(r.push({steps:e,actionLogs:t}),r):(this.groupSteps(r,e),this.populateActionLogs(r,t),this.associateDanglingActionLogs(r,t),this.groupStepsWithoutActionLogs(r),r)},e.prototype.groupSteps=function(e,t){do{var r=this.getIndexOfStepWithMinimumTimeStamp(t),o=[];o=-1!=r?this.getGroupedStepAndSplice(t,r):t.splice(0,t.length),e.push({steps:o,actionLogs:[]})}while(0!==t.length)},e.prototype.populateActionLogs=function(e,t){var r=this;e.forEach(function(e){var o=e.steps[e.steps.length-1].timeStamp;if(o){var n=r.getAllActionLogsBelowWatermarkAndRemove(t,o);e.actionLogs=n}})},e.prototype.associateDanglingActionLogs=function(e,t){if(t.length>0){var r=e.length,o=e[r-1],n=o.steps.length,i=o.steps[n-1];i.timeStamp||(o.actionLogs=t)}},e.prototype.groupStepsWithoutActionLogs=function(e){for(var t=e.length,r=t-1;r>=0;r--)if(r>0&&0===e[r].actionLogs.length){var o=e.splice(r,1),n=e[r-1].steps;e[r-1].steps=n.concat(o[0].steps)}},e.prototype.getAllActionLogsBelowWatermarkAndRemove=function(e,t){var r=this,o=[],n=-1;return e.forEach(function(e,i){r.isDateBigger(t,e.timeStamp)&&(o.push(e),n=i)}),n>-1&&e.splice(0,n+1),o},e.prototype.getStepActionLogMapAsync=function(e,t){var r=Q.defer();return r.resolve(this.getStepActionLogMap(e,t)),r.promise},e.prototype.getGroupedStepAndSplice=function(e,t){var r=e.splice(0,t+1);return r},e.prototype.getIndexOfStepWithMinimumTimeStamp=function(e){for(var t=-1,r=null,o=0;o<e.length;o++)e[o].timeStamp&&(r?this.isDateBigger(r.timeStamp,e[o].timeStamp)&&(t=o,r=e[o]):(t=o,r=e[o]));return t},e.prototype.isDateBigger=function(e,t){return e.getTime()<t.getTime()?!1:!0},e.prototype.getLocalizedHeader=function(e){return this.localizedHeaderMap&&this.localizedHeaderMap[a.stepHeader]?this.localizedHeaderMap[a.stepHeader]:a.stepHeader},e.prototype.populateLocalizedHeaders=function(e){var t=this.getLocalizedHeader(a.stepHeader);$(".stepHeader").text(t),$(".stepHeader").attr("title",t);var r=this.getLocalizedHeader(a.actionHeader);$(".actionHeader").text(r),$(".actionHeader").attr("title",r);var o=this.getLocalizedHeader(a.imageHeader);$(".imageHeader").text(o),$(".imageHeader").attr("title",o);var n=this.getLocalizedHeader(a.screenshotHeader);$(".screenshotHeader").text(n),$(".screenshotHeader").attr("title",n)},e.prototype.generateReport=function(e){var t=Q.defer(),r=null,o=i.actionLogHtmlTemplate;r=Mustache.render(o,{stepActionLogMap:e});var n=$("<div />",{html:r});this.populateLocalizedHeaders(n);for(var a=0;a<e.length;a++)for(var s=$($(".stepbody",n)[a]),c=$($(".row",s)[0]),p=$(".step",c),u=0;u<e[a].steps.length;u++)p.append($("<div/>").append($("<p/>").html(e[a].steps[u].title)));var l=$("<html/>").append($("<body/>").append(n.html()));return $.get(chrome.extension.getURL(this.jqueryPath),function(e){$("body",l).prepend($("<script>").attr("type","text/javascript").text(e));var r=l[0].outerHTML;t.resolve(r)},"text"),t.promise},e.prototype.deepFetchActionLogs=function(){var e=this,t=Q.defer(),o=JSON.parse(JSON.stringify(r.getService().getRunnerLogs()));o.forEach(function(e){e.timeStamp=new Date(e.timeStamp.toString())});var n=o.length;return 0===n&&t.resolve(o),o.forEach(function(r){e.populateActionLogUrls(r).then(function(){n--,0===n&&t.resolve(o)})}),t.promise},e.prototype.populateActionLogUrls=function(e){var t=this,r=function(e){return t.populateActionLogThumbnailUrl(e)};return this.populateActionLogUrl(e).then(r)},e.prototype.populateActionLogUrl=function(e){var t=Q.defer(),r={width:e.width,height:e.height},n={src:e.imgUrl,top:0,left:0,webUrl:null};return o.ActionLogHelper.getDataUrl(n,r).then(function(r){e.dataUrl=r.dataUrl,t.resolve(e)}),t.promise},e.prototype.populateActionLogThumbnailUrl=function(e){var t=Q.defer(),r={width:n.ActionLogConstants.runnerActionLogThumbnailWidth,height:n.ActionLogConstants.runnerActionLogThumbnailHeight},i={src:e.thumbnailUrl,top:0,left:0,webUrl:null};return o.ActionLogHelper.getDataUrl(i,r).then(function(r){e.thumbnailDataUrl=r.dataUrl,t.resolve(e)}),t.promise},e}();t.ReportGenerator=s}),define("../../DataCollectors/ActionLog/ActionLogDataCollectionService",["require","exports","../../Messaging/Messaging","../../Common/Utility","../../Messaging/ChromeMessaging","../../Common/FeatureAvailabiliy","../../Model/ActionLogService","../../Model/Model","../../Model/AttachmentService","../../Telemetry/TfsTelemetryHelper","../../Common/Constants","../../Common/SessionData","../../Model/ModelHelper","../ActionLog/ReportGenerator"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f){function m(){if(!t.service){var e=n.MessagingFactory.getSubscriptionService();t.service=new S,e.subscribe(function(e,n,i){o.ValidateTabHost(i.tab.id,function(){t.service.startCapture(e,i.tab.id,n)},function(e){var t={errorMessage:e,errorLevel:0,id:0};I.getChromeMessagingTabService().sendMessage(i.tab.id,r.NotificationType.ActionLogError_V1,t)})},r.NotificationType.StartActionLogCapture_V1),e.subscribe(function(e,n,i){o.ValidateTabHost(i.tab.id,function(){if(e&&e.stepInfo)for(var r=0;r<e.stepInfo.length;r++)e.stepInfo[r].timeStamp&&(e.stepInfo[r].timeStamp=new Date(e.stepInfo[r].timeStamp));t.service.stopCapture(e)},function(e){var t={errorMessage:e,errorLevel:0,id:0};I.getChromeMessagingTabService().sendMessage(i.tab.id,r.NotificationType.ActionLogError_V1,t)})},r.NotificationType.StopActionLogCapture_V1),e.subscribe(function(e,n,i){o.ValidateTabHost(i.tab.id,function(){if(e.stepInfo)for(var r=0;r<e.stepInfo.length;r++)e.stepInfo[r].timeStamp&&(e.stepInfo[r].timeStamp=new Date(e.stepInfo[r].timeStamp));t.service.generateActionLog(n,e)},function(e){var t={errorMessage:e,errorLevel:0,id:0};I.getChromeMessagingTabService().sendMessage(i.tab.id,r.NotificationType.ActionLogError_V1,t)})},r.NotificationType.GetActionLogReport_V1)}}function g(){return t.service||m(),t.service}function y(e){t.service.manageRegisteredWindowIds(e)}var h=i.FeatureFlag,T=i.FeatureAvailibilityService,I=n.MessagingFactory;t.initializeService=m,t.getService=g,function(e){e[e.InProgress=0]="InProgress",e[e.Completed=1]="Completed"}(t.ActionLogDataCollectionState||(t.ActionLogDataCollectionState={}));var v=t.ActionLogDataCollectionState,S=function(){function e(){}return e.prototype.isActionLogEnabledForWindow=function(e){return this.registeredWindows&&-1!==this.registeredWindows.indexOf(e)?!0:!1},e.prototype.generateActionLog=function(e,t){this.createAttachmentContainerForActionLog(),this.createAndUploadReport(t,!1)},e.prototype.startCapture=function(e,t,r){this.handleStartErrors(t)||(this.actionLogCaptureMetaData(e,t),this.state=v.InProgress,a.getService().startWebRunnerRecording(),this.addWindowListeners(),this.verifyTabConnectivity())},e.prototype.stopCapture=function(e){var t=this;e?(this.registeredWindows=[],this.removeListeners(),this.createAndUploadReport(e)):this.state===v.InProgress&&this.tabId&&this.checkTabConnectivity(this.tabId).then(function(){},function(){t.clear()})},e.prototype.manageRegisteredWindowIds=function(e){var t=this,r=Q.defer();return this.getParentWindowId(e).then(function(e){e&&e.parentWindowId!=e.childWindowId&&-1!==t.registeredWindows.indexOf(e.parentWindowId)&&t.registeredWindows.push(e.childWindowId),r.resolve(null)}),r.promise},e.prototype.handleStartErrors=function(e){if(!T.isFeatureEnabled(h.ActionLog)){var t={errorMessage:"",errorLevel:0,id:s.ErrorCode.ACTIONLOG_FEATURE_DISABLED};return I.getChromeMessagingTabService().sendMessage(e,r.NotificationType.ActionLogError_V1,t),!0}if(this.state===v.InProgress){var t={errorMessage:"",errorLevel:0,id:s.ErrorCode.DATACOLLECTION_ALREADY_INPROGRESS};return I.getChromeMessagingTabService().sendMessage(e,r.NotificationType.ActionLogError_V1,t),!0}return!1},e.prototype.verifyTabConnectivity=function(){var e=this,t=function(t){e.checkTabConnectivity(t).then(function(){chrome.windows.update(e.actionLogCapturePayload.windowId,{drawAttention:!0}),e.createAttachmentContainerForActionLog()},function(){chrome.windows.update(e.actionLogCapturePayload.windowId,{drawAttention:!0}),e.onError(null,0,s.ErrorCode.TAB_NOT_REACHABLE)})};this.getTabId().then(t,function(){chrome.windows.update(e.actionLogCapturePayload.windowId,{drawAttention:!0}),e.onError(null,0,s.ErrorCode.TAB_NOT_REACHABLE)})},e.prototype.actionLogCaptureMetaData=function(e,t){this.actionLogCapturePayload=e,this.registeredWindows=[],this.registeredWindows.push(e.windowId),this.tabId=t},e.prototype.clear=function(){this.registeredWindows=[],this.removeListeners(),this.state=null,this.tabId=null,this.actionLogCapturePayload=null,a.getService().stopWebRunnerRecording()},e.prototype.checkTabConnectivity=function(e){var t=Q.defer();return I.getChromeMessagingTabService().sendMessage(e,r.NotificationType.PingTab,null,function(e){!e&&chrome.runtime.lastError?t.reject(null):t.resolve(null)}),t.promise},e.prototype.getTabId=function(){var e=Q.defer(),t={windowId:this.actionLogCapturePayload.windowId,active:!0};return chrome.tabs.query(t,function(t){t&&0!==t.length?e.resolve(t[0].id):e.reject(null)}),e.promise},e.prototype.addWindowListeners=function(){chrome.webNavigation.onCreatedNavigationTarget&&chrome.webNavigation.onCreatedNavigationTarget.addListener(y)},e.prototype.removeListeners=function(){chrome.webNavigation.onCreatedNavigationTarget&&chrome.webNavigation.onCreatedNavigationTarget.removeListener(y)},e.prototype.getParentWindowId=function(e){var t=Q.defer();return chrome.tabs.get(e.sourceTabId,function(r){r&&r.windowId?chrome.tabs.get(e.tabId,function(e){e&&e.windowId?t.resolve({parentWindowId:r.windowId,childWindowId:e.windowId}):t.resolve(null)}):t.resolve(null)}),t.promise},e.prototype.createAndUploadReport=function(e,t){var r=this;void 0===t&&(t=!0);var o=Q.defer(),n=function(o){var n=r.getReportAttachment(o,e.attachment);return t&&(r.sendTelemetryData(n),r.state=v.Completed,a.getService().stopWebRunnerRecording()),r.uploadReportAttachment(n)},i=new f.ReportGenerator(e.stepInfo,this.actionLogCapturePayload.propertyBag);return i.create().then(n).then(function(){o.resolve(null)}),o.promise},e.prototype.sendTelemetryData=function(e){var t=a.getService().getRunnerLogs(),r=0,o=0;t.forEach(function(e){e.actionLogType&&(e.actionLogType==s.ActionLogType.Keyboard?r++:e.actionLogType==s.ActionLogType.Mouse&&o++)});var n={source:u.TelemetryConstants.WebRunnerSource,size:e.length,actionLogsCount:t.length,keyboardActionCount:r,mouseActionCount:o};p.TfsTelemetryHelper.publishActionLogProperties(n)},e.prototype.getReportAttachment=function(e,t){var r=new Blob([e],{type:"text/plain"}),o=l.ActionLog.getActionLogSessionData(t.Name,e,r.size.toString()),n=d.AttachmentConverter.getAttachment(o);return n.id=t.Id,n},e.prototype.uploadReportAttachment=function(e){var t=this,r=Q.defer();return c.getService().uploadRunAttachment(this.actionLogCapturePayload.tfsContext,this.actionLogCapturePayload.testRunData,e).then(function(e){t.onSuccess(e),r.resolve(null)},function(e){t.onError(d.ErrorHelper.getErrorMessage(e,!1),0,e.id)}),r.promise},e.prototype.createAttachmentContainerForActionLog=function(){var e=this,t=l.ActionLog.getActionLogSessionData(null,null,"1024"),o=d.AttachmentConverter.getAttachment(t);c.getService().createRunAttachmentContainer(this.actionLogCapturePayload.tfsContext,this.actionLogCapturePayload.testRunData,o).then(function(t){var o={Id:t.id,Name:t.name,Size:t.length};I.getChromeMessagingTabService().sendMessage(e.tabId,r.NotificationType.ActionLogContainerCreated_V1,o)},function(t){e.onError(d.ErrorHelper.getErrorMessage(t,!1),0,t.id)})},e.prototype.onSuccess=function(e){var t={Id:e.id,Name:e.name,Size:e.length};I.getChromeMessagingTabService().sendMessage(this.tabId,r.NotificationType.ActionLogUploadCompleted_V1,t)},e.prototype.onError=function(e,t,o){void 0===o&&(o=0);var n={errorMessage:e,errorLevel:t,id:o};I.getChromeMessagingTabService().sendMessage(this.tabId,r.NotificationType.ActionLogError_V1,n),this.clear()},e}();t.ActionLogCaptureService_V1=S}),define("../../Model/ActionLogService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../Common/ExtensionStorage","../Model/SessionService","../Model/Model","../Model/ActionLogStorageService","../Model/ClickEventCaptureService","../Model/AttachmentService","../Common/FeatureAvailabiliy","../Common/Constants","../DataCollectors/ActionLog/ActionLogDataCollectionService","../Tracing/Tracing","../Common/Types","../Model/ActionLogHelper","../Model/SettingsService","../Model/BrowserHelper"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m,g,y,h){function T(){t.service||(t.service=new _,t.service.initialize())}function I(){return t.service||T(),t.service}var v=n.actionLogUrlKey,S=c.ClickEventCaptureService,b=u.FeatureFlag,C=u.FeatureAvailibilityService,k=c.KeyboardEventCaptureService,w=l.ActionLogConstants,R=h.BrowserHelper,A=f.TracingService,M="ActionLogService";t.initializeService=T,t.getService=I;var _=function(){function e(){var e=this;this._log=[],this.chromeUrlPrefix=chrome.extension.getURL(""),this._runnerlogs=[],this._runnerDirectorySize=209715200,this._subscriptionService=o.MessagingFactory.getSubscriptionService(),this._subscriptionService.subscribe(function(t,r,o){t.windowId=o.tab.windowId,e.onUserActivity(t)},r.NotificationType.PageEventCaptured)}return e.prototype.initialize=function(){var e=this,t=n.LocalStorageService.retrieve(n.actionLogUrlKey),r=i.getService().getLocalSession(),o=y.getService().getLocalSettings();t&&o&&!o.offlineMode&&r&&r.state===a.SessionState.InProgress&&n.PersistentStorageFactory.getStorageService().getBlobContentAsync(w.actionLogsFileName).then(function(t){if(t){var r=JSON.parse(t);r.length>0&&(e._log=r)}A.traceVerbose(M,10,"action logs initialized")},function(e){A.traceError(M,11,e)})},e.prototype.startWebRunnerRecording=function(){this._collectActionLogForWebRunner=!0,this._runnerlogs=[];var e=m.newGuid();this._runnerDirectoryName=e.substr(0,4),this.createRunnerDirectory()},e.prototype.stopWebRunnerRecording=function(){this._collectActionLogForWebRunner=!1,this._runnerlogs=[],this.removeRunnerDirectory()},e.prototype.getRunnerLogs=function(){return this._runnerlogs},e.prototype.clear=function(){n.LocalStorageService.remove(v),this._log=[]},e.prototype.resolveDescriptionHtml=function(e){var t=this,r=Q.defer();e||r.resolve("");var o=$("<div>"+e+"</div>"),n=o.find("img."+l.ActionLogConstants.imageTageClassName),i=n.length;0===i&&r.resolve($("<div></div>").append(o).html());for(var a={},s=0,c=function(e){e&&(a[e.descriptionUrl]={dataUrl:e.dataUrl,webUrl:e.webUrl}),s++,s===i&&(t.transformImages(n,a),t.transformLinks(o,a),r.resolve($("<div></div>").append(o).html()))},p=0;i>p;p++){var u=this.getImageMetaData(n[p]);if(u&&this.isValidUrl(u.src)){var d={width:l.ActionLogConstants.focusAreaWidth,height:l.ActionLogConstants.focusAreaHeight};g.ActionLogHelper.getDataUrl(u,d).then(c)}else c(null)}return r.promise},e.prototype.createRunnerDirectory=function(){n.PersistentStorageFactory.getStorageService().createDirectory(this._runnerDirectoryName,this._runnerDirectorySize,function(e){A.traceVerbose(M,2,"Runner directory created "+e)},function(e){A.traceError(M,3,e)})},e.prototype.removeRunnerDirectory=function(){n.PersistentStorageFactory.getStorageService().removeDirectory(this._runnerDirectoryName,this._runnerDirectorySize,function(){f.TracingService.traceVerbose(M,4,"Runner directory deleted")},function(e){f.TracingService.traceError(M,5,e)})},e.prototype.getImageMetaData=function(e){try{var t=e.getAttribute("src"),r=e.getAttribute("webUrl"),o=e.getAttribute("style"),n=-parseInt(o.split(";")[1].split(":")[1],10),i=-parseInt(o.split(";")[2].split(":")[1],10);return{src:t,webUrl:r,top:n,left:i}}catch(a){return A.traceError(M,1,a.toString()),null}},e.prototype.transformImages=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],n=o.getAttribute("src");this.isValidUrl(n)&&t[n]&&(o.setAttribute("style","position:absolute;top:0px;left:0px;"),o.setAttribute("src",t[n].dataUrl))}},e.prototype.transformLinks=function(e,t){for(var r=e.find("a."+l.ActionLogConstants.linkTageClassName),o=0;o<r.length;o++){var n=r[o],i=n.getAttribute("href");this.isValidUrl(i)&&t[i]&&n.setAttribute("href",t[i].webUrl)}},e.prototype.isValidUrl=function(e){return e?-1===e.indexOf(this.chromeUrlPrefix)&&-1===e.indexOf("blob:")?!1:!0:!1},e.prototype.transformActionLog=function(e){var t=this,r=Q.defer(),o=function(e){return t.resolveDescriptionHtml(e.description)};return this.uploadActionLog(e).then(o).then(function(t){e.description=t,r.resolve(e)}),r.promise},e.prototype.uploadActionLog=function(e){var t=this,r=Q.defer(),o=e.description,i=$("<div>"+o+"</div>"),a=i.find("img."+l.ActionLogConstants.imageTageClassName),s=a.length;if(0===s)r.resolve(e);else for(var c=0;c<a.length;c++){var u=function(o){var c=$(a[o]),u=c.attr("src"),l=c.attr("name");t.isValidUrl(u)?p.getService().uploadWorkItemAttachment(u,l).then(function(t){t.name=l,n.PersistentStorageFactory.getStorageService().getBlob(t.name,function(n){s--,a[o].setAttribute("webUrl",t.url),e.actionLogAttachments||(e.actionLogAttachments=[]),t.size=n.size,e.actionLogAttachments.push(t),0===s&&(e.description=i.html(),r.resolve(e))},null)}):(s--,0===s&&(e.description=i.html(),r.resolve(e)))};u(c)}return r.promise},e.prototype.uploadActionLogForTestCase=function(e){var t=Q.defer(),r=e.length;if(0===r)t.resolve(e);else for(var o=0;o<e.length;o++){var n=function(o){var n=e[o].attachmentLocalUri,i=e[o].attachmentName;p.getService().uploadWorkItemAttachment(n,i).then(function(n){r--,e[o].attachmentServerUri=n.url,0===r&&t.resolve(e)})};e[o].attachmentLocalUri?n(o):r--}return t.promise},e.prototype.onUserActivity=function(e){return this.shouldCaptureActionLog(e.windowId)?this.logEvent(e):void 0},e.prototype.shouldCaptureActionLog=function(e){return this.shouldCaptureActionLogForXT()||this.shouldCaptureActionLogForRunner(e)},e.prototype.shouldCaptureActionLogForXT=function(){if(C.isFeatureEnabled(b.ActionLog)){var e=i.getService().getLocalSession(),t=y.getService().getLocalSettings();return e&&e.state===a.SessionState.InProgress&&t&&!y.isOfflineMode(t)}return!1},e.prototype.shouldCaptureActionLogForRunner=function(e){return C.isFeatureEnabled(b.ActionLog)&&this._collectActionLogForWebRunner&&d.getService().isActionLogEnabledForWindow(e)},e.prototype.toBlob=function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),n=new Uint8Array(o),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);var a=new Blob([o],{type:r});return a},e.prototype.storeImageFromDataUrl=function(e,t,r){var o=Q.defer(),i=this.toBlob(t),a=w.actionLogFileNamePrefix.concat((new Date).toISOString().replace(/:/g,"-")).concat("."+w.actionLogFileFormat);e.imgFileName=a;var s=r?R.getSessionStorageDirectoryName():this._runnerDirectoryName;return n.PersistentStorageFactory.getStorageService().writeBlobInDir(s,a,i,o.resolve,o.reject,!1),o.promise},e.prototype.pushXTActionLog=function(e){return this._log.push(e),A.traceVerbose(M,10,"Length of xt action logs:"+this._log.length),s.ActionLogStorageServiceFactory.getActionLogStorageService(R.getSessionStorageDirectoryName()).updateLogInStorageAsync(this._log)},e.prototype.pushRunnerActionLog=function(e){return this._runnerlogs.push(e),this._runnerlogs.length>w.maxRunnerActionLogs&&this._runnerlogs.splice(0,1),A.traceVerbose(M,11,"Length of runner action logs:"+this._runnerlogs.length),s.ActionLogStorageServiceFactory.getActionLogStorageService(this._runnerDirectoryName).updateLogInStorageAsync(this._runnerlogs)},e.prototype.getActionLog=function(e,t){var r=Q.defer(),e=JSON.parse(JSON.stringify(e));e.timeStamp=new Date(e.timeStamp.toString());var o=function(t){e.imgUrl=t,A.traceVerbose(M,12,"ActionLog Details:"+JSON.stringify(e)),r.resolve(e)};return this.storeImageFromDataUrl(e,e.imgUrl,t).then(o),r.promise},e.prototype.populateThumbnailUrl=function(e){var t=this,r=Q.defer(),o=function(o){t.storeImageFromDataUrl(e,o.dataUrl,!1).then(function(t){e.thumbnailUrl=t,r.resolve(e)})},n={width:l.ActionLogConstants.runnerActionLogThumbnailWidth,height:l.ActionLogConstants.runnerActionLogThumbnailHeight},i=g.ActionLogHelper.getFocusAreaPosition(e,n),a={src:e.imgUrl,webUrl:null,top:i.y,left:i.x};return g.ActionLogHelper.getDataUrl(a,n).then(o),r.promise},e.prototype.handleActionLogStorageForXT=function(e){var t=this,r=Q.defer(),o=function(e){t.pushXTActionLog(e).then(function(){A.traceVerbose(M,6,"End: handleActionLogStorageForXT"),r.resolve(null)})};return this.shouldCaptureActionLogForXT()?this.getActionLog(e,!0).then(o):(A.traceVerbose(M,7,"End: handleActionLogStorageForXT"),r.resolve(null)),r.promise},e.prototype.handleActionLogStorageForRunner=function(e){var t=this,r=Q.defer(),o=function(e){return t.populateThumbnailUrl(e)},n=function(e){t.pushRunnerActionLog(e).then(function(){r.resolve(null),A.traceVerbose(M,8,"End: handleActionLogStorageForRunner")})};return this.shouldCaptureActionLogForRunner(e.windowId)?this.getActionLog(e,!1).then(o).then(n):(r.resolve(null),A.traceVerbose(M,9,"End: handleActionLogStorageForRunner")),r.promise},e.prototype.updateLogInStorage=function(e){var t=this,r=Q.defer(),o=function(){t.handleActionLogStorageForRunner(e).then(function(){r.resolve(null)})};return this.handleActionLogStorageForXT(e).then(o,o),r.promise},e.prototype.logEvent=function(e){var t=this,r=Q.defer(),o=function(o){o.windowId=e.windowId,t.updateLogInStorage(o).then(function(){r.resolve(null)})},n=V.getEventCaptureService(e.eventType);return n&&n.capture(e.eventData).then(o),r.promise},e}();t.ActionLogService=_;var V=function(){function e(){}return e.getEventCaptureService=function(t){return e._clickCaptureService||(e._clickCaptureService=new S),e._keyboardEventCaptureService||(e._keyboardEventCaptureService=new k),t===w.clickEventType?e._clickCaptureService:t===w.keyboardEventType?e._keyboardEventCaptureService:null},e}();t.EventCaptureServiceFactory=V}),define("VSS/Licensing/Contracts",["require","exports"],function(e,t){!function(e){e[e.None=0]="None",e[e.EarlyAdopter=1]="EarlyAdopter",e[e.Express=2]="Express",e[e.Professional=3]="Professional",e[e.Advanced=4]="Advanced",e[e.Stakeholder=5]="Stakeholder"}(t.AccountLicenseType||(t.AccountLicenseType={}));t.AccountLicenseType;!function(e){e[e.None=1]="None",e[e.Bundle=2]="Bundle",e[e.AccountAssignment=4]="AccountAssignment",e[e.All=7]="All"}(t.ExtensionFilterOptions||(t.ExtensionFilterOptions={}));t.ExtensionFilterOptions;!function(e){e[e.Assign=0]="Assign",e[e.Unassign=1]="Unassign"}(t.ExtensionOperation||(t.ExtensionOperation={}));t.ExtensionOperation;!function(e){e[e.None=0]="None",e[e.Account=1]="Account",e[e.Msdn=2]="Msdn",e[e.Profile=3]="Profile",e[e.Auto=4]="Auto"}(t.LicensingSource||(t.LicensingSource={}));t.LicensingSource;!function(e){e[e.None=0]="None",e[e.Eligible=1]="Eligible",e[e.Professional=2]="Professional",e[e.Platforms=3]="Platforms",e[e.TestProfessional=4]="TestProfessional",e[e.Premium=5]="Premium",e[e.Ultimate=6]="Ultimate",e[e.Enterprise=7]="Enterprise"}(t.MsdnLicenseType||(t.MsdnLicenseType={}));t.MsdnLicenseType;!function(e){e[e.Success=0]="Success",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.OperationResult||(t.OperationResult={}));t.OperationResult;!function(e){e[e.None=0]="None",e[e.Express=1]="Express",e[e.Advanced=2]="Advanced",e[e.AdvancedPlus=3]="AdvancedPlus",e[e.Stakeholder=4]="Stakeholder"}(t.VisualStudioOnlineServiceLevel||(t.VisualStudioOnlineServiceLevel={}));t.VisualStudioOnlineServiceLevel;t.TypeInfo={AccountLicenseType:{enumValues:{none:0,earlyAdopter:1,express:2,professional:3,advanced:4,stakeholder:5}},ClientRightsContainer:{fields:null},ExtensionFilterOptions:{enumValues:{none:1,bundle:2,accountAssignment:4,all:7}},ExtensionOperation:{enumValues:{assign:0,unassign:1}},LicensingSource:{enumValues:{none:0,account:1,msdn:2,profile:3,auto:4}},MsdnLicenseType:{enumValues:{none:0,eligible:1,professional:2,platforms:3,testProfessional:4,premium:5,ultimate:6,enterprise:7}},OperationResult:{enumValues:{success:0,warning:1,error:2}},VisualStudioOnlineServiceLevel:{enumValues:{none:0,express:1,advanced:2,advancedPlus:3,stakeholder:4}}},t.TypeInfo.ClientRightsContainer.fields={}}),define("VSS/WebApi/Contracts",["require","exports","VSS/Licensing/Contracts"],function(e,t,r){!function(e){e[e.None=0]="None",e[e.IncludeServices=1]="IncludeServices",e[e.IncludeLastUserAccess=2]="IncludeLastUserAccess"}(t.ConnectOptions||(t.ConnectOptions={}));t.ConnectOptions;!function(e){e[e.None=0]="None",e[e.HS256=1]="HS256",e[e.RS256=2]="RS256"}(t.JWTAlgorithm||(t.JWTAlgorithm={}));t.JWTAlgorithm;!function(e){e[e.Add=0]="Add",e[e.Remove=1]="Remove",e[e.Replace=2]="Replace",e[e.Move=3]="Move",e[e.Copy=4]="Copy",e[e.Test=5]="Test"}(t.Operation||(t.Operation={}));t.Operation;t.TypeInfo={ApiResourceLocation:{fields:null},ApiResourceVersion:{fields:null},ConnectOptions:{enumValues:{none:0,includeServices:1,includeLastUserAccess:2}},ExtensionLicenseData:{fields:null},IdentityRef:{fields:null},JsonPatchDocument:{fields:null},JsonPatchOperation:{fields:null},JsonWebToken:{fields:null},JWTAlgorithm:{enumValues:{none:0,hS256:1,rS256:2}},Operation:{enumValues:{add:0,remove:1,replace:2,move:3,copy:4,test:5}},Publisher:{fields:null},ReferenceLink:{fields:null},ResourceRef:{fields:null},ServiceEvent:{fields:null},VssJsonCollectionWrapper:{fields:null},VssJsonCollectionWrapperV:{fields:null},VssJsonCollectionWrapperBase:{fields:null},WrappedException:{fields:null}},t.TypeInfo.ApiResourceLocation.fields={},t.TypeInfo.ApiResourceVersion.fields={},t.TypeInfo.ExtensionLicenseData.fields={createdDate:{isDate:!0},minimumRequiredAccessLevel:{typeInfo:r.TypeInfo.VisualStudioOnlineServiceLevel},updatedDate:{isDate:!0}},t.TypeInfo.IdentityRef.fields={},t.TypeInfo.JsonPatchDocument.fields={},t.TypeInfo.JsonPatchOperation.fields={op:{enumType:t.TypeInfo.Operation}},t.TypeInfo.JsonWebToken.fields={},t.TypeInfo.Publisher.fields={},t.TypeInfo.ReferenceLink.fields={},t.TypeInfo.ResourceRef.fields={},t.TypeInfo.ServiceEvent.fields={publisher:{typeInfo:t.TypeInfo.Publisher}},t.TypeInfo.VssJsonCollectionWrapper.fields={},t.TypeInfo.VssJsonCollectionWrapperV.fields={},t.TypeInfo.VssJsonCollectionWrapperBase.fields={},t.TypeInfo.WrappedException.fields={innerException:{typeInfo:t.TypeInfo.WrappedException}}}),define("VSS/WorkItemTracking/Contracts",["require","exports","VSS/WebApi/Contracts"],function(e,t,r){!function(e){e[e.String=0]="String",e[e.Integer=1]="Integer",e[e.DateTime=2]="DateTime",e[e.PlainText=3]="PlainText",e[e.Html=4]="Html",e[e.TreePath=5]="TreePath",e[e.History=6]="History",e[e.Double=7]="Double",e[e.Guid=8]="Guid",e[e.Boolean=9]="Boolean"}(t.FieldType||(t.FieldType={}));t.FieldType;!function(e){e[e.None=0]="None",e[e.WorkItem=1]="WorkItem",e[e.WorkItemLink=2]="WorkItemLink",e[e.Tree=3]="Tree",e[e.WorkItemTypeExtension=4]="WorkItemTypeExtension"}(t.FieldUsage||(t.FieldUsage={}));t.FieldUsage;!function(e){e[e.Create=0]="Create",e[e.Remove=1]="Remove"}(t.LinkChangeType||(t.LinkChangeType={}));t.LinkChangeType;!function(e){e[e.WorkItems=0]="WorkItems",e[e.LinksOneHopMustContain=1]="LinksOneHopMustContain",e[e.LinksOneHopMayContain=2]="LinksOneHopMayContain",e[e.LinksOneHopDoesNotContain=3]="LinksOneHopDoesNotContain",e[e.LinksRecursiveMustContain=4]="LinksRecursiveMustContain",e[e.LinksRecursiveMayContain=5]="LinksRecursiveMayContain",e[e.LinksRecursiveDoesNotContain=6]="LinksRecursiveDoesNotContain"}(t.LinkQueryMode||(t.LinkQueryMode={}));t.LinkQueryMode;!function(e){e[e.NONE=0]="NONE",e[e.AND=1]="AND",e[e.OR=2]="OR"}(t.LogicalOperation||(t.LogicalOperation={}));t.LogicalOperation;!function(e){e[e.Import=0]="Import",e[e.Validate=1]="Validate"}(t.ProvisioningActionType||(t.ProvisioningActionType={}));t.ProvisioningActionType;!function(e){e[e.None=0]="None",e[e.Wiql=1]="Wiql",e[e.Clauses=2]="Clauses",e[e.All=3]="All"}(t.QueryExpand||(t.QueryExpand={}));t.QueryExpand;!function(e){e[e.WorkItem=1]="WorkItem",e[e.WorkItemLink=2]="WorkItemLink"}(t.QueryResultType||(t.QueryResultType={}));t.QueryResultType;!function(e){e[e.Flat=1]="Flat",e[e.Tree=2]="Tree",e[e.OneHop=3]="OneHop"}(t.QueryType||(t.QueryType={}));t.QueryType;!function(e){e[e.WorkItemType=0]="WorkItemType",e[e.GlobalWorkflow=1]="GlobalWorkflow"}(t.TemplateType||(t.TemplateType={}));t.TemplateType;!function(e){e[e.Area=0]="Area",e[e.Iteration=1]="Iteration"}(t.TreeNodeStructureType||(t.TreeNodeStructureType={}));t.TreeNodeStructureType;!function(e){e[e.Areas=0]="Areas",e[e.Iterations=1]="Iterations"}(t.TreeStructureGroup||(t.TreeStructureGroup={}));t.TreeStructureGroup;!function(e){e[e.None=0]="None",e[e.Relations=1]="Relations",e[e.Fields=2]="Fields",e[e.All=3]="All"}(t.WorkItemExpand||(t.WorkItemExpand={}));t.WorkItemExpand;t.TypeInfo={AttachmentReference:{fields:null},FieldDependentRule:{fields:null},FieldsToEvaluate:{fields:null},FieldType:{enumValues:{string:0,integer:1,dateTime:2,plainText:3,html:4,treePath:5,history:6,"double":7,guid:8,"boolean":9}},FieldUsage:{enumValues:{none:0,workItem:1,workItemLink:2,tree:3,workItemTypeExtension:4}},IdentityReference:{fields:null},Link:{fields:null},LinkChangeType:{enumValues:{create:0,remove:1}},LinkQueryMode:{enumValues:{workItems:0,linksOneHopMustContain:1,linksOneHopMayContain:2,linksOneHopDoesNotContain:3,linksRecursiveMustContain:4,linksRecursiveMayContain:5,linksRecursiveDoesNotContain:6}},LogicalOperation:{enumValues:{nONE:0,aND:1,oR:2}},ProjectReference:{fields:null},ProvisioningActionType:{enumValues:{"import":0,validate:1}},ProvisioningResult:{fields:null},QueryExpand:{enumValues:{none:0,wiql:1,clauses:2,all:3}},QueryHierarchyItem:{fields:null},QueryResultType:{enumValues:{workItem:1,workItemLink:2}},QueryType:{enumValues:{flat:1,tree:2,oneHop:3}},ReportingWorkItemLink:{fields:null},ReportingWorkItemLinksBatch:{fields:null},ReportingWorkItemRevisionsBatch:{fields:null},ReportingWorkItemRevisionsFilter:{fields:null},StreamedBatch:{fields:null},TemplateType:{enumValues:{workItemType:0,globalWorkflow:1}},TreeNodeStructureType:{enumValues:{area:0,iteration:1}},TreeStructureGroup:{enumValues:{areas:0,iterations:1}},Wiql:{fields:null},WitBatchRequest:{fields:null},WitBatchResponse:{fields:null},WorkItem:{fields:null},WorkItemClassificationNode:{fields:null},WorkItemDelete:{fields:null},WorkItemDeleteReference:{fields:null},WorkItemDeleteUpdate:{fields:null},WorkItemExpand:{enumValues:{none:0,relations:1,fields:2,all:3}},WorkItemField:{fields:null},WorkItemFieldOperation:{fields:null},WorkItemFieldReference:{fields:null},WorkItemFieldUpdate:{fields:null},WorkItemHistory:{fields:null},WorkItemLink:{fields:null},WorkItemQueryClause:{fields:null},WorkItemQueryResult:{fields:null},WorkItemQuerySortColumn:{fields:null},WorkItemReference:{fields:null},WorkItemRelation:{fields:null},WorkItemRelationType:{fields:null},WorkItemRelationUpdates:{fields:null},WorkItemRevisionReference:{fields:null},WorkItemTrackingReference:{fields:null},WorkItemTrackingResource:{fields:null},WorkItemTrackingResourceReference:{fields:null},WorkItemType:{fields:null},WorkItemTypeCategory:{fields:null},WorkItemTypeFieldInstance:{fields:null},WorkItemTypeReference:{fields:null},WorkItemTypeTemplate:{fields:null},WorkItemTypeTemplateUpdateModel:{fields:null},WorkItemUpdate:{fields:null}},t.TypeInfo.AttachmentReference.fields={},t.TypeInfo.FieldDependentRule.fields={dependentFields:{isArray:!0,typeInfo:t.TypeInfo.WorkItemFieldReference
}},t.TypeInfo.FieldsToEvaluate.fields={},t.TypeInfo.IdentityReference.fields={},t.TypeInfo.Link.fields={},t.TypeInfo.ProjectReference.fields={},t.TypeInfo.ProvisioningResult.fields={},t.TypeInfo.QueryHierarchyItem.fields={children:{isArray:!0,typeInfo:t.TypeInfo.QueryHierarchyItem},clauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},columns:{isArray:!0,typeInfo:t.TypeInfo.WorkItemFieldReference},filterOptions:{enumType:t.TypeInfo.LinkQueryMode},linkClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},queryType:{enumType:t.TypeInfo.QueryType},sortColumns:{isArray:!0,typeInfo:t.TypeInfo.WorkItemQuerySortColumn},sourceClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause},targetClauses:{typeInfo:t.TypeInfo.WorkItemQueryClause}},t.TypeInfo.ReportingWorkItemLink.fields={changedBy:{typeInfo:r.TypeInfo.IdentityRef},changedDate:{isDate:!0},changedOperation:{enumType:t.TypeInfo.LinkChangeType}},t.TypeInfo.ReportingWorkItemLinksBatch.fields={},t.TypeInfo.ReportingWorkItemRevisionsBatch.fields={},t.TypeInfo.ReportingWorkItemRevisionsFilter.fields={},t.TypeInfo.StreamedBatch.fields={},t.TypeInfo.Wiql.fields={},t.TypeInfo.WitBatchRequest.fields={},t.TypeInfo.WitBatchResponse.fields={},t.TypeInfo.WorkItem.fields={relations:{isArray:!0,typeInfo:t.TypeInfo.WorkItemRelation}},t.TypeInfo.WorkItemClassificationNode.fields={children:{isArray:!0,typeInfo:t.TypeInfo.WorkItemClassificationNode},structureType:{enumType:t.TypeInfo.TreeNodeStructureType}},t.TypeInfo.WorkItemDelete.fields={resource:{typeInfo:t.TypeInfo.WorkItem}},t.TypeInfo.WorkItemDeleteReference.fields={},t.TypeInfo.WorkItemDeleteUpdate.fields={},t.TypeInfo.WorkItemField.fields={supportedOperations:{isArray:!0,typeInfo:t.TypeInfo.WorkItemFieldOperation},type:{enumType:t.TypeInfo.FieldType}},t.TypeInfo.WorkItemFieldOperation.fields={},t.TypeInfo.WorkItemFieldReference.fields={},t.TypeInfo.WorkItemFieldUpdate.fields={},t.TypeInfo.WorkItemHistory.fields={revisedBy:{typeInfo:t.TypeInfo.IdentityReference},revisedDate:{isDate:!0}},t.TypeInfo.WorkItemLink.fields={source:{typeInfo:t.TypeInfo.WorkItemReference},target:{typeInfo:t.TypeInfo.WorkItemReference}},t.TypeInfo.WorkItemQueryClause.fields={clauses:{isArray:!0,typeInfo:t.TypeInfo.WorkItemQueryClause},field:{typeInfo:t.TypeInfo.WorkItemFieldReference},fieldValue:{typeInfo:t.TypeInfo.WorkItemFieldReference},logicalOperator:{enumType:t.TypeInfo.LogicalOperation},operator:{typeInfo:t.TypeInfo.WorkItemFieldOperation}},t.TypeInfo.WorkItemQueryResult.fields={asOf:{isDate:!0},columns:{isArray:!0,typeInfo:t.TypeInfo.WorkItemFieldReference},queryResultType:{enumType:t.TypeInfo.QueryResultType},queryType:{enumType:t.TypeInfo.QueryType},sortColumns:{isArray:!0,typeInfo:t.TypeInfo.WorkItemQuerySortColumn},workItemRelations:{isArray:!0,typeInfo:t.TypeInfo.WorkItemLink},workItems:{isArray:!0,typeInfo:t.TypeInfo.WorkItemReference}},t.TypeInfo.WorkItemQuerySortColumn.fields={field:{typeInfo:t.TypeInfo.WorkItemFieldReference}},t.TypeInfo.WorkItemReference.fields={},t.TypeInfo.WorkItemRelation.fields={},t.TypeInfo.WorkItemRelationType.fields={},t.TypeInfo.WorkItemRelationUpdates.fields={added:{isArray:!0,typeInfo:t.TypeInfo.WorkItemRelation},removed:{isArray:!0,typeInfo:t.TypeInfo.WorkItemRelation},updated:{isArray:!0,typeInfo:t.TypeInfo.WorkItemRelation}},t.TypeInfo.WorkItemRevisionReference.fields={},t.TypeInfo.WorkItemTrackingReference.fields={},t.TypeInfo.WorkItemTrackingResource.fields={},t.TypeInfo.WorkItemTrackingResourceReference.fields={},t.TypeInfo.WorkItemType.fields={fields:{isArray:!0,typeInfo:t.TypeInfo.WorkItemTypeFieldInstance}},t.TypeInfo.WorkItemTypeCategory.fields={defaultWorkItemType:{typeInfo:t.TypeInfo.WorkItemTypeReference},workItemTypes:{isArray:!0,typeInfo:t.TypeInfo.WorkItemTypeReference}},t.TypeInfo.WorkItemTypeFieldInstance.fields={field:{typeInfo:t.TypeInfo.WorkItemFieldReference}},t.TypeInfo.WorkItemTypeReference.fields={},t.TypeInfo.WorkItemTypeTemplate.fields={},t.TypeInfo.WorkItemTypeTemplateUpdateModel.fields={actionType:{enumType:t.TypeInfo.ProvisioningActionType},templateType:{enumType:t.TypeInfo.TemplateType}},t.TypeInfo.WorkItemUpdate.fields={fields:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.WorkItemFieldUpdate},relations:{typeInfo:t.TypeInfo.WorkItemRelationUpdates},revisedBy:{typeInfo:t.TypeInfo.IdentityReference},revisedDate:{isDate:!0}}}),define("VSS/Authentication/Contracts",["require","exports"],function(e,t){!function(e){e[e.Session=0]="Session",e[e.App=1]="App"}(t.DelegatedAppTokenType||(t.DelegatedAppTokenType={}));t.DelegatedAppTokenType;t.TypeInfo={CustomerIntelligenceEvent:{fields:null},DelegatedAppTokenType:{enumValues:{session:0,app:1}},WebSessionToken:{fields:null}},t.TypeInfo.CustomerIntelligenceEvent.fields={},t.TypeInfo.WebSessionToken.fields={tokenType:{enumType:t.TypeInfo.DelegatedAppTokenType},validTo:{isDate:!0}}}),define("VSS/Common/Contracts/Platform",["require","exports"],function(e,t){!function(e){e[e.Unknown=0]="Unknown",e[e.Deployment=1]="Deployment",e[e.Application=2]="Application",e[e.ProjectCollection=4]="ProjectCollection"}(t.ContextHostType||(t.ContextHostType={}));t.ContextHostType;!function(e){e[e.Default=0]="Default",e[e.Resource=1]="Resource"}(t.ContributionPathType||(t.ContributionPathType={}));t.ContributionPathType;!function(e){e[e.None=0]="None",e[e.Deployment=1]="Deployment",e[e.Application=2]="Application",e[e.Collection=4]="Collection",e[e.Project=8]="Project",e[e.Team=16]="Team",e[e.ApplicationAll=30]="ApplicationAll",e[e.All=31]="All"}(t.NavigationContextLevels||(t.NavigationContextLevels={}));t.NavigationContextLevels;t.TypeInfo={AccessPointModel:{fields:null},ActiveExtensionsData:{fields:null},AppInsightsConfiguration:{fields:null},AppInsightsCustomTrackPageData:{fields:null},ConfigurationContext:{fields:null},ConfigurationContextApis:{fields:null},ConfigurationContextPaths:{fields:null},ContextHostType:{enumValues:{unknown:0,deployment:1,application:2,projectCollection:4}},ContextIdentifier:{fields:null},ContributedServiceContext:{fields:null},ContributionPath:{fields:null},ContributionPathType:{enumValues:{"default":0,resource:1}},CoreReferencesContext:{fields:null},DaylightSavingsAdjustmentEntry:{fields:null},DiagnosticsContext:{fields:null},DynamicBundlesCollection:{fields:null},DynamicCSSBundle:{fields:null},DynamicScriptBundle:{fields:null},ExtendedHostContext:{fields:null},FeatureAvailabilityContext:{fields:null},GlobalizationContext:{fields:null},HostContext:{fields:null},Hub:{fields:null},HubGroup:{fields:null},HubsContext:{fields:null},IdentityModel:{fields:null},JavascriptFileReference:{fields:null},JsonArrayWrapper:{fields:null},MicrosoftAjaxConfig:{fields:null},ModuleLoaderConfiguration:{fields:null},ModuleLoaderShimConfiguration:{fields:null},NavigationContext:{fields:null},NavigationContextLevels:{enumValues:{none:0,deployment:1,application:2,collection:4,project:8,team:16,applicationAll:30,all:31}},PageContext:{fields:null},ServiceLocations:{fields:null},StylesheetReference:{fields:null},TeamContext:{fields:null},TeamFoundationServiceHostModel:{fields:null},TfsMailSettings:{fields:null},TfsServiceHostDescriptor:{fields:null},TimeZonesConfiguration:{fields:null},UserContext:{fields:null},WebContext:{fields:null},WebPageDataProviderPageSource:{fields:null},WebPerformanceTimingEntry:{fields:null},WebPerformanceTimingGroup:{fields:null},WebPerformanceTimingGroupCIData:{fields:null}},t.TypeInfo.AppInsightsConfiguration.fields={customTrackPageData:{typeInfo:t.TypeInfo.AppInsightsCustomTrackPageData}},t.TypeInfo.ConfigurationContext.fields={paths:{typeInfo:t.TypeInfo.ConfigurationContextPaths},api:{typeInfo:t.TypeInfo.ConfigurationContextApis},mailSettings:{typeInfo:t.TypeInfo.TfsMailSettings}},t.TypeInfo.ContributedServiceContext.fields={serviceLocations:{typeInfo:t.TypeInfo.ServiceLocations},featureAvailability:{typeInfo:t.TypeInfo.FeatureAvailabilityContext},bundles:{typeInfo:t.TypeInfo.DynamicBundlesCollection},moduleLoaderConfig:{typeInfo:t.TypeInfo.ModuleLoaderConfiguration},paths:{typeInfo:t.TypeInfo.ConfigurationContextPaths}},t.TypeInfo.ContributionPath.fields={pathType:{enumType:t.TypeInfo.ContributionPathType}},t.TypeInfo.CoreReferencesContext.fields={stylesheets:{isArray:!0,typeInfo:t.TypeInfo.StylesheetReference},scripts:{isArray:!0,typeInfo:t.TypeInfo.JavascriptFileReference},coreScriptsBundle:{typeInfo:t.TypeInfo.JavascriptFileReference},extensionCoreReferences:{typeInfo:t.TypeInfo.JavascriptFileReference}},t.TypeInfo.DaylightSavingsAdjustmentEntry.fields={start:{isDate:!0}},t.TypeInfo.DynamicBundlesCollection.fields={scripts:{isArray:!0,typeInfo:t.TypeInfo.DynamicScriptBundle},styles:{isArray:!0,typeInfo:t.TypeInfo.DynamicCSSBundle}},t.TypeInfo.ExtendedHostContext.fields={hostType:{enumType:t.TypeInfo.ContextHostType}},t.TypeInfo.HubsContext.fields={hubGroups:{isArray:!0,typeInfo:t.TypeInfo.HubGroup},hubs:{isArray:!0,typeInfo:t.TypeInfo.Hub}},t.TypeInfo.ModuleLoaderConfiguration.fields={contributionPaths:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ContributionPath},shim:{isDictionary:!0,dictionaryValueTypeInfo:t.TypeInfo.ModuleLoaderShimConfiguration}},t.TypeInfo.NavigationContext.fields={topMostLevel:{enumType:t.TypeInfo.NavigationContextLevels}},t.TypeInfo.PageContext.fields={webContext:{typeInfo:t.TypeInfo.WebContext},moduleLoaderConfig:{typeInfo:t.TypeInfo.ModuleLoaderConfiguration},coreReferences:{typeInfo:t.TypeInfo.CoreReferencesContext},webAccessConfiguration:{typeInfo:t.TypeInfo.ConfigurationContext},microsoftAjaxConfig:{typeInfo:t.TypeInfo.MicrosoftAjaxConfig},timeZonesConfiguration:{typeInfo:t.TypeInfo.TimeZonesConfiguration},featureAvailability:{typeInfo:t.TypeInfo.FeatureAvailabilityContext},appInsightsConfiguration:{typeInfo:t.TypeInfo.AppInsightsConfiguration},diagnostics:{typeInfo:t.TypeInfo.DiagnosticsContext},navigation:{typeInfo:t.TypeInfo.NavigationContext},globalization:{typeInfo:t.TypeInfo.GlobalizationContext},serviceLocations:{typeInfo:t.TypeInfo.ServiceLocations}},t.TypeInfo.ServiceLocations.fields={locations:{isDictionary:!0,dictionaryValueFieldInfo:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.ContextHostType}}},t.TypeInfo.TimeZonesConfiguration.fields={daylightSavingsAdjustments:{isArray:!0,typeInfo:t.TypeInfo.DaylightSavingsAdjustmentEntry}},t.TypeInfo.WebContext.fields={user:{typeInfo:t.TypeInfo.UserContext},team:{typeInfo:t.TypeInfo.TeamContext},project:{typeInfo:t.TypeInfo.ContextIdentifier},collection:{typeInfo:t.TypeInfo.HostContext},account:{typeInfo:t.TypeInfo.HostContext},host:{typeInfo:t.TypeInfo.ExtendedHostContext}},t.TypeInfo.WebPageDataProviderPageSource.fields={navigation:{typeInfo:t.TypeInfo.NavigationContext},project:{typeInfo:t.TypeInfo.ContextIdentifier},team:{typeInfo:t.TypeInfo.ContextIdentifier},diagnostics:{typeInfo:t.TypeInfo.DiagnosticsContext}},t.TypeInfo.WebPerformanceTimingGroup.fields={timings:{isArray:!0,typeInfo:t.TypeInfo.WebPerformanceTimingEntry}},t.TypeInfo.WebPerformanceTimingGroupCIData.fields={entries:{isArray:!0,typeInfo:t.TypeInfo.WebPerformanceTimingEntry}}}),define("VSS/Serialization",["require","exports"],function(e,t){function r(e,t,r){void 0===r&&(r=!1);var n=null;if(e&&e.length){var i=e.html();n=o.deserialize(JSON.parse(i),t,!0),r&&e.remove()}return n}var o;!function(e){function t(e,t,r){return void 0===r&&(r=!0),e&&t?$.isArray(e)?o(e,t,!0,r):n(e,t,!0,r):e}function r(e,t,r,i){return void 0===r&&(r=!0),void 0===i&&(i=!1),e&&(i&&$.isArray(e.value)&&(e=e.value),t&&(e=$.isArray(e)?o(e,t,!1,r):n(e,t,!1,r))),e}function o(e,t,r,i){var a=e,s=[];return $.each(e,function(c,p){var u;u=$.isArray(p)?o(p,t,r,i):n(p,t,r,i),i?(s.push(u),u!==p&&(a=s)):e[c]=u}),a}function n(e,t,r,o){var n=e,a=!1;return e&&t.fields&&$.each(t.fields,function(t,s){var c=e[t],p=i(c,s,r,o);c!==p&&(o&&!a&&(n=$.extend({},e),a=!0),n[t]=p)}),n}function i(e,t,r,c){if(!e)return e;if(t.isArray){if($.isArray(e)){var p=[],u=e;return $.each(e,function(i,l){var d=l;t.isDate?d=s(l,r):t.enumType?d=a(t.enumType,l,r):t.typeInfo&&(d=$.isArray(l)?o(l,t.typeInfo,r,c):n(l,t.typeInfo,r,c)),c?(p.push(d),d!==l&&(u=p)):e[i]=d}),u}return e}if(t.isDictionary){var l=!1,d={};return $.each(e,function(e,o){var p=e,u=o;t.dictionaryKeyIsDate?p=s(e,r):t.dictionaryKeyEnumType&&(p=a(t.dictionaryKeyEnumType,e,r)),t.dictionaryValueIsDate?u=s(o,r):t.dictionaryValueEnumType?u=a(t.dictionaryValueEnumType,o,r):t.dictionaryValueTypeInfo?u=n(u,t.dictionaryValueTypeInfo,r,c):t.dictionaryValueFieldInfo&&(u=i(o,t.dictionaryValueFieldInfo,r,c)),d[p]=u,(e!==p||o!==u)&&(l=!0)}),l?d:e}return t.isDate?s(e,r):t.enumType?a(t.enumType,e,r):t.typeInfo?n(e,t.typeInfo,r,c):e}function a(e,t,r){if(r&&"number"==typeof t);else if(!r&&"string"==typeof t){var o=0;return t&&$.each(t.split(","),function(t,r){var n=$.trim(r)||"";if(n){var i=e.enumValues[n];if(!i){var a=n.toLowerCase();a!==n&&$.each(e.enumValues,function(e,t){return e.toLowerCase()===a?(i=t,!1):void 0})}i&&(o|=i)}}),o}return t}function s(e,t){if(t&&e instanceof Date&&Date.prototype.toISOString)return e.toISOString();if(!t&&"string"==typeof e){var r=new Date(e);return isNaN(r)&&navigator.userAgent&&/msie/i.test(navigator.userAgent)&&(r=c(e)),r}return e}function c(e){var t;return p||(p=new RegExp("(\\d+)-(\\d+)-(\\d+)T(\\d+):(\\d+):(\\d+).(\\d+)Z")),t=p.exec(e),t?new Date(Date.UTC(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]),parseInt(t[4]),parseInt(t[5]),parseInt(t[6]),parseInt(t[7]))):null}var p;e.serialize=t,e.deserialize=r}(o=t.ContractSerializer||(t.ContractSerializer={})),t.deserializeJsonIsland=r}),define("VSS/Context",["require","exports","VSS/Common/Contracts/Platform","VSS/Serialization"],function(e,t,r,o){function n(e){var t=e.find("script.tfs-context").eq(0).html();if(t){var n=JSON.parse(t);return o.ContractSerializer.deserialize(n,r.TypeInfo.WebContext,!1)}return null}function i(){return f||(u=window.__vssPageContext,f=!0),u}function a(){var e=s();return e?e.webContext:null}function s(){if(!l){var e=i();e&&(l=o.ContractSerializer.deserialize(e,r.TypeInfo.PageContext,!0))}return l}function c(e){return p()[e]}function p(){if(!d){d={};var e=s();e.serviceInstanceId&&(d[e.serviceInstanceId]=e.webAccessConfiguration.paths)}return d}var u,l,d,f=!1;t.parseWebContext=n,t._getDefaultRawPageContext=i,t.getDefaultWebContext=a,t.getPageContext=s,t.getPathsForService=c}),define("VSS/Resources/VSS.Resources.TFSSeedFileResources",["require","exports"],function(e,t){t.ErrorPaneHeader="Error(s):",t.ErrorPaneCloseLink="Close [x]",t.CircularDependencyErrorFormat="There is a circular dependency between TFS script modules {0} and {1}.",t.ModuleScriptErrorFormat="Module '{0}' cannot be loaded. This may be due to lost connectivity or an incomplete or corrupted download of the file.  Try refreshing your browser or clearing your browser cache to retrieve the file again.",t.UnknownErrorMessage="Unknown error.",t.UnknownServerErrorMessage="Unknown server error occured.",t.SessionInfoMessage="Session Id: {0}"}),define("VSS/VSS",["require","exports","VSS/Context","q","VSS/Resources/VSS.Resources.TFSSeedFileResources"],function(e,t,r,o,n){function i(e,t,r,o){function i(e,t,r){var o;return(e||t)&&(o=d++,l++,u[o]=[e,t,r]),o}function a(){var t,r,o,n,i=f?0:m?1:-1,a=!1;if(i>=0){for(t in u)u.hasOwnProperty(t)&&(r=u[t],o=r[i],o&&(n=r[2],o.apply(e,(c||[]).concat([n])),a=!0));u={},l=0}return a}var s,c,u={},l=0,d=0,f=!1,m=!1;return s=i(t,r,o),{cookie:s,count:function(){return l},finish:function(){f=!0,c=Array.prototype.slice.call(arguments,0),a()},error:function(){m=!0,c=Array.prototype.slice.call(arguments,0),0===c.length&&(c=[Error.invalidOperation(n.UnknownServerErrorMessage)]),a()||p(c[0],null,e)},register:function(e,t,r){var o=i(e,t,r);return o&&a(),o},unregister:function(e){l--,delete u[e]}}}function a(e,t,r,o,n,a){function s(e){t[r]=e,p.finish(e)}function c(e){t[r]=null,p.error(e)}var p,u=t[r];a&&null===u||"undefined"==typeof u?(p=i(e,o,n),t[r]=p.register,a.call(e,s,c)):$.isFunction(u)?u(o,n):$.isFunction(o)&&o.call(e,u)}function s(e){return null!==e&&void 0!==e&&!$.isFunction(e)}function c(e){return e?"string"==typeof e?e:$.isFunction(e)?c(e()):e.message?e.message:e.toString():n.UnknownErrorMessage}function p(e,r,o){$.isFunction(r)?r.call(o,e):t.errorHandler.show(e)}function u(){return C}function l(e,t,r,o){return function(){var n=this.base,i=this.baseConstructor,a=this._base;this.base=r,this.baseConstructor=o,this._base=function(){return t.apply(this,Array.prototype.slice.call(arguments,0))};try{return e.apply(this,Array.prototype.slice.call(arguments,0))}finally{this.base=n,this.baseConstructor=i,this._base=a}}}function d(e,t,r,o){var n,i;for(n in t)"__name"!==n&&t.hasOwnProperty(n)&&(i=t[n],r&&"function"==typeof i&&"function"==typeof r[n]?e[n]=l(i,r[n],r,o):e[n]=i);return e}function f(e,t){d(e,t,null,null)}function m(e){var t,r;return e.__name||(e.__name="_type_"+k++,b&&(t=e.name,t||(r=e.toString(),t=r.substring(9,r.indexOf("("))),t&&(e.__name+="_"+t))),e.__name}function g(e,t){var r,o;for(r in t)"__name"!==r&&t.hasOwnProperty(r)&&(o=t[r],e.prototype[r]=o)}function y(e){var t,r;return F&&(t=F[e],!t&&(r=e.lastIndexOf("."),r>0))?y(e.substring(0,r)):t||""}function h(e){return y(e)+e}function T(e,t){var r=E[e];if(x[t]=e,r||(r=[],E[e]=r),t.indexOf("/")<0){var o=h(t);r.push(o)}else r.push(t)}function I(t,r){e(t,r)}function v(e,t){var r,o,n,i=e.split("."),a=window;for(r=0;r<i.length;r++)o=a[i[r]],o||(o={},a[i[r]]=o),a=o;if(o&&t)for(n in t)t.hasOwnProperty(n)&&(o[n]=t[n]);return o}function S(e,t){var r=E[e];j[e]=!0,v(e,t),r&&(I(r,function(){}),delete E[e])}var b=!1,C=!1,k=0,w=r.getPageContext();w&&(w.globalization&&(t.uiCulture=w.globalization.culture),w.diagnostics&&(b=w.diagnostics.debugMode));var R;!function(e){e.ServerException="TFS.ServerException"}(R||(R={})),Error.serverError=function(e){var t=Error.create(e&&e.message||n.UnknownServerErrorMessage,$.extend(e||{},{name:R.ServerException}));return t.popStackFrame(),t},Error.circularDependency=function(e,t){var r=Error.create(String.format(n.CircularDependencyErrorFormat,e,t),{moduleName:e,moduleReference:t});return r.popStackFrame(),r},t.queueCallbacks=i,t.queueRequest=a,t.queuedRequestHasResult=s,t.getErrorMessage=c;var A=5e3,M=function(){function e(){this.$error=null,this.visible=!1,this._errorPublishers=[]}return e.prototype.initialize=function(){var e=this;this.attachWindowErrorHandler(),this.attachQPromiseErrorHandler(),this.$error=$(".error-section").bind("keydown",function(t){return 27===t.keyCode?(e.hideError(),!1):void 0})},e.prototype.attachWindowErrorHandler=function(){var e,t=this,r=function(r,o,n,i,a){if(i){var s={name:a&&a.name||r,message:a&&a.message||r,source:o,lineNumber:n,columnNumber:i,stack:a&&a.stack||""};t.publishError(s)}return e?e.apply(t,[r,o,n,i,a]):!1};e=window.onerror,window.onerror=r},e.prototype.attachQPromiseErrorHandler=function(){var e=this,t=function(){var r=o.getUnhandledReasons();r&&r.length&&(o.resetUnhandledRejections(),r.forEach(function(t){t=t||"";var r={name:"UnhandledQRejection",message:t.message||t,stack:t.stack||t};console.warn(t),e.publishError(r)})),window.setTimeout(t,A)};t()},e.prototype.publishError=function(e){$.each(this._errorPublishers,function(t,r){r.publishError(e)})},e.prototype.exists=function(){return this.$error.length>0},e.prototype.showError=function(e,t,r){function o(o){var i="";t&&(i=t+": "),e&&(i+=e),a=$("<li>").text(i).appendTo(o),r&&$("<pre>").text(r).appendTo(a),c&&$("<pre>").text(String.format(n.SessionInfoMessage,c)).appendTo(a)}var i,a,s=this,c=w&&w.diagnostics&&w.diagnostics.sessionId||"";this.visible||(this.visible=!0,this.$error.empty(),$("<div tabIndex=0 />").addClass("close").text(n.ErrorPaneCloseLink).appendTo(this.$error).click(function(){s.hideError()}).keydown(function(e){return 13===e.which?(s.hideError(),!1):void 0}),i=$("<div>").addClass("message").appendTo(this.$error),$("<h4>").text(n.ErrorPaneHeader).appendTo(i),$("<ul>").addClass("error-list").appendTo(i)),o($("ul.error-list",this.$error)),this.$error.show().focus()},e.prototype.hideError=function(){$("p",this.$error).remove(),this.$error.hide(),this.visible=!1},e.prototype.show=function(e){this.publishError(e),this.exists()?this.showError(e.message,e.status,e.stack):alert(e.message)},e.prototype.attachErrorPublisher=function(e){-1===$.inArray(e,this._errorPublishers)&&this._errorPublishers.push(e)},e.prototype.detachErrorPublisher=function(e){var t=$.inArray(e,this._errorPublishers);-1!==t&&this._errorPublishers.splice(t,1)},e}();t.ErrorHandler=M,t.errorHandler=new M,t.handleError=p;var _=function(){function e(){}return e}();t.ClientActivtyStatistic=_;var V=function(){function e(){}return e}();t.ActivtyStatistic=V;var P=function(){function e(){this._activtyIdHeader="ActivityId",this._progressPendingActions=null,this._progressPendingActionsNewId=0,this._progressPendingActions={},this._activtyStatsCollectionAllowedCallbacks=[]}return e.prototype.addActivtyStatsCollectionAllowedCallback=function(e){this._activtyStatsCollectionAllowedCallbacks.push(e)},e.prototype.actionStarted=function(e){if(!this.isCollectingStats())return-1;var t=++this._progressPendingActionsNewId;return this._progressPendingActions[t]=e,t},e.prototype.actionCompleted=function(e,t){var r=null;if(e>-1&&this._allowStatsCollection()&&this.isCollectingStats()){var o=this._progressPendingActions[e];if(o){delete this._progressPendingActions[e];try{var n=t.getResponseHeader(this._activtyIdHeader);if(n&&-1===o.toLowerCase().indexOf("/_apis/stats/activities")){r=this.getCurrentPage();var i=new V;i.actionDate=new Date,i.name=o,i.id=n,i.status=t.status,i.parentId=r?r.id:null,this._saveActivity(i)}}catch(a){this.clearStats()}}}},e.prototype.logActivity=function(e,t){try{if(this._allowStatsCollection()&&t&&-1===t.toLowerCase().indexOf("_statistics")){var r=new V;r.actionDate=new Date,r.name=t,r.id=e,this._saveActivity(r,!0)}}catch(o){this.clearStats()}},e.prototype.logClientStats=function(){try{if(this._allowStatsCollection()){var e=this.getCurrentPage();if(e){var t=[];t.push(this._createClientStat("requestDuration",window.performance.timing.navigationStart,window.performance.timing.domComplete,e.id)),t.push(this._createClientStat("dnsLookup",window.performance.timing.domainLookupStart,window.performance.timing.domainLookupEnd,e.id)),t.push(this._createClientStat("connect",window.performance.timing.connectStart,window.performance.timing.connectEnd,e.id)),t.push(this._createClientStat("serverTime",window.performance.timing.requestStart,window.performance.timing.responseEnd,e.id)),t.push(this._createClientStat("ttfb",window.performance.timing.requestStart,window.performance.timing.responseStart,e.id)),t.push(this._createClientStat("responseTransmit",window.performance.timing.responseStart,window.performance.timing.responseEnd,e.id)),t.push(this._createClientStat("domLoading",window.performance.timing.domLoading,window.performance.timing.domComplete,e.id)),this._saveClientActivity(e.id,t)}}}catch(r){this.clearStats()}},e.prototype._createClientStat=function(e,t,r,o){var n=new _;return n.name=e,n.startOffset=t-window.performance.timing.navigationStart,n.duration=r-t,n.id=o,n},e.prototype.getClientStatistics=function(){try{var t=window.localStorage.getItem(e.ACTIVITY_CLIENT_STATE_STORAGE_ITEM);return t?Sys.Serialization.JavaScriptSerializer.deserialize(t,!1):{}}catch(r){return{}}},e.prototype.getActivtyStatistics=function(){try{var t=window.localStorage.getItem(e.ACTIVITY_ID_STORAGE_ITEM);return t?Sys.Serialization.JavaScriptSerializer.deserialize(t,!1):[]}catch(r){return[]}},e.prototype.clearStats=function(){try{window.localStorage.removeItem(e.ACTIVITY_ID_STORAGE_ITEM),window.localStorage.removeItem(e.ACTIVITY_CLIENT_STATE_STORAGE_ITEM),window.localStorage.removeItem(e.CURRENT_PAGE)}catch(t){}},e.prototype.collectStats=function(t){try{window.localStorage.setItem(e.ACTIVITY_COLLECTION_STATUS,t.toString())}catch(r){}},e.prototype.getCurrentPage=function(){try{var t=window.localStorage.getItem(e.CURRENT_PAGE);if(t)return Sys.Serialization.JavaScriptSerializer.deserialize(t,!1)}catch(r){}return null},e.prototype.setCurrentPage=function(t){try{window.localStorage.setItem(e.CURRENT_PAGE,Sys.Serialization.JavaScriptSerializer.serialize(t))}catch(r){}},e.prototype.isCollectingStats=function(){try{var t=window.localStorage.getItem(e.ACTIVITY_COLLECTION_STATUS);return t?(t=t.toLowerCase(),"true"===t?!0:"false"===t?!1:(window.localStorage.removeItem(e.ACTIVITY_COLLECTION_STATUS),!1)):!1}catch(r){return!1}},e.prototype._saveActivity=function(t,r){if(this.isCollectingStats()&&this._allowStatsCollection()){var o=this.getActivtyStatistics();o.push(t),window.localStorage.setItem(e.ACTIVITY_ID_STORAGE_ITEM,Sys.Serialization.JavaScriptSerializer.serialize(o)),r&&this.setCurrentPage(t)}},e.prototype._saveClientActivity=function(t,r){if(this.isCollectingStats()&&this._allowStatsCollection()){var o=this.getClientStatistics();o[t]=r,window.localStorage.setItem(e.ACTIVITY_CLIENT_STATE_STORAGE_ITEM,Sys.Serialization.JavaScriptSerializer.serialize(o))}},e.prototype._allowStatsCollection=function(){var e,t=!0;for(e=0;e<this._activtyStatsCollectionAllowedCallbacks.length;e++)t=t&&this._activtyStatsCollectionAllowedCallbacks[e]();return t},e.ACTIVITY_COLLECTION_STATUS="TFS.ActivityCollectionStatus",e.ACTIVITY_ID_STORAGE_ITEM="TFS.ActivityIdStats",e.ACTIVITY_CLIENT_STATE_STORAGE_ITEM="TFS.ClientActivityIdStats",e.CURRENT_PAGE="TFS.CurrentPageActivity",e}();t.ActivtyStatsCollector=P,t.activtyStatsCollector=new P;var D=function(){function e(){this._progressPendingActions=null,this._progressPendingActionsCount=0,this._progressPendingActionsNewId=0,this._pageProgressElements=null,this._pageProgressDelayShowTimeout=null,this._pageProgressMinShowTimeout=null,this._showingProgress=!1;var e=this;this._progressPendingActions={},this._pageProgressElements=[],$(function(){var t=$(".pageProgressIndicator");t.length>0&&e._addProgressElement(t)})}return e.prototype.getProgressElements=function(){return this._pageProgressElements},e.prototype.registerProgressElement=function(e){this._addProgressElement(e),this._showingProgress?e.show():e.hide()},e.prototype.unRegisterProgressElement=function(e){if(this._pageProgressElements){var t=0;for(t=0;t<this._pageProgressElements.length;t++)if(this._pageProgressElements[t]===e){this._pageProgressElements.splice(t,1);break}}},e.prototype._addProgressElement=function(e){this._pageProgressElements.push(e)},e.prototype._showProgressElements=function(){var e=this,t=this._pageProgressElements;0!==this._progressPendingActionsCount&&(this._showingProgress=!0,0!==t.length&&($.each(t,function(e,t){t.show()}),this._pageProgressMinShowTimeout||(this._pageProgressMinShowTimeout=window.setTimeout(function(){e._pageProgressMinShowTimeout=null,0===e._progressPendingActionsCount&&e._hideProgressElements()},250))))},e.prototype._hideProgressElements=function(){this._showingProgress=!1,$.each(this._pageProgressElements,function(e,t){t.hide()})},e.prototype.actionStarted=function(e,t){var r=this,o=++this._progressPendingActionsNewId;return this._progressPendingActions[o]=e,0===this._progressPendingActionsCount++&&(t===!0?(this._pageProgressDelayShowTimeout&&(window.clearTimeout(this._pageProgressDelayShowTimeout),this._pageProgressDelayShowTimeout=null),this._showProgressElements()):this._pageProgressDelayShowTimeout||(this._pageProgressDelayShowTimeout=window.setTimeout(function(){r._pageProgressDelayShowTimeout=null,r._showProgressElements()},250))),o},e.prototype.actionCompleted=function(e){delete this._progressPendingActions[e],0!==--this._progressPendingActionsCount||this._pageProgressMinShowTimeout||this._hideProgressElements()},e.prototype.getPendingActions=function(){var e=[];return $.each(this._progressPendingActions,function(t,r){e.push(t+": "+r)}),e},e}();t.GlobalProgressIndicator=D,t.globalProgressIndicator=new D,$(window).bind("beforeunload",function(){C=!0}),$(function(){var e=t.globalProgressIndicator.actionStarted("Initial page load",!0);t.errorHandler.initialize(),t.globalProgressIndicator.actionCompleted(e)}),t.hasUnloadRequest=u,Function.prototype.inherit=function(e,t){function r(){}var o,n,i;d(this,$.extend({},e,this),e,e),this.base=e,this._super=e.prototype,t=$.extend({},this.prototype,t),o=e.prototype,o.constructor=e,i=o.baseConstructor,r.prototype=o,n=new r,d(n,t,o,i),this.prototype=n,this.prototype.constructor=this,i?this.prototype.baseConstructor=l(e,i,o,i):this.prototype.baseConstructor=e},Function.prototype.extend=function(e){return d(this,e,this.base,this.baseConstructor)},t.classExtend=f,t.getTypeName=m,t.initClassPrototype=g;var F={};"undefined"!=typeof _bases&&_bases.length>0&&$.each(_bases,function(e,t){F[t.namespace]=t.base}),"undefined"!=typeof _builtInBases&&_builtInBases.length>0&&$.each(_builtInBases,function(e,t){F[t.namespace]=t.base}),t.getModuleBase=y;var E={},L={},x={},j={};"undefined"!=typeof _disabledPlugins&&$.each(_disabledPlugins,function(e,t){L[t]=!0}),"undefined"!=typeof _plugins&&_plugins.length>0&&$.each(_plugins,function(e,t){t.namespace in L||T(t.loadAfter,t.namespace)}),"undefined"!=typeof _builtinPlugins&&_builtinPlugins.length>0&&$.each(_builtinPlugins,function(e,t){t.namespace in L||T(t.loadAfter,t.namespace)}),t.using=I,t.module=function(e,t,r){for(var o=[],n=0;n<t.length;n++)o.push(h(t[n]));define(o,function(){var t=r();S(e,t)})},t.tfsModuleLoaded=S,S("TFS",t)}),define("VSS/Diag",["require","exports","VSS/Context","VSS/VSS"],function(e,t,r,o){function n(){return _}function i(e){_=e}function a(e,t){if(_){var r,o=console;switch(t){case E.Enter:r="Enter",console.time&&console.time(e);break;case E.Leave:r="Leave",console.timeEnd&&console.timeEnd(e),window.performance&&window.performance.measure&&window.performance.measure(e,e+" Enter");break;default:r="SinglePoint",console.log("%s: [%s]",e,Date.now())}e=e+" "+r,window.performance&&performance.mark&&window.performance.mark(e),o.timeStamp&&o.timeStamp(e)}}function s(e,t){return e+" is required and needs to be a "+t}function c(e){var t=function(e,t){for(var r=""+e;r.length<t;)r="0"+r;return r};return t(e.getHours(),2)+":"+t(e.getMinutes(),2)+":"+t(e.getSeconds(),2)+"."+t(e.getMilliseconds(),3)}function p(e,r){var o,n;if(e<=t.logLevel&&(_&&Sys.Debug.trace(r),k))for(o=0,n=k.length;n>o;o++)k[o](r,e)}function u(e){p(x.Error,e)}function l(e){p(x.Warning,e)}function d(e){p(x.Info,e)}function f(e){p(x.Verbose,e)}function m(e){k||(k=[]),k.push(e)}function g(e){var t,r;if(k)for(t=0,r=k.length;r>t;t++)k[t]===e&&k.splice(t--,1)}function y(e,t){return D?void p(x.Error,"There is a profile already in progress: "+P+": "+w+"->"+R):(w=e,R=t,document.cookie="TFS-TRACEPOINT-START="+e+";",void(document.cookie="TFS-TRACEPOINT-END="+t+";"))}function h(){D&&(D=!1,console.profileEnd())}function T(e,r){null!=w&&null!==R&&(w===e?(console.profile(P+": "+w+"->"+R),P++,D=!0):R===e&&(console.profileEnd(),D=!1));for(var o=0;o<A.length;o++)A[o].call(this,e,r),x.Verbose<=t.logLevel&&p(x.Verbose,"TRACEPOINT ["+c(new Date)+"]: "+e)}function I(e){for(var t=0;t<A.length;t++)if(e===A[t])return;A.push(e)}function v(e){for(var t=0;t<A.length;t++)e===A[t]&&A.splice(t,1)}function S(e){t.logLevel=e}function b(){F&&F.diagnostics&&F.diagnostics.tracePointCollectionEnabled&&(t.perfCollector=new j,t.perfCollector.register())}function C(e,t,r){void 0===r&&(r=x.Verbose);var o=new Date;e();var n=new Date;p(r,t+": "+(n.getTime()-o.getTime())+"ms")}var k,w,R,A=[],M=!1,_=!1,V="undefined"==typeof window._globalThrowOnAssertFailures?!1:window._globalThrowOnAssertFailures,P=0,D=!1,F=r.getPageContext();F&&F.diagnostics&&(_=F.diagnostics.debugMode,w=F.diagnostics.tracePointProfileStart,R=F.diagnostics.tracePointProfileEnd),t.getDebugMode=n,t.setDebugMode=i,function(e){e[e.SinglePoint=0]="SinglePoint",e[e.Enter=1]="Enter",e[e.Leave=2]="Leave"}(t.StampEvent||(t.StampEvent={}));var E=t.StampEvent;t.timeStamp=a;var L=function(){function e(e){this.label=e,a(e,E.Enter)}return e.start=function(t,r){var o=new e(t);r(o)},e.prototype.finish=function(){a(this.label,E.Leave)},e}();t.Measurement=L,function(e){e[e.Off=0]="Off",e[e.Error=1]="Error",
e[e.Warning=2]="Warning",e[e.Info=3]="Info",e[e.Verbose=4]="Verbose"}(t.LogVerbosity||(t.LogVerbosity={}));var x=t.LogVerbosity;t.logLevel=x.Warning,t.log=p,t.logError=u,t.logWarning=l,t.logInfo=d,t.logVerbose=f,t.listen=m,t.unlisten=g,t.profile=y,t.profileEnd=h,t.logTracePoint=T,t.addTracePointCollector=I,t.removeTracePointCollector=v,t.setLogLevel=S;var j=function(){function e(){this._moduleInitTime=(new Date).getTime(),this._tracePoints=[],this._overallCounts={},this._activeCounts={},this._lastResetTime=0,this._lastResetIndex=0}return e.prototype.register=function(){var e=this;I(function(t,r){e._handleTracePoint(t,r)})},e.prototype.getOverallCount=function(e){var t=this._overallCounts[e];return t?t:0},e.prototype.getActiveCount=function(e){var t=this._activeCounts[e];return t?t:0},e.prototype.getLastTracePoint=function(e){var t;for(t=this._tracePoints.length-1;t>=0;t--)if(this._tracePoints[t].name===e)return this._tracePoints[t];return null},e.prototype.getLastTracePointTime=function(e){var t=this.getLastTracePoint(e);return t?t.time:0},e.prototype.resetActiveCount=function(e){this._activeCounts[e]=0},e.prototype.resetActiveCounts=function(){this._activeCounts={},this._lastResetTime=(new Date).getTime(),this._lastResetIndex=this._tracePoints.length},e.prototype.getModuleInitTime=function(){return this._moduleInitTime},e.prototype.getTracePoints=function(e){return e===!0?this._tracePoints.slice(this._lastResetIndex):this._tracePoints},e.prototype.getTracePointCountData=function(e){var t,r,o,n="";for(t=0,r=e.length;r>t;t++)o=e[t],n+=this.getActiveCount(o)+";"+this.getOverallCount(o)+"	";return n},e.prototype.dumpTracePoints=function(e){var t,r,o,n,i,a;for(t="ModuleInitTime	"+this._moduleInitTime+"\nLastReset	"+Math.max(0,this._lastResetTime-this._moduleInitTime),r=this.getTracePoints(e),i=r.length,n=0;i>n;n++)o=r[n],t+="\n"+(o.time-this._moduleInitTime)+"	"+o.name,a=o.data,a&&(a instanceof Error&&(a=a.message,a.stackTrace&&(a+=" @"+a.stackTrace)),$.isArray(a)&&(a=a.join(";")),t+=("	"+a).replace(/[\n\r]/g," "));return t},e.prototype._updateCount=function(e,t){var r=e[t];r?e[t]=r+1:e[t]=1},e.prototype._handleTracePoint=function(e,t){var r={time:(new Date).getTime(),name:e,data:t};this._tracePoints.push(r),this._updateCount(this._overallCounts,e),this._updateCount(this._activeCounts,e)},e}();t.PerfTracePointCollector=j,b(),t.measurePerformance=C;var q=function(){function e(){}return e.setDisplayCallers=function(e){M=e},e.fail=function(e){if(_){if(V)throw Error.create("Assertion failure: "+e);Sys.Debug.assert(!1,e,M)}},e.assert=function(t,r){_&&!t&&e.fail(r)},e.assertIsObject=function(t,r){!_||null!==t&&"object"==typeof t||e.fail(r)},e.assertParamIsObject=function(t,r,o){if(_){var n=o&&(null===t||void 0===t)||null!==t&&"object"==typeof t;n||e.fail(s(r,"object"))}},e.assertIsArray=function(t,r,o){_&&(!$.isArray(t)||o&&0===t.length)&&e.fail(r)},e.assertParamIsArray=function(t,r,o){_&&(!$.isArray(t)||o&&0===t.length)&&e.fail(s(r," (non-empty)"))},e.assertIsBool=function(t,r){_&&"boolean"!=typeof t&&e.fail(r)},e.assertParamIsBool=function(t,r){_&&"boolean"!=typeof t&&e.fail(s(r,"boolean"))},e.assertIsNumber=function(e,t){_&&("number"!=typeof e||isNaN(e))&&this.fail(t)},e.assertParamIsNumber=function(t,r){_&&("number"!=typeof t||isNaN(t))&&e.fail(s(r,"number"))},e.assertIsInteger=function(t,r){_&&("number"!=typeof t||isNaN(t)||Math.round(t)!==t)&&e.fail(r)},e.assertParamIsInteger=function(t,r){_&&("number"!=typeof t||isNaN(t)||Math.round(t)!==t)&&e.fail(s(r,"integer"))},e.assertIsString=function(t,r){_&&"string"!=typeof t&&e.fail(r)},e.assertParamIsString=function(t,r){_&&"string"!=typeof t&&e.fail(s(r,"string"))},e.assertIsStringNotEmpty=function(t,r){!_||"string"==typeof t&&""!==t||e.fail(r)},e.assertParamIsStringNotEmpty=function(t,r){!_||"string"==typeof t&&""!==t||e.fail(s(r,"non-empty string"))},e.assertIsFunction=function(t,r){_&&"function"!=typeof t&&e.fail(r)},e.assertParamIsFunction=function(t,r){_&&"function"!=typeof t&&e.fail(s(r,"function"))},e.assertIsDate=function(t,r){!_||t instanceof Date||e.fail(r)},e.assertParamIsDate=function(t,r){!_||t instanceof Date||e.fail(s(r,"date"))},e.assertIsNotNull=function(t,r){!_||null!==t&&void 0!==t||e.fail(r)},e.assertParamIsNotNull=function(t,r){_&&null===t&&e.fail(s(r,"not null and not undefined"))},e.assertIsNotUndefined=function(t,r){_&&void 0===t&&e.fail(r)},e.assertParamIsNotUndefined=function(t,r){_&&void 0===t&&e.fail(s(r,"not undefined"))},e.assertIsJQueryObject=function(t,r){!_||null!==t&&"object"==typeof t&&"string"==typeof t.jquery||e.fail(r)},e.assertParamIsJQueryObject=function(t,r){!_||null!==t&&"object"==typeof t&&"string"==typeof t.jquery||e.fail(s(r,"jQuery object"))},e.assertIsType=function(t,r,o,n){var i;_&&(i=null===t||void 0===t&&"undefined"!==r?n:"string"==typeof r?typeof t===r:t instanceof r,i||e.fail(o))},e.getTypeName=function(t){return t||e.fail("An assert to check a value's type was handed an invalid type to check for."),"string"==typeof t?t:(e.assertIsFunction(t,"Expected to have a constructor function passed when checking a type"),t.toString().match(/^\s*function\s*([\w]*)\(/)[1]||"Unnamed type: ("+t.toString()+")")},e.assertParamIsType=function(t,r,o,n){_&&e.assertIsType(t,r,s(o,e.getTypeName(r)),n)},e.logInfo=function(e){p(x.Info,e)},e.logVerbose=function(e){p(x.Verbose,e)},e}();t.Debug=q;var W;!function(e){function t(e){window.performance&&window.performance.mark&&window.performance.mark(e)}function r(e,t,r){window.performance&&window.performance.measure&&window.performance.measure(e,t,r)}function o(e){return window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType(e)||[]}function n(){return e.getEntriesByType("measure")}function i(){return e.getEntriesByType("mark")}e.mark=t,e.measure=r,e.getEntriesByType=o,e.getMeasures=n,e.getMarks=i}(W||(W={}));var N=function(){function e(e,t){this._telemetryPosted=!1,this._areaName=e,this._scenario=t}return e.prototype.hasBeenPosted=function(){return this._telemetryPosted},e.prototype.getAreaName=function(){return this._areaName},e.prototype.getScenario=function(){return this._scenario},e.prototype.setPosted=function(e){this._telemetryPosted=e},e.prototype.mark=function(e){W.mark(e),W.measure("navigationStart->"+e,"navigationStart",e),W.measure("domInteractive->"+e,"domInteractive",e)},e.prototype.getTelemetry=function(){var e={};return W.measure("navigationStart->domInteractive","navigationStart","domInteractive"),W.measure("navigationStart->loadEventEnd","navigationStart","loadEventEnd"),W.getEntriesByType("measure").forEach(function(t){return e[t.name]=t.duration}),e.resourceCount=W.getEntriesByType("resource").length,e},e.prototype.log=function(){q.logInfo("Performance Summary :: "+this._areaName+" :: "+this._scenario),q.logInfo(JSON.stringify(this.getTelemetry(),null,2))},e}();t.Performance=N,o.tfsModuleLoaded("VSS.Diag",t)}),define("VSS/Resources/VSS.Resources.Common",["require","exports","VSS/VSS"],function(e,t,r){t.InternalServerError="Internal server error:",t.FollowingErrors="The following error(s) occurred:",t.InvalidErrorParameter="Invalid error parameter",t.PageTitle="Microsoft Team Foundation Server",t.PageTitle_Hosted="Microsoft Visual Studio Team Services",t.PageTitleCollectionHome="{0} project collection",t.PageTitleProjectHome="{0} project",t.PageTitleServerHome="Welcome to Team Foundation Server",t.PageTitleWithContent="{0} - Microsoft Team Foundation Server",t.PageTitleWithContent_Hosted="{0} - Visual Studio Team Services",t.InvalidParameterFormat="Format of the parameter '{0}' is invalid.",t.CollectionProjects="{0} projects",t.MoreCollectionProjects="More {0} projects...",t.MoreMyCollections="More my collections...",t.MoreMyProjects="More my projects...",t.MoreMyTeams="More my teams...",t.MoreProjectTeams="More {0} teams",t.NavigationContentMenuItem_Account="Your account",t.NavigationContentMenuItem_Instance="Team Foundation Server",t.NavigationContentMenuItem_Team="Team",t.NavigationContentMenuItem_TeamProject="Project",t.NavigationContentMenuItem_TeamProjectCollection="Collection",t.NotAMemberOfATeam="You are not a member of a team.",t.ProjectTeams="{0} teams",t.InvalidParameter="Parameter '{0}' is invalid",t.AjaxRequestFailedWithStatus="Ajax request failed with status: {0}.",t.AjaxRequestTimedOut="Ajax request has been timed out.",t.NetworkConnectionUnavailable="TF400893: Unable to contact the server. This is most likely caused by a network error. Please check your connection and try again.",t.UnsavedChanges="You have unsaved changes.",t.SendMailAttachments="Attachments",t.SendMailFrom="From",t.SendMailNotEnabled="Sending email is not enabled. Please contact your administrator.",t.SendMailSendButton="Send",t.SendMailSpecifyToAddress="There must be at least one email address for To field.",t.SendMailSubject="Subject",t.SendMailTitle="Send mail",t.SendMailTo="To",t.CloseBrowserToCompleteSignoutMessage="You must close your browser to complete the sign out process.",t.CloseBrowserToCompleteSignoutWarning="Sign out: close browser to complete sign out",t.Home="Home",t.NotAuthorizedToAccessPage="TF400894: You are not authorized to access this page. Please contact your project administrator.",t.SignInAsDifferentUser="Sign in as...",t.SignOut="Sign out",t.MyWork="My work",t.OtherCollections="Other collections",t.SendMailNoSubjectWarning="Are you sure you want to send this mail without a subject?",t.UnableToAccessCollectionFromCompatUrl="TF400895: Unable to access collection specified : {0}",t.Application_NoTeamProjects="There are no team projects.",t.Application_SelectTeamProject="To get started, select the team project you want to connect to.",t.Application_TeamProjects="Team projects ({0})",t.Backlog="Backlog",t.Board="Board",t.Header_Administration="Administration",t.Header_ExitAdministration="Exit administration",t.SearchWorkItems="Search work items",t.ManageTeamMembers="Manage team members",t.Members="Members",t.Project_Teams="{0} teams ({1})",t.Security="Security",t.Settings="Settings",t.Administration="Administration",t.ManageScheduleIterations="Manage schedule and iterations",t.ManageWorkAreas="Manage work areas",t.Team_Members="Members ({0})",t.ViewBacklog="View backlog",t.ViewTaskBoard="View task board",t.WorkItems="Work items",t.ManageProfile="My profile",t.FetchingSearches="Fetching recent searches",t.AddSearchFilterAssignedTo="Assigned to:",t.InvalidLicenseException="TF400409: You do not have licensing rights to access this feature: {0}",t.AddSearchFilterCreatedBy="Created by:",t.AddSearchFilterState="State:",t.AddSearchFilterType="Work item type:",t.BuildTitle="Build",t.SourceControlTitle="Source",t.ProjectDoesNotExistOrNoAccess="TF400896: The project with guid {0} does not exist or you do not have access.",t.AllItemsText="All",t.SidebarSearchWatermark="Search...",t.Activities="Activities",t.ManageProjectGroups="Manage teams and project groups",t.ManageProjectMembers="Manage project members",t.ManageSecurity="Manage security",t.ManageTeams="Manage teams",t.ViewQueries="View queries",t.InvalidArtifactUri="TF400897: Invalid artifact uri: {0}",t.RequiredFieldWatermark="Required...",t.MenuItemsLoading="Loading...",t.MyFavorites="My favorites",t.AgoADay="a day ago",t.AgoAMinute="a minute ago",t.AgoAMonth="a month ago",t.AgoAnHour="an hour ago",t.AgoAWeek="a week ago",t.AgoAYear="a year ago",t.AgoDays="{0} days ago",t.AgoHours="{0} hours ago",t.AgoLessThanAMinute="just now",t.AgoMinutes="{0} minutes ago",t.AgoMonths="{0} months ago",t.AgoWeeks="{0} weeks ago",t.AgoYears="{0} years ago",t.InvalidZipArchiveFile="TF400900: Invalid zip archive file : {0}",t.DefaultThemeName="Default",t.Header_Community="Community",t.Header_Support="Support",t.AddASearchFilter="Add a search filter",t.UnknownArtifactType="Unknow artifact type: {0}",t.NotSupportedBrowser="Your browser is not supported",t.NotSupportedBrowserMessage='<h2>Microsoft Team Foundation is designed for you, but maybe not for your browser.</h2>\r\n<p>Some Microsoft Team Foundation features might not work correctly with the version of the web browser you\'re currently using.</p>\r\n<p>To get the most out of Team Foundation, we recommend that you take a few minutes to upgrade to the current version of one of these browsers:<br>\r\n  <ul>\r\n	<li><a href="http://windows.microsoft.com/en-US/internet-explorer/downloads/ie">Windows Internet Explorer</a></li>\r\n	<li><a href="http://www.mozilla.com/en-US/firefox/new/">Mozilla Firefox</a></li>\r\n	<li><a href="http://www.google.com/chrome">Google Chrome</a></li>\r\n	<li><a href="http://www.apple.com/safari/">Safari</a></li>\r\n  <ul>\r\n</p>',t.ProjectNotFound="TF400901: Project not found: {0}",t.AutomaticCulture="Browser",t.ServerTimeZone="Server: {0}",t.HubGroupBuild="Build",t.HubGroupHome="Home",t.HubGroupSource="Code",t.HubGroupWorkItems="Work",t.HubGroupAdmin="Administration",t.CancelText="Cancel",t.GoToProjectPortal="Go to project portal",t.ViewProcessGuidance="View process guidance",t.ViewReports="View reports",t.NavigationContextMenuDefaultLabel="Projects",t.NavigationContextMenuDefaultLabelTitle="Select a project",t.NavigationContextMenuProjectLabelTitleFormat="Project '{0}'",t.NavigationContextMenuTeamLabelFormat="{0} / {1}",t.NavigationContextMenuTeamLabelTitleFormat="Team '{0}' in Project '{1}'",t.ManageAlerts="My alerts",t.NavigationAdminMenuItemFormat="Administer {0}",t.NavigationRecentProjectsAndTeams="Recent projects and teams",t.JobFailed="TF400902: There was a failure executing the job. Job Id for the failed creation:{0}",t.ErrorMissingManifestFileFormat="TF400903: Could not find manifest file ({0}) in the plugin archive",t.ErrorNoPluginElementsFormat="TF400904: No plugin elements ({0}) were found in the plugin manifest file",t.ErrorPluginElementMissingNameFormat='TF400905: A plugin element ({0}) was found with no "{1}" attribute',t.ErrorPluginNotFound="TF400906: The plugin {0} could not be found",t.UnkownCompatibilityUrl="TF400907: The URL specified appears to be from an earlier version of Web Access.  The format was not recognized : {0}",t.UnsavedChangesMore="more...",t.UnsavedChangesWithNames="You have unsaved changes:",t.NewMenuTitle="New",t.ProjectTitleFormat="{0}",t.TeamTitleFormat="{0} / {1}",t.TeamHomeActivitesTitle="Activities",t.TeamHomeConfigureAreas="Configure work areas...",t.TeamHomeConfigureIterations="Configure schedule and iterations...",t.TeamHomeManageMembers="Manage all members...",t.TeamHomeManageTeams="Manage teams...",t.TeamHomeMembersTitleFormat="Members ({0})",t.TeamHomeProjectAdminTitle="Administration",t.TeamHomeShowAllMembers="Show all members",t.TeamHomeShowLessMembers="Show less members",t.TeamHomeTeamsTitle="Teams",t.TeamHomeViewBacklog="View backlog",t.TeamHomeViewBoard="View board",t.TeamHomeViewQueries="View queries",t.TeamHomeCreateWorkItemLink="+ {0}",t.TeamHomeWorkItemCreatedMessage="{0} created {1}",t.RequestFeedback="Request feedback",t.TeamHomeMoreWorkItemTypes="more",t.WelcomePageBrowseAll="Browse all...",t.WelcomePageCreateProjectDescription="Add a team project to a team  project collection.",t.WelcomePageCreateProjectTitle="Create a team project",t.WelcomePageGettingStarted="Getting started",t.WelcomePageRecentItems="Recent projects and teams",t.WelcomePageServerAdministrationDescription="Manage team project collections, team projects, users, groups, and permissions.",t.WelcomePageSubmitFeedbackDescription="Provide suggestions for how we can improve Team Web Access and Team Foundation Server.",t.WelcomePageSubmitFeedbackTitle="Make a suggestion",t.WelcomePageViewOnlineHelpDescription="Access online help for Visual Studio Application Lifecycle Management and Team Foundation Server.",t.WelcomePageViewOnlineHelpTitle="Visit the MSDN Library",t.WelcomePageVisitGalleryDescription="Access extensions, process templates, and power tools for Visual Studio and Team Foundation Server.",t.WelcomePageVisitGalleryTitle="Visit the Visual Studio Gallery",t.TeamHomeOpeningWorkItemForm="Opening work item form...",t.TeamHomeLoadingActivities="Loading activities...",t.TeamHomeLoadingMembers="Loading team members...",t.ControlPanel="Control panel",t.PinnedItemsTitle="Pinned Items",t.InvalidEmailAddressFormat="The following email address is not valid: '{0}'. Please specify a valid email address in the form 'user@host' or 'Display name <user@host>'.",t.TeamContextNotFound="TF400909: There is no team context.",t.PinningBlankSlateMessage="Pin items to the homepage to display them here as tiles. You can pin work item queries, work item charts, build definitions and version control paths to the homepage.",t.ImageOf="Image of {0}",t.NavigationContextMenuBackToWelcomePage="Back to Welcome Page",t.TileLoading="loading...",t.GettingStartedAccountActive="The account is active and ready for use.  Please save the above Url for your records.",t.GettingStartedPatchLink="Download software",t.GettingStartedPatchText="Download and install the software necessary to connect to your team project from Visual Studio, Eclipse, Excel, or Microsoft Test Manager.",t.GettingStartedTeamProject="Create a team project",t.GettingStartedTeamProjectPart1="When your account is ready, you will then be able to create a new team project for your team to collaborate in.",t.GettingStartedTeamProjectPart2="Create a new team project for your team to collaborate in.",t.GettingStartedTutorialFeedback="Make a suggestion",t.GettingStartedTutorialFeedbackDesc="Provide suggestions for how we can improve our Visual Studio Team Services.",t.GettingStartedTutorialLink="Beginner's guide",t.GettingStartedTutorialText="A step-by-step guide to help you get up and running now.",t.GettingStartedViewOnlineHelp="Learn more, dig deeper",t.GettingStartedCreateCollectionProgressPart1="We are currently creating your first collection and finalizing your account configuration.",t.GettingStartedCreatingCollection="Creating collection...",t.GettingStartedErrorCreatingCollection="TF400910: There was an error creating the collection. Contact our support team by visiting http://www.visualstudio.com/support-overview-vs",t.GettingStartedErrorCreatingProject="TF400911: There was an error creating the project. Please try again and if the problem persists <a href=\"http://go.microsoft.com/fwlink/?LinkId=534538\" target='_blank'>contact our support team</a>",t.GettingStartedProgressNotStarted="Scheduling collection creation...",t.GettingStartedRetryCollectionCreationLink="Retry collection creation",t.GettingStartedRetryTeamProjectCreationLink="Retry team project creation",t.HostedWelcomePageTitle="Welcome to Visual Studio Team Services",t.RetrievingWorkItemTypes="Retrieving work item types...",t.WelcomePageNoRecentProjects="You haven't recently visited any project or teams.",t.WelcomePageProjectConnectionMessage='Click "Browse all..." to connect to a project.',t.PluginNotFound='TF400912: Could not find plugin with name "{0}".',t.RemoveMRUTeamTitle="Remove from this list",t.RemoveFromRecentItems="Remove from recent items",t.NoFilesSelected="No files were selected to be uploaded.",t.BrowseAllTeams="Browse all",t.ErrorPluginNameInvalidCharsFormat="Invalid character(s) in the plugin name. Plugin name can contain only letters, digits, space and the following characters:\r\n\r\n    {0}",t.InvalidCallbackName="Callback name contains invalid characters.",t.InvalidArgumentValue="Invalid argument value.",t.AgileBoardsFeatureDescription="Agile project management taskboards",t.AgileBoardsFeatureName="Agile boards",t.BacklogManagementFeatureDescription="Basic agile project management product and sprint backlog",t.BacklogManagementFeatureName="Basic backlog and sprint planning tools",t.FeedbackFeatureDescription="Solicit feedback",t.FeedbackFeatureName="Request and Manage Feedback",t.OpenVisualStudio="Open new instance of Visual Studio",t.ImageSizeTooLarge="Uploaded image exceeds maximum size.",t.InvalidContentType="The uploaded file must be an image.",t.NoImageDataUploaded="No image data uploaded.",t.HighContrastThemeName="High contrast",t.ErrorDuplicateRouteArea="TF400913: RoutingArea '{0}' already registered.",t.TeamDoesNotExistOrNoAccess="TF400914: The specified team, {0}, either does not exist or you do not have access to it.",t.RequireOnPremiseDeploymentError="TF400915: This service is not available.",t.FeatureEnablementSettings_Error_Invalid="TF400916: The current configuration is not valid for this feature. This feature cannot be used until a Team Foundation Administrator corrects the configuration.",t.FeatureEnablementSettings_Error_Invalid_Admin="TF400917: The current configuration is not valid for this feature. This feature cannot be used until you correct the configuration.",t.FeatureEnablementSettings_Error_LinkText_Invalid_Admin="Learn about how to correct your configuration",t.FeatureEnablementSettings_Error_LinkText_Missing_Admin="Configure feature",t.FeatureEnablementSettings_Error_Link_Invalid_Admin="http://go.microsoft.com/fwlink/?LinkId=298890",t.FeatureEnablementSettings_Error_Missing="This feature cannot be used until a Team Foundation Administrator configures it for this team project.",t.FeatureEnablementSettings_Error_Missing_Admin="This feature cannot be used until you configure it for this team project.",t.EmailExceedsMaxBodySizeLimit="TF400582: The email body exceeds the maximum allowed size of {0} KB. Reduce the contents of the email body and try again.",t.CDNDisclaimer="Third party scripts and code linked to or referenced from this website are licensed to you by the parties that own such code, not by Microsoft.  See ASP.NET Ajax CDN Terms of Use  http://www.asp.net/ajaxlibrary/CDN.ashx.",t.CollapseAll="Collapse all",t.CollapseAllToolTip="Collapse all",t.ExpandAll="Expand all",t.ExpandAllToolTip="Expand all",t.ActionsTitle="Actions",t.HubGroupTest="Test",t.HubGroupRelease="Release",t.ExternalControlLoading="Loading...",t.HelpMenuLabel="Help",t.TeamFoundationServerName="Team Foundation Server 2015",t.TeamFoundationServiceName="Visual Studio Team Services",t.NavigationContextMenuHostedBackTo="Account home",t.NavigationContextMenuOnPremBackTo="Server home",t.NavigationHelpMenuGettingStarted="Getting started",t.NavigationHelpMenuMsdn="MSDN",t.AccountTimeZone="Account: {0}",t.ExtensionErrorAdditionalSteps="You can try checking your network connection and refreshing this page.",t.ExtensionErrorBody="We were unable to load a TFS extension. To load this component, please ensure that you are able to access the following url: <br /><a />",t.ExtensionErrorHeader="Failed to load extension",t.ExtensionSlowLoadWarningBody="It is taking a long time to load the TFS extension content from the following url: <br /><a />",t.ExtensionSlowLoadWarningHeader="A TFS extension is loading slowly. Expand details to view options.",t.ExtensionDoesNotExist="Extension does not exist.",t.InvalidExtensionManifest="Extension manifest file format is invalid. ",t.XmlSchemaErrorLine="({0},{1}) {2}",t.ExtensionsDisabledMessage="Extensions are disabled.",t.PersonalExtensionsDisabledMessage="Personal extensions are disabled.",t.NavigationViewUnknownTabErrorFormat="Could not find navigation tab with id: {0}.",t.Filter="Filter",t.FilterToolTip="Filter",t.Header_Privacy="Privacy policy",t.Header_About="About",t.TestManagementFeatureDescription="Web-based Test Case Management functionality.",t.Save="Save",t.TestManagementFeatureName="Web-based Test Case Management",t.HomePageUpgradeToFullVersionMessage="Visual Studio Team Services is live! Up to 5 users are free, plus for a limited time all use is free. <a href='http://go.microsoft.com/fwlink/?LinkID=269576' target='_blank'>Learn more</a>.",t.Asterix="*",t.ErrorSendEmail="TF400969: An error occurred while attempting to send the email. Retry at a later time.",t.ConfirmToDiscardEditedEmail="Leaving this page will discard the email. Do you want to exit?",t.NewTeamProjectText="New team project",t.YouAreAlmostThereMessagePart1="Welcome to Visual Studio Team Services!",t.YouAreAlmostThereMessagePart2="Click the {0}New Team Project{1} button below to create your first project. ",t.YouAreAlmostThereMessagePart3="The {0}beginners guide{1} has a step-by-step walkthrough on how to upload your source code, setup a build, and start managing your work.  Youre almost there",t.SendMailWarning="Unable to send message to the following recipients: {0}\r\nPreferred Email address is not configured within the users profile.",t.GitSupport="Git support",t.LearnGitMessage="Learn how you can use the Git distributed version control system in your team projects.",t.NewTeamProjectGitText="New team project + Git",t.InvalidEmailWithEmail="Please enter a valid email address ({0}).",t.UnableToFindWindowsIdentity="Unable to find Windows identity for {0}",t.ChatRoomsFeatureDescription="Team rooms enabling real time communication",t.ChatRoomsFeatureName="Team rooms",t.NewBacklogItem="New",t.NewBacklogItemToolTip="Add an item to this backlog",t.TestMailFailure="Error sending email message. Exception details: {0}",t.TestMailMessage="This message was sent to verify TFS email settings.",t.TestMailSuccess="Email was successfully sent from TFS to the configured SMTP server.",t.TestMailTitle="Test Mail Settings",t.ReleaseManagementFeatureDescription="Create and Manage Releases",t.ReleaseManagementFeatureName="Create and Manage Releases",t.ReleaseManagementAdvancedFeatureDescription="Author Release Definitions",t.ReleaseManagementAdvancedFeatureName="Author Release Definitions",t.PortfolioBacklogManagementFeatureDescription="Create a portfolio of features and initiatives and trace your product backlog items to portfolio items.",t.PortfolioBacklogManagementFeatureName="Agile Portfolio Management",t.ChartViewingFeatureDescription="View custom charts of your work item data.",t.ChartViewingFeatureName="Chart Viewing",t.ChartAuthoringFeatureDescription="Create customized charts to view and visualize your work item data.",t.ChartAuthoringFeatureName="Chart Authoring",t.AdministerAccount="Manage account",t.AdministerServer="Manage server",t.Header_WelcomePortal="Visual Studio Team Services",t.PageNotFound="Page not found.",t.NoCollectionSpecifiedInCompatUrl="TF401198: No project collection specified in the request.",t.CreateProjectBladeSubTitle="Create a team project for Visual Studio Team Foundation Server.",t.CreateProjectBladeTitle="Your new Team Project is almost ready.",t.CreateProjectFailed="Create Project Failed",t.CreateTeamProjectNoSubError="No subscriptions available to create project edit scope",t.CreateTeamProjectPartDesc="Create a team project for Visual Studio Team Foundation Service",t.CreateTeamProjectPartShortTitle="Team Project",t.CreateTeamProjectPartTitle="Team Project",t.CreateTeamProjectTitle="Create Team Project",t.NewTeamProjectProjectPickerItem="New Team Project",t.NoResultsToDisplay="There are no results to display.",t.OpenInVisualStudioPartDesc="Open this Team Project in Visual Studio",t.OpenInVisualStudioPartShortTitle="Open in VS",t.OpenInVisualStudioPartTitle="Open in Visual Studio",t.ProcessTemplateProperty="Process template:",t.ProjectHomeBladeSubTitle="Team Project",t.ProjectHomeBladeTitle="Team Project",t.ProjectPickerBladeTitle="Choose project",t.ProjectQuickStartDesc="Kick-start your project with these tools and tips",t.ProjectQuickStartTitle="Your Team Project's up",t.PropertiesPartTitle="Properties",t.SourcePropertiesGitUrl="Git repository URL",t.SourcePropertiesPartTitle="Source",t.SourceQuickStartBladeSubTitle="Use your favorite tool to publish your project",t.SourceQuickStartBladeTitle="Add some code",t.TeamProjectSubHeader="Team Project",t.VersionControlProperty="Version control:",t.AccountHomePage_ShowAboutTFSHosted_VSO="Display About Visual Studio Team Services",t.AccountHomePage_ShowAboutTFSHosted="Display About Visual Studio Team Services",t.AccountHomePage_ShowAboutTFSOnPerm="Display About Team Foundation Server",t.TeamHomePage_ShowHowTo="Display How to",t.CreateFirstProject="Create your first team project",t.CreateFirstProjectWelcomeText="Welcome.  Your account, <a href='{0}' target='_blank'>{0}</a>, is created and ready to go.  Now create your first team project where youll host your code and backlog. ",t.LearnMore="Learn more",t.FirstProjectConfirmationHeader="Your new project, {0}, is ready!",t.FirstProjectConfirmationLearn="Are you ready to write some code?  Get started by connecting your project directly to {0}, or learn how to connect with {1}, or {2}.  We think you and your team are going to absolutely love this.",t.OpenWithVisualStudio="Open with Visual Studio to connect",t.OpenWithVisualStudioTooltip="Open Visual Studio and connect Team Explorer to this project.",t.Eclipse="Eclipse",t.VisualStudio="Visual Studio",t.XCode="XCode",t.RequiresVS2012="Requires Visual Studio 2013+",t.ProjectCreationError="There was an error creating your project. Please {0}.",t.ProjectCreationErrorTryAgain="try again",t.ProjectNameInvalid="The project name is not valid.",t.ProjectNameNotSpecified="Project name must be specified.",t.TrialModeReminderMessage="All features have been enabled during your trial. This trial will end {0}. <a href='{1}' target='_blank'>Learn more</a>.",t.TrialModeReminderMessage_MultipleDays="in <b>{0} days</b>",t.TrialModeReminderMessage_Today="<b>today</b>",t.PinnedItemsTileInfoMessage="You can pin builds, version control paths, work item queries and charts to the team homepage to display them as tiles.",t.ResourceUsageBlockedNoSubscription="Your account has used all the free quantity of this resource. Click Learn more above to set up billing for your account.",t.ResourceUsageBlockedWithSubscription="Your account has used all the free quantity of this resource. Click Learn more above to enable paid resources.",t.ResourceUsageBuildName="Build",t.ResourceUsageBuildUnit="minutes",t.ResourceUsageLoadTestingName="Load Testing",t.ResourceUsageLoadTestingUnit="virtual user minutes",t.TrialFeatureUrl="http://go.microsoft.com/fwlink/?LinkID=325554",t.TrialFeatureExpiredUrl="http://go.microsoft.com/fwlink/?LinkID=328611",t.TrialModeReminderMessage_OneDay="in <b>{0} day</b>",t.AccountHomePage_ShowAnnouncements="Display all announcements",t.AccountNameCreateInfoMessage="This will be the account name on your vanity URL, i.e., accountname.visualstudio.com",t.AccountNameLabel="Account Name",t.AccountNameWatermark="Enter account name...",t.BranchToDeployLabel="Branch to Deploy",t.BranchToDeployMessage="Since your repository does not yet have a branch created, we will automatically use the first branch you create for deployments.",t.ChooseProjectWizardStepLabel="Choose Project",t.ChooseWebsiteWizardStepLabel="Choose Website",t.ConfigureOptionsWizardStepLabel="Configure Options",t.CreateDeploymentPartShortTitle="Create Deployment",t.CreateProjectFailedMessage="Create Project Failed",t.ProcessTemplateLabel="Process Template",t.ProjectNameLabel="Name",t.ScrumTemplateInfoMessage="Scrum is an iterative, incremental framework for project management and agile software development. This template includes work items and reports to help your Scrum team be successful.",t.SetUpContinuousDeploymentPartTitle="Set Up Continuous Deployment",t.SetupDeploymentDescription="Build, test, and deploy your website automatically when you check in code.",t.SubscriptionLabel="Subscription",t.TeamProjectWatermark="Enter team project name...",t.TfsAccountBoundToSubscriptionMessage="This TFS account is already bound to your subscription.",t.VersionControlLabel="Version Control",t.EarlyAdopterAccountLearnMoreUrl="http://go.microsoft.com/fwlink/?LinkID=330423",t.EarlyAdopterModeReminderMessage_MultipleDays="Your account is an Early Adopter account. In <b>{0} days</b> your account will revert to a standard account. <a href='{1}' target='_blank'>Learn more</a>.",t.EarlyAdopterModeReminderMessage_OneDay="Your account is an Early Adopter account. In <b>{0} day</b> your account will revert to a standard account. <a href='{1}' target='_blank'>Learn more</a>.",t.EarlyAdopterModeReminderMessage_Today="Your account is an Early Adopter account. <b>Today</b> your account will revert to a standard account. <a href='{0}' target='_blank'>Learn more</a>.",
t.EllipsisMenuTitle="Configure",t.ChartEllipsisMenuTitle="Configure chart",t.TileEllipsisMenuTitle="Configure tile",t.CodeFeatureName="Code",t.CodeFeatureDescription="Code repository functionality.",t.BuildFeatureName="Build",t.BuildFeatureDescription="Build services.",t.AdminFeatureName="Administer account",t.AdminFeatureDescription="Administer account and team projects.",t.AdvancedHomePageFeatureName="Advanced home page",t.AdvancedHomePageFeatureDescription="Advanced home page.",t.AdvancedBacklogManagementFeatureName="Advanced backlog and sprint planning tools",t.AdvancedBacklogManagementFeatureDescription="Advanced backlog and sprint planning tools.",t.AdvancedPortfolioBacklogManagementFeatureName="Advanced portfolio management",t.AdvancedPortfolioBacklogManagementFeatureDescription="Advanced portfolio management.",t.StakeholderReminderLink="http://go.microsoft.com/fwlink/?LinkID=402656",t.StakeholderReminderLinkText="Learn more",t.StakeholderReminderMessage="As a stakeholder, you can access the backlog, task and Kanban boards, and work items. {0}.",t.StakeholderReminderMessageWithReleaseManagement="As a stakeholder, you can access the backlog, task and Kanban boards, work items and manage approvals for Releases. {0}.",t.StakeholderExpiredLicenseReminderLink="http://go.microsoft.com/fwlink/?LinkID=403541",t.StakeholderExpiredLicenseReminderLinkText="Learn more",t.HtmlContentMsdnEligible='<span class="refresh-action" ><b>Retry</b></span>',t.StakeholderMsdnEligibleReminderMessage='<div class="stakeholder-license-message"> We could not verify your Visual Studio subscription so weve downgraded you to Stakeholder. Please visit our <a href="http://go.microsoft.com/fwlink/?LinkID=733421&clcid=0x409"><b>troubleshooting page</b></a> for more details then click here to {0} </div>',t.StakeholderMsdnExpiredReminderMessage='Your MSDN subscription has expired. You will be assigned a <a href="http://go.microsoft.com/fwlink/?LinkID=403541">Stakeholder license</a> temporarily. Check your MSDN subscription status at <a href="http://go.microsoft.com/fwlink/?LinkID=513087">My Account portal</a>.',t.StakeholderAccountExpiredReminderMessage='Your current license {0} has expired. You will be assigned a <a href="http://go.microsoft.com/fwlink/?LinkID=403541">Stakeholder license</a> temporarily. Please contact your account administrator.',t.WebApiUndefinedRequestError="An undefined error occurred while attempting to connect to the server. Status code {0}: {1}.",t.TestManagementForBasicUsersFeatureDescription="Run tests assigned to you using the web-based Test Runner.",t.TestManagementForBasicUsersFeatureName="Web-based Test Execution",t.TeamSettings_BugsBehaviorManualCorrectionStepsLink="http://go.microsoft.com/fwlink/?LinkId=512868",t.TeamSettings_BacklogLevelsManualCorrectionStepsLink="http://go.microsoft.com/fwlink/?LinkId=615175",t.TeamSettings_ManualCorrectionStepsLinkText="learn how to correct your configuration manually",t.TimeStampDayAt="{0} at {1}",t.TimeStampFullDate="{0}, {1}",t.TimeStampTodayAt="Today at {0}",t.TimeStampYesterdayAt="Yesterday at {0}",t.TeamProjectRenamedGlobalMessage="The team project {0} has been renamed to {1}",t.HubGroupDashboards="Dashboards",t.TestManagementForExpressSkuFeatureDescription="Analyze test results and manage machine groups.",t.TestManagementForExpressSkuFeatureName="Analyze test results and manage machine groups",t.FullOnPremProductName="Visual Studio Team Foundation Server 2016",t.FeedbackMenuHint="Feedback",t.ManageExtensions="Manage extensions",t.ManageProject="Manage project",t.ManageTeam="Manage team",t.BrowseTheMarketplace="Browse Marketplace",t.Marketplace="Marketplace",t.Header_KeyboardShortcuts="Keyboard shortcuts",t.ReleaseManagementStakeholderDescription="View Releases and Manage Approvals",t.ReleaseManagementStakeholderName="View Releases and Manage Approvals",t.BrowseForExtensions="Browse for extensions",t.Gallery="Available extensions",r.tfsModuleLoaded("VSS.Resources.Common",t)}),define("VSS/Utils/Culture",["require","exports","VSS/Context"],function(e,t,r){function o(){return p||(p={name:"en-US",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"$",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, MMMM dd, yyyy h:mm:ss tt",LongDatePattern:"dddd, MMMM dd, yyyy",LongTimePattern:"h:mm:ss tt",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"M/d/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"MMMM, yyyy",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],eras:[1,"A.D.",null,0]}}),p}function n(){if(!c){var e=r.getPageContext().microsoftAjaxConfig;e&&e.cultureInfo?(c=e.cultureInfo,e.cultureInfo.eras&&(c.dateTimeFormat.eras=e.cultureInfo.eras)):c=o()}return c}function i(){return n().name}function a(){return n().numberFormat}function s(){return n().dateTimeFormat}var c,p;t.getInvariantCulture=o,t.getCurrentCulture=n,t.getCurrentCultureName=i,t.getNumberFormat=a,t.getDateTimeFormat=s}),define("VSS/Utils/String",["require","exports","VSS/Utils/Culture"],function(e,t,r){function o(e,t,r){var o;return null===e||void 0===e?"":(o=r?e.toLocaleString():e.toString(),t&&(o=r?o.toLocaleUpperCase():o.toUpperCase()),o)}function n(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML.replace(/"/g,"&quot;")}function a(e){return $("<div/>").html(e).html()}function s(e){return $("<div/>").html(e).text()}function c(e){return n(e).replace(/(\r\n|\n|\r)/gm,"<br/>")}function p(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():e}function u(e,t){if(e===t)return 0;var r=o(e,!1,!1),n=o(t,!1,!1);return r===n?0:r>n?1:-1}function l(e,t){if(e===t)return 0;var r=o(e,!0,!1),n=o(t,!0,!1);return r===n?0:r>n?1:-1}function d(e,t){if(e===t)return 0;var r=o(e,!1,!0),n=o(t,!1,!0);return r.localeCompare(n)}function f(e,t){if(e===t)return 0;var r=o(e,!0,!0),n=o(t,!0,!0);return r.localeCompare(n)}function m(e,t,r){return void 0===r&&(r=!1),r?0===f(e,t):0===d(e,t)}function g(e,t,r){return r=r||u,0===r(t,e.substr(0,t.length))}function y(e,t,r){return r=r||u,0===r(t,e.substr(e.length-t.length,t.length))}function h(e,t){return-1!==e.toLowerCase().indexOf(t.toLowerCase())}function T(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return v(!1,e,t)}function I(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return v(!0,e,t)}function v(e,t,r){for(var o="",n=0;;){var i=t.indexOf("{",n),a=t.indexOf("}",n);if(0>i&&0>a){o+=t.slice(n);break}if(a>0&&(i>a||0>i)){if("}"!==t.charAt(a+1))throw new Error("The format string contains an unmatched opening or closing brace.");o+=t.slice(n,a+1),n=a+2}else if(o+=t.slice(n,i),n=i+1,"{"!==t.charAt(n)){if(0>a)throw new Error("The format string contains an unmatched opening or closing brace.");var s=t.substring(n,a),c=s.indexOf(":"),p=parseInt(0>c?s:s.substring(0,c),10);if(isNaN(p))throw new Error("The format string is invalid.");var u=0>c?"":s.substring(c+1),l=r[p];("undefined"==typeof l||null===l)&&(l=""),o+=l.toFormattedString?l.toFormattedString(u):"number"==typeof l?b(l,e,u):l instanceof Date?S(l,e,u):l.format?l.format(u):l.toString(),n=a+1}else o+="{",n++}return o}function S(e,t,r){return E.dateToString(e,t,r)}function b(e,t,r){return L.numberToString(e,t,r)}function C(e,t,r){return E.parseDateString(e,t,r)}function k(e){return D.test(e)}function w(e){return F.test(e)}function R(e){return"function"==typeof window.btoa?window.btoa(e):A(e)}function A(e){for(var t,r,o,n=0,i=e.length,a=[];i>n;)t=e.charCodeAt(n),r=e.charCodeAt(n+1),o=e.charCodeAt(n+2),a.push(x.charAt(t>>2)),a.push(x.charAt((3&t)<<4|r>>4)),a.push(x.charAt(isNaN(r)?64:(15&r)<<2|o>>6)),a.push(x.charAt(isNaN(o)?64:63&o)),n+=3;return a.join("")}function M(e){var t=/^\{?([\dA-F]{8})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{4})-?([\dA-F]{12})\}?$/i;return t.test(e)}function _(e){return 0===l(e,t.EmptyGuidString)}function V(){var e;if(window.crypto&&window.crypto.getRandomValues){var t=new Uint8Array(32);window.crypto.getRandomValues(t);var r=0;e=function(){return t[r++]%16}}else e=function(){return 16*Math.random()|0};var o="nnnnnnnn-nnnn-4nnn-snnn-nnnnnnnnnnnn";return o.replace(/[ns]/g,function(t){var r=0|e(),o="n"==t?r:3&r|8;return o.toString(16)})}function P(e,t,r,o){var n={part1:e,part2:null,match:!1};if(e&&t){var i,a=r?e.toLowerCase():e,s=r?t.toLowerCase():t;i=o?a.lastIndexOf(s):a.indexOf(s),i>=0&&(n.part1=e.substr(0,i),n.part2=e.substr(i+t.length),n.match=!0)}return n}var D=(Array.prototype.slice,/[\u0000-\u0008\u000B\u000C\u000E-\u001F\u007F-\u009F]/),F=/(^[\uD800-\uDFFF]$)|[^\uD800-\uDBFF](?=[\uDC00-\uDFFF])|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/;t.EmptyGuidString="00000000-0000-0000-0000-000000000000",t.empty="",t.newLine="\r\n",t.tab="	",t.lineFeed="\n",t.htmlEncode=n,t.htmlEncodeJavascriptAttribute=i,t.htmlDecode=a,t.decodeHtmlSpecialChars=s,t.nl2br=c,t.toSentenceCase=p,t.defaultComparer=u,t.ignoreCaseComparer=l,t.localeComparer=d,t.localeIgnoreCaseComparer=f,t.equals=m,t.startsWith=g,t.endsWith=y,t.caseInsensitiveContains=h,t.format=T,t.localeFormat=I,t.dateToString=S,t.numberToString=b,t.parseDateString=C;var E;!function(e){function t(e,t){if(!t)return 0;for(var r,o=e.getTime(),n=0,i=t.length;i>n;n+=4)if(r=t[n+2],null===r||o>=r)return n;return 0}function o(e,t,r,o){var n=e.getFullYear(),i=t.Calendar.convert;return i&&(n=i.fromGregorian(e)[0]),!o&&t.eras&&(n-=t.eras[r+3]),n}function n(e,t){t||(t="F");var r=t.length;if(1===r)switch(t){case"d":return e.ShortDatePattern;case"D":return e.LongDatePattern;case"G":return e.ShortDatePattern+" "+e.LongTimePattern;case"t":return e.ShortTimePattern;case"T":return e.LongTimePattern;case"f":return e.LongDatePattern+" "+e.ShortTimePattern;case"F":return e.FullDateTimePattern;case"M":case"m":return e.MonthDayPattern;case"s":return e.SortableDateTimePattern;case"Y":case"y":return e.YearMonthPattern;default:throw new Error("Input string was not in a correct format.")}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function i(e,i,a){function s(e){return 10>e?"0"+e:e.toString()}function c(e){return 10>e?"00"+e:100>e?"0"+e:e.toString()}function p(e){return 10>e?"000"+e:100>e?"00"+e:1e3>e?"0"+e:e.toString()}function u(e,t){for(var r=0,o=!1,n=0,i=e.length;i>n;n++){var a=e.charAt(n);switch(a){case"'":o?t.append("'"):r++,o=!1;break;case"\\":o&&t.append("\\"),o=!o;break;default:t.append(a),o=!1}}return r}function l(){return v||S?v:(v=k.test(a),S=!0,v)}function d(e,t){if(b)return b[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}var f=i?r.getCurrentCulture().dateTimeFormat:r.getInvariantCulture().dateTimeFormat,m=f.Calendar.convert;if(!a||!a.length||"i"===a){if(!i)return e.toString();if(!m){var g=new Date(e.getTime()),y=t(e,f.eras);return g.setFullYear(o(e,f,y)),g.toLocaleString()}a=f.FullDateTimePattern}var h=f.eras,T="s"===a;a=n(f,a);var I,v,S,b,C=new j,k=/([^d]|^)(d|dd)([^d]|$)/g,w=0,R=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!T&&m&&(b=m.fromGregorian(e));;){var A=R.lastIndex,M=R.exec(a),_=a.slice(A,M?M.index:a.length);if(w+=u(_,C),!M)break;if(w%2!==1)switch(M[0]){case"dddd":C.append(f.DayNames[e.getDay()]);break;case"ddd":C.append(f.AbbreviatedDayNames[e.getDay()]);break;case"dd":v=!0,C.append(s(d(e,2)));break;case"d":v=!0,C.append(d(e,2));break;case"MMMM":C.append(f.MonthGenitiveNames&&l()?f.MonthGenitiveNames[d(e,1)]:f.MonthNames[d(e,1)]);break;case"MMM":C.append(f.AbbreviatedMonthGenitiveNames&&l()?f.AbbreviatedMonthGenitiveNames[d(e,1)]:f.AbbreviatedMonthNames[d(e,1)]);break;case"MM":C.append(s(d(e,1)+1));break;case"M":C.append(d(e,1)+1);break;case"yyyy":C.append(p(b?b[0]:o(e,f,t(e,h),T)));break;case"yy":C.append(s((b?b[0]:o(e,f,t(e,h),T))%100));break;case"y":C.append((b?b[0]:o(e,f,t(e,h),T))%100);break;case"hh":I=e.getHours()%12,0===I&&(I=12),C.append(s(I));break;case"h":I=e.getHours()%12,0===I&&(I=12),C.append(I);break;case"HH":C.append(s(e.getHours()));break;case"H":C.append(e.getHours());break;case"mm":C.append(s(e.getMinutes()));break;case"m":C.append(e.getMinutes());break;case"ss":C.append(s(e.getSeconds()));break;case"s":C.append(e.getSeconds());break;case"tt":C.append(e.getHours()<12?f.AMDesignator:f.PMDesignator);break;case"t":C.append((e.getHours()<12?f.AMDesignator:f.PMDesignator).charAt(0));break;case"f":C.append(c(e.getMilliseconds()).charAt(0));break;case"ff":C.append(c(e.getMilliseconds()).substr(0,2));break;case"fff":C.append(c(e.getMilliseconds()));break;case"z":I=e.getTimezoneOffset()/60,C.append((0>=I?"+":"-")+Math.floor(Math.abs(I)));break;case"zz":I=e.getTimezoneOffset()/60,C.append((0>=I?"+":"-")+s(Math.floor(Math.abs(I))));break;case"zzz":I=e.getTimezoneOffset()/60,C.append((0>=I?"+":"-")+s(Math.floor(Math.abs(I)))+":"+s(Math.abs(e.getTimezoneOffset()%60)));break;case"g":case"gg":f.eras&&C.append(f.eras[t(e,h)+1]);break;case"/":C.append(f.DateSeparator);break;default:new Error("Invalid date format pattern")}else C.append(M[0])}return C.toString()}function a(e,t,r){for(var o=!1,n=0,i=r.length;i>n;n++){var a=r[n];if(a){o=!0;var c=v(e,a,t);if(c)return c}}if(!o){var p=s(t.dateTimeFormat);for(n=0,i=p.length;i>n;n++){var c=v(e,p[n],t);if(c)return c}}return null}function s(e){return[e.MonthDayPattern,e.YearMonthPattern,e.ShortDatePattern,e.ShortTimePattern,e.LongDatePattern,e.LongTimePattern,e.FullDateTimePattern,e.RFC1123Pattern,e.SortableDateTimePattern,e.UniversalSortableDateTimePattern,e.ShortDatePattern+" "+e.LongTimePattern]}function c(e,t){for(var r=0,o=!1,n=0,i=e.length;i>n;n++){var a=e.charAt(n);switch(a){case"'":o?t.append("'"):r++,o=!1;break;case"\\":o&&t.append("\\"),o=!o;break;default:t.append(a),o=!1}}return r}function p(e,r){var n=new Date,i=t(n,e.eras);if(100>r){var a=o(n,e,i);r+=a-a%100,r>e.Calendar.TwoDigitYearMax&&(r-=100)}return r}function u(e,t){if(e._parseRegExp){if(e._parseRegExp[t])return e._parseRegExp[t]}else e._parseRegExp={};var r=n(e,t);r=r.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");for(var o,i=new j("^"),a=[],s=0,p=0,u=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(o=u.exec(r));){var l=r.slice(s,o.index);if(s=u.lastIndex,p+=c(l,i),p%2!==1){switch(o[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":i.append("(\\D+)");break;case"tt":case"t":i.append("(\\D*)");break;case"yyyy":i.append("(\\d{4})");break;case"fff":i.append("(\\d{3})");break;case"ff":i.append("(\\d{2})");break;case"f":i.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":i.append("(\\d\\d?)");break;case"zzz":i.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":i.append("([+-]?\\d\\d?)");break;case"/":i.append("(\\"+e.DateSeparator+")");break;default:throw new Error("Invalid date format pattern.")}a.push(o[0])}else i.append(o[0])}c(r.slice(s),i),i.append("$");var d=i.toString().replace(/\s+/g,"\\s+"),f={regExp:d,groups:a};return e._parseRegExp[t]=f,f}function l(e,t){if("undefined"==typeof t)return-1;for(var r=0,o=e.length;o>r;r++)if("undefined"!=typeof e[r]&&e[r]===t)return r;return-1}function d(e,t,r){var o=I(e),n=l(t,o);return-1===n&&(n=l(r,o)),n}function f(e,t){return e._upperMonths||(e._upperMonths=T(e.dateTimeFormat.MonthNames),e._upperMonthsGenitive=T(e.dateTimeFormat.MonthGenitiveNames)),d(t,e._upperMonths,e._upperMonthsGenitive)}function m(e,t){return e._upperAbbrMonths||(e._upperAbbrMonths=T(e.dateTimeFormat.AbbreviatedMonthNames),e._upperAbbrMonthsGenitive=T(e.dateTimeFormat.AbbreviatedMonthGenitiveNames)),d(t,e._upperAbbrMonths,e._upperAbbrMonthsGenitive)}function y(e,t){return e._upperDays||(e._upperDays=T(e.dateTimeFormat.DayNames)),l(e._upperDays,I(t))}function h(e,t){return e._upperAbbrDays||(e._upperAbbrDays=T(e.dateTimeFormat.AbbreviatedDayNames)),l(e._upperAbbrDays,I(t))}function T(e){for(var t=[],r=0,o=e.length;o>r;r++)t[r]=I(e[r]);return t}function I(e){return e.split("").join(" ").toUpperCase()}function v(e,t,r){e=e.trim();var o=r.dateTimeFormat,n=u(o,t),i=new RegExp(n.regExp).exec(e);if(null===i)return null;for(var a,s=n.groups,c=null,l=null,d=null,T=null,I=null,v=0,S=0,b=0,C=0,k=null,w=!1,R=0,A=s.length;A>R;R++){var M=i[R+1];if(M)switch(s[R]){case"dd":case"d":if(T=parseInt(M,10),1>T||T>31)return null;break;case"MMMM":if(d=f(r,M),0>d||d>11)return null;break;case"MMM":if(d=m(r,M),0>d||d>11)return null;break;case"M":case"MM":if(d=parseInt(M,10)-1,0>d||d>11)return null;break;case"y":case"yy":if(l=p(o,parseInt(M,10)),0>l||l>9999)return null;break;case"yyyy":if(l=parseInt(M,10),0>l||l>9999)return null;break;case"h":case"hh":if(v=parseInt(M,10),12===v&&(v=0),0>v||v>11)return null;break;case"H":case"HH":if(v=parseInt(M,10),0>v||v>23)return null;break;case"m":case"mm":if(S=parseInt(M,10),0>S||S>59)return null;break;case"s":case"ss":if(b=parseInt(M,10),0>b||b>59)return null;break;case"tt":case"t":var _=M.toUpperCase();if(w=_===o.PMDesignator.toUpperCase(),!w&&_!==o.AMDesignator.toUpperCase())return null;break;case"f":if(C=100*parseInt(M,10),0>C||C>999)return null;break;case"ff":if(C=10*parseInt(M,10),0>C||C>999)return null;break;case"fff":if(C=parseInt(M,10),0>C||C>999)return null;break;case"dddd":if(I=y(r,M),0>I||I>6)return null;break;case"ddd":if(I=h(r,M),0>I||I>6)return null;break;case"zzz":var V=M.split(/:/);if(2!==V.length)return null;if(a=parseInt(V[0],10),-12>a||a>13)return null;var P=parseInt(V[1],10);if(0>P||P>59)return null;k=60*a+(g(M,"-")?-P:P);break;case"z":case"zz":if(a=parseInt(M,10),-12>a||a>13)return null;k=60*a;break;case"g":case"gg":var D=M;if(!D||!o.eras)return null;D=D.toLowerCase().trim();for(var F=0,E=o.eras.length;E>F;F+=4)if(D===o.eras[F+1].toLowerCase()){c=F;break}if(null===c)return null}}var L,x=new Date,j=o.Calendar.convert;if(L=j?j.fromGregorian(x)[0]:x.getFullYear(),null===l?l=L:o.eras&&(l+=o.eras[(c||0)+3]),null===d&&(d=0),null===T&&(T=1),j){if(x=j.toGregorian(l,d,T),null===x)return null}else{if(x.setFullYear(l,d,T),x.getDate()!==T)return null;if(null!==I&&x.getDay()!==I)return null}if(w&&12>v&&(v+=12),x.setHours(v,S,b,C),null!==k){var q=x.getMinutes()-(k+x.getTimezoneOffset());x.setHours(x.getHours()+parseInt(q/60,10),q%60)}return x}e.dateToString=i,e.parseDateString=a}(E||(E={}));var L;!function(e){function t(e,t,o){function n(e,t,r){for(var o=e.length;t>o;o++)e=r?"0"+e:e+"0";return e}function i(e,t,r,o,i){var a=r[0],s=1,c=Math.pow(10,t),p=Math.round(e*c)/c;isFinite(p)||(p=e),e=p;var u,l=e.toString(),d="",f=l.split(/e/i);l=f[0],u=f.length>1?parseInt(f[1]):0,f=l.split("."),l=f[0],d=f.length>1?f[1]:"";u>0?(d=n(d,u,!1),l+=d.slice(0,u),d=d.substr(u)):0>u&&(u=-u,l=n(l,u+1,!0),d=l.slice(-u,l.length)+d,l=l.slice(0,-u)),t>0?(d=d.length>t?d.slice(0,t):n(d,t,!1),d=i+d):d="";for(var m=l.length-1,g="";m>=0;){if(0===a||a>m)return g.length>0?l.slice(0,m+1)+o+g+d:l.slice(0,m+1)+d;g=g.length>0?l.slice(m-a+1,m+1)+o+g:l.slice(m-a+1,m+1),m-=a,s<r.length&&(a=r[s],s++)}return l.slice(0,m+1)+o+g+d}if(!o||0===o.length||"i"===o)return t?e.toLocaleString():e.toString();var a,s=["n %","n%","%n"],c=["-n %","-n%","-%n"],p=["(n)","-n","- n","n-","n -"],u=["$n","n$","$ n","n $"],l=["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"],d=t?r.getCurrentCulture().numberFormat:r.getInvariantCulture().numberFormat;o||(o="D");var f=-1;o.length>1&&(f=parseInt(o.slice(1),10));var m;switch(o.charAt(0)){case"d":case"D":m="n",-1!==f?(a=n(""+Math.abs(e),f,!0),0>e&&(a="-"+a)):a=""+e;break;case"c":case"C":m=0>e?l[d.CurrencyNegativePattern]:u[d.CurrencyPositivePattern],-1===f&&(f=d.CurrencyDecimalDigits),a=i(Math.abs(e),f,d.CurrencyGroupSizes,d.CurrencyGroupSeparator,d.CurrencyDecimalSeparator);break;case"n":case"N":m=0>e?p[d.NumberNegativePattern]:"n",-1===f&&(f=d.NumberDecimalDigits),a=i(Math.abs(e),f,d.NumberGroupSizes,d.NumberGroupSeparator,d.NumberDecimalSeparator);break;case"p":case"P":m=0>e?c[d.PercentNegativePattern]:s[d.PercentPositivePattern],-1===f&&(f=d.PercentDecimalDigits),a=i(100*Math.abs(e),f,d.PercentGroupSizes,d.PercentGroupSeparator,d.PercentDecimalSeparator);break;default:throw new Error("Format specifier was invalid.")}for(var g=/n|\$|-|%/g,y="";;){var h=g.lastIndex,T=g.exec(m);if(y+=m.slice(h,T?T.index:m.length),!T)break;switch(T[0]){case"n":y+=a;break;case"$":y+=d.CurrencySymbol;break;case"-":/[1-9]/.test(a)&&(y+=d.NegativeSign);break;case"%":y+=d.PercentSymbol;break;default:throw new Error("Invalid number format pattern")}}return y}e.numberToString=t}(L||(L={})),t.containsControlChars=k,t.containsMismatchedSurrogateChars=w,t.base64Encode=R;var x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.isGuid=M,t.isEmptyGuid=_,t.generateUID=V,t.singleSplit=P;var j=function(){function e(e){this._textBuilder=[],e&&this._textBuilder.push(e)}return e.prototype.append=function(e){this._textBuilder[this._textBuilder.length]=e},e.prototype.appendNewLine=function(){this.append(t.newLine)},e.prototype.toString=function(){return this._textBuilder.join("")},e}();t.StringBuilder=j}),define("VSS/Utils/Date",["require","exports","VSS/Context","VSS/Diag","VSS/Resources/VSS.Resources.Common","VSS/Utils/String"],function(e,t,r,o,n,i){function a(e){var r=e.getTime()-6e4*e.getTimezoneOffset();return r===t.DATETIME_MINDATE_UTC_MS}function s(e,t){return t instanceof Date?t.getTime()-e.getTime():-1}function c(e,t){return null===e||void 0===e?e===t:e instanceof Date&&0===s(e,t)}function p(e){return o.Debug.assertParamIsObject(e,"date"),new Date(e.getTime()+e.getTimezoneOffset()*L)}function u(e){return o.Debug.assertParamIsObject(e,"date"),new Date(e.getTime()-e.getTimezoneOffset()*L)}function l(e,t,r){o.Debug.assertParamIsString(e,"dateString"),o.Debug.assert(void 0===r||"boolean"==typeof r,"ignoreTimeZone");var n,i;return n=f(e,t?[t]:null,r),n||(n=new Date(e)),n instanceof Date&&!isNaN(n)?(i=n.getFullYear(),i>=1900&&2e3>i&&e.indexOf(i)<0&&n.setFullYear(i%100+100*Math.floor((new Date).getFullYear()/100))):n=null,n}function d(e,t,r){return o.Debug.assertParamIsDate(e,"startDate"),o.Debug.assertParamIsDate(t,"endDate"),e=new Date(e.getTime()),e.setHours(0,0,0,0),t=new Date(t.getTime()),t.setHours(0,0,0,0),Math.round(Math.abs(t.getTime()-e.getTime())/j)+(r===!0?0:1)}function f(e,t,r){var o,n,i=[e];return"string"==typeof t?i.push(t):i=i.concat(t),o=D.apply(Date,i),r||!o?o:n=y(o,!0)}function m(e,t,r){var o;return r?F.call(e,t):(o=g(e,!0),F.call(o,t))}function g(e,t){return void 0===t&&(t=!0),h(e,t,!0)}function y(e,t){return void 0===t&&(t=!0),h(e,t,!1)}function h(e,r,o){var n,i,a;n=e.getTime(),i=6e4*e.getTimezoneOffset();var s=t.utcOffset;r&&(s=R(e)),a=o?n+i+s:n-i-s;var c=new Date(a);return r&&R(c)===R(e)&&(c=w(e,c)),c}function T(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function I(){return g(new Date,!1)}function v(){return T(I())}function S(e,t){return Date.prototype.format.call(e,t)}function b(e,t){var r,o,a,s,c,p,u=60,l=60*u,d=24*l,f=7*d,m=365*d/12,g=365*d;for(p=[{limit:u,format:n.AgoLessThanAMinute},{limit:1.5*u,format:n.AgoAMinute},{limit:l,format:n.AgoMinutes,arg:u},{limit:1.5*l,format:n.AgoAnHour},{limit:d,format:n.AgoHours,arg:l},{limit:1.5*d,format:n.AgoADay},{limit:f,format:n.AgoDays,arg:d},{limit:1.5*f,format:n.AgoAWeek},{limit:m,format:n.AgoWeeks,arg:f},{limit:1.5*m,format:n.AgoAMonth},{limit:g,format:n.AgoMonths,arg:m},{limit:1.5*g,format:n.AgoAYear},{limit:Number.POSITIVE_INFINITY,format:n.AgoYears,arg:g}],(null===t||"undefined"==typeof t)&&(t=new Date),s=t.getTime()-e.getTime(),s/=1e3,r=0,o=p.length;o>r;r++)if(c=p[r],s<c.limit){a=c.arg?i.format(c.format,Math.round(s/c.arg)):c.format;break}return a||(a=this.toString()),a}function C(e,t,r){void 0===r&&(r=!1);var o=new Date;return o.setTime(e.getTime()+864e5*t),r&&(o=w(e,o)),o}function k(e,t,r){void 0===r&&(r=!1);var o=new Date;return o.setTime(e.getTime()+36e5*t),r&&(o=w(e,o)),o}function w(e,t,r){void 0===r&&(r=null);var o=t;null!==r&&(o=r);var n=e.getTimezoneOffset(),i=t.getTimezoneOffset();return n!=i&&(o=C(o,(i-n)/1440)),o}function R(e){if(!t.timeZoneMap)return t.utcOffset;for(var r=p(e),o=0;o<t.timeZoneMap.length;o++){if(o===t.timeZoneMap.length-1&&r===t.timeZoneMap[o].start)return t.timeZoneMap[o].offset;if(o===t.timeZoneMap.length-1)break;if(r>=t.timeZoneMap[o].start&&r<t.timeZoneMap[o+1].start)return t.timeZoneMap[o].offset}return t.utcOffset}function A(e){return 0===d(v(),e,!0)}function M(e){var t=v(),r=e.getTime()-t.getTime();return 0>r}function _(e){var t=v(),r=e.getTime()-t.getTime();return r>0}function V(e,t){var r,o,n,i,a,s,c,p=86400;for((null===t||"undefined"==typeof t)&&(t=new Date),s=[{limit:p,format:function(e){return b(e,t)}},{limit:(t-c)/1e3,format:function(e){return m(e,"dddd")}},{limit:Number.POSITIVE_INFINITY,format:function(e){return m(e,"d")}}],i=(t.getTime()-e.getTime())/1e3,r=0,o=s.length;o>r;r++)if(a=s[r],i<a.limit&&a.limit>0){n=a.format(e);break}return n||(n=e.toString()),n}var P,D,F;t.utcOffset=0;var E=r.getPageContext();E&&E.globalization&&(t.utcOffset=E.globalization.timezoneOffset||0),E&&E.timeZonesConfiguration&&(t.timeZoneMap=E.timeZonesConfiguration.daylightSavingsAdjustments);Array.prototype.slice;D=Date.parseLocale,F=Date.prototype.localeFormat,P=Date._expandFormat,Date._expandFormat=function(e,t){return"G"===t?P(e,"d")+" "+P(e,"t"):P(e,t)},Date._getEraYear=function(e,t,r,o){var n=e.getFullYear(),i=t.Calendar.convert;return i&&(n=i.fromGregorian(e)[0]),!o&&t.eras&&(n-=t.eras[r+3]),n};var L=6e4,x=60*L,j=24*x,q=7*j;t.MILLISECONDS_IN_MINUTE=L,t.MILLISECONDS_IN_HOUR=x,t.MILLISECONDS_IN_DAY=j,t.MILLISECONDS_IN_WEEK=q,t.DATETIME_MINDATE_UTC_MS=-621355968e5,t.isMinDate=a,t.compare=s,t.equals=c,t.shiftToUTC=p,t.shiftToLocal=u,t.parseDateString=l,t.daysBetweenDates=d,t.parseLocale=f,t.localeFormat=m,t.convertClientTimeToUserTimeZone=g,t.convertUserTimeToClientTimeZone=y,t.stripTimeFromDate=T,t.getNowInUserTimeZone=I,t.getTodayInUserTimeZone=v,t.format=S,t.ago=b,t.addDays=C,t.addHours=k,t.adjustOffsetForTimes=w,t.getOffsetForDate=R,t.isGivenDayToday=A,t.isGivenDayInPast=M,t.isGivenDayInFuture=_,t.friendly=V}),define("VSS/Utils/Number",["require","exports"],function(e,t){function r(e,t,r){for(var o=e.length;t>o;o++)e=r?"0"+e:e+"0";return e}function o(e,t){return e-t}function n(e,t,o){var n,i,a,s,c,p,u,l,d,f=e.toString(),m="";if(i=o?o.numberFormat:Sys.CultureInfo.CurrentCulture.numberFormat,a=f.split(/e/i),f=a[0],n=a.length>1?parseInt(a[1],10):0,a=f.split("."),f=a[0],m=a.length>1?a[1]:"",n>0?(m=r(m,n,!1),f+=m.slice(0,n),m=m.substr(n)):0>n&&(n=-n,f=r(f,n+1,!0),m=f.slice(-n,f.length)+m,f=f.slice(0,-n)),m.length>0&&(m=i.NumberDecimalSeparator+m),t===!0){for(s=i.NumberGroupSizes,c=i.NumberGroupSeparator,p=s[0],u=1,l=f.length-1,d="";l>=0;){if(0===p||p>l)return d.length>0?f.slice(0,l+1)+c+d+m:f.slice(0,l+1)+m;d=d.length>0?f.slice(l-p+1,l+1)+c+d:f.slice(l-p+1,l+1),l-=p,u<s.length&&(p=s[u],u++)}return f.slice(0,l+1)+c+d+m}return f+m}function i(e){return Number.parseLocale(e)}function a(e){return e>0&&parseInt(e)==e}function s(e){return Number.parseInvariant(e)}function c(e,t){return Number.prototype.localeFormat.call(e,t)}t.defaultComparer=o,t.toDecimalLocaleString=n,t.parseLocale=i,t.isPositiveNumber=a,t.parseInvariant=s,t.localeFormat=c}),define("VSS/Utils/Core",["require","exports","VSS/Diag","VSS/Utils/Date","VSS/Utils/Number","VSS/VSS"],function(e,t,r,o,n,i){function a(e,t,r){return function(){if("undefined"==typeof r)return t.apply(e,arguments);var o=T.call(arguments,0);return r instanceof Array?o=o.concat(r):o.push(r),t.apply(e,o)}}function s(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t=T.call(arguments,1),function(){return e.apply(this,t.concat(T.call(arguments,0)))}}function c(e,t,r,o){var n=new I(e,t,null,r,o);return n.start(),n}function p(e,t,r,o){var n=new I(e,t,"throttledDelegate",r,o);return a(n,n.reset)}function u(e){r.Debug.assertIsStringNotEmpty(e,"stringRepresentation");for(var t=e.replace(/[^\d,\.-]/g,""),o=t.split(","),n=[],i=0;i<o.length;++i){var a=parseInt(o[i],10);isNaN(a)||n.push(a)}return n}function l(e,t){try{return Sys.Serialization.JavaScriptSerializer.deserialize(e,t)}catch(r){return null}}function d(e,t){return Sys.Serialization.JavaScriptSerializer.deserialize(e,t)}function f(e){return Sys.Serialization.JavaScriptSerializer.serialize(e)}function m(e,t,o){r.Debug.assertParamIsJQueryObject(e,"$context"),void 0!==t&&null!==t&&r.Debug.assertParamIsStringNotEmpty(t,"selectionFilter"),void 0!==o&&r.Debug.assertParamIsBool(o,"remove");var n,i,a=null;return n=e.find('script[type="application/json"]'),t&&(n=n.filter(t)),n.length>0&&(i=n.eq(0).html(),i&&(a=d(i,!1)),o&&n.eq(0).remove()),a}function g(e,t){return null!==e&&"undefined"!=typeof e?"string"==typeof e?e:e instanceof Date?o.localeFormat(e,t||"G"):"number"==typeof e?t?o.localeFormat(new Date(e),t):n.toDecimalLocaleString(e):"boolean"==typeof e?e?"True":"False":e.toString():""}function y(e){var t,r;if(t=window,t.DOMParser)try{return r=new t.XMLSerializer,r.serializeToString(e)}catch(o){}else try{return e.xml}catch(n){}return null}function h(e){return Sys.Net.XMLDOM(e)}t.OperationCanceledException="TFS.Core.OperationCanceledException";var T=Array.prototype.slice;Error.canceled=function(){var e=Error.create("Operation Canceled.",{name:t.OperationCanceledException});return e.popStackFrame(),e},t.delegate=a,t.curry=s;var I=function(){function e(e,t,r,o,n){this._interval=t,this._name=r,this._func=a(e,o,n)}return e.prototype.start=function(){var e=this;this._timeoutHandle||(r.logTracePoint("Core.DelayedFunction.pending",this._name),this._timeoutHandle=window.setTimeout(function(){delete e._timeoutHandle;try{e._func.call(e)}finally{r.logTracePoint("Core.DelayedFunction.complete",[e._name,"complete"])}},this._interval))},e.prototype.reset=function(){this.cancel(),r.logTracePoint("Core.DelayedFunction.reset",[this._name,"reset"]),this.start()},e.prototype.cancel=function(){this._timeoutHandle&&(window.clearTimeout(this._timeoutHandle),delete this._timeoutHandle,r.logTracePoint("Core.DelayedFunction.complete",[this._name,"canceled"]))},e.prototype.invokeNow=function(){this.cancel(),this._func()},e.prototype.setDelay=function(e){this._interval=e},e.prototype.setMethod=function(e,t,r){this._func=a(e,t,r)},e.prototype.isPending=function(){
return this._timeoutHandle?!0:!1},e}();t.DelayedFunction=I,t.delay=c,t.throttledDelegate=p,t.parseIntArray=u;var v=function(){function e(e){this.context=e,this._callbacks=[]}return e.prototype.perform=function(e){!this.canceled&&$.isFunction(e)&&e.call(this.context)},e.prototype.wrap=function(e){var t=this;return function(){return!t.canceled&&$.isFunction(e)?e.apply(this,T.call(arguments,0)):void 0}},e.prototype.cancel=function(){var e=this;this.canceled=!0,$.each(this._callbacks,function(t,r){r.call(e.context)})},e.prototype.register=function(e){$.isFunction(e)&&(this._callbacks.push(e),this.canceled&&e.call(this.context))},e}();t.Cancelable=v;var S=function(){function e(){this._disposables=[]}return e.prototype.addDisposable=function(e){return this._disposables.push(e),e},e.prototype.dispose=function(){if(this._disposables)for(;this._disposables.length>0;)this._disposables.splice(0,1)[0].dispose()},e}();t.DisposalManager=S,t.tryParseMSJSON=l,t.parseMSJSON=d,t.stringifyMSJSON=f,t.parseJsonIsland=m,t.convertValueToDisplayString=g,t.domToXml=y,t.parseXml=h,t.documentSelection=document.selection,i.tfsModuleLoaded("VSS.Core",t)}),define("VSS/Ajax",["require","exports","q","VSS/Context","VSS/Diag","VSS/Utils/Core","VSS/VSS"],function(e,t,r,o,n,i,a){function s(e,t,r){var o,n,i;if("abort"!==t)try{o=JSON.parse(e.responseText),o&&o.message&&(n=o.message)}catch(a){}return n||(n=0===e.status?"An undefined error occurred while attempting to connect to the server.Status code "+e.status+t:e.status+": "+t),i=new Error(n),i.name="TFS.WebApi.Exception",i.status=e.status,i.responseText=e.responseText,o&&(i.serverError=o),"timeout"==r&&(i.name="TFS.WebApi.Exception.Timeout"),i}function c(e,t,r,o,n,a){0===e.status?I||T||i.delay(this,2e3,function(){I||T||a(e,t,r,o,n)}):a(e,t,r,o,n)}function p(e,t,n,i){var a=i||r.defer();C.register(),t||(t={}),t.headers||(t.headers={}),t.headers["X-VSS-ReauthenticationAction"]="Suppress";var s=o.getPageContext();if(s&&s.diagnostics&&s.diagnostics.sessionId&&(t.headers["X-TFS-Session"]=s.diagnostics.sessionId),n&&n.authTokenManager){var c=!!i,l=n.authTokenManager.getAuthToken(c);l.then(function(r){t=$.extend(t,{beforeSend:function(e){var t=n.authTokenManager.getAuthorizationHeader(r);e.setRequestHeader("Authorization",t),e.setRequestHeader("X-TFS-FedAuthRedirect","Suppress")}}),e=u(n.authTokenManager,e,t,r),jQuery.ajax(e,t).then(function(e,t,r){a.resolve({data:e,jqXHR:r,textStatus:t})},function(r,o,i){401!==r.status||c?a.reject({errorThrown:i,jqXHR:r,textStatus:o}):p(e,t,n,a)})},a.reject)}else jQuery.ajax(e,t).then(function(e,t,r){a.resolve({data:e,jqXHR:r,textStatus:t})},function(e,t,r){a.reject({errorThrown:r,jqXHR:e,textStatus:t})});return a.promise}function u(e,t,r,o){if(f())return t;var n,i={legacyCorsMethod:r.type.toUpperCase()},a=t.indexOf("?"),s=!1;if(a>-1&&t.length>a){var c=t.substring(a+1),p=c.split("&");p.forEach(function(e,t,r){var o=r[t].split("="),n=o[0];"api-version"===n&&(s=!0)})}if(!s&&r&&r.headers&&r.headers.Accept){var u=r.headers.Accept.split(";");if(u&&u.length>0){var d;u.some(function(e){if(e&&e.indexOf("api-version")>-1){var t=e.split("=");if(t&&2===t.length)return d=t[1],!0}return!1}),d&&(i["api-version"]=d,s=!0)}}var m={__authToken:e.getAuthorizationHeader(o)};if("GET"===r.type.toUpperCase()){var g=r.data;g&&(n=$.param(g)),r.type="POST",l(r,m)}else{if(r.data){var y=r.data;"string"==typeof y&&(y=JSON.parse(y)),$.isArray(y)&&y.length>0?y[0]=$.extend(m,y[0]):y=$.extend(m,y),r.data=JSON.stringify(y)}else l(r,m);r&&r.headers&&r.headers["Content-Type"]&&(i.legacyContentType=r.headers["Content-Type"]),r.type="POST"}var h=$.param(i);return t+=(a>-1?"&":"?")+h,n&&(t+="&"+n),t}function l(e,t){e.data=JSON.stringify(t),e.processData=!1,e.jsonp=!1}function d(e,t,o){var n=this,i=r.defer(),a=++b,u=o&&o.useAjaxResult;return $.each(v,function(r,i){i.beforeRequest&&i.beforeRequest.call(n,a,e,t,o)}),p(e,t,o).then(function(e){$.each(v,function(t,r){r.responseReceived&&r.responseReceived.call(n,a,e.data,e.textStatus,e.jqXHR,o)});try{u===!0?(delete e.jqXHR.then,i.resolve([e.data,e.textStatus,e.jqXHR])):i.resolve(e.data),i.resolve(u===!0?[e.data,e.textStatus,e.jqXHR]:e.data)}finally{$.each(v,function(t,r){r.postResponseCallback&&r.postResponseCallback.call(n,a,e.data,e.textStatus,e.jqXHR,o)})}},function(e){c(e.jqXHR,e.textStatus,e.errorThrown,a,i,function(e,t,r,i,a){var c=s(e,t,r);$.each(v,function(r,a){a.responseReceived&&a.responseReceived.call(n,i,c,t,e,o)});try{a.reject(c)}finally{$.each(v,function(r,a){a.postResponseCallback&&a.postResponseCallback.call(n,i,c,t,e,o)})}})}),i.promise}function f(){if("undefined"!=typeof XMLHttpRequest){var e=new XMLHttpRequest;if("withCredentials"in e)return!0}return!1}function m(e,t,r){return d(e,t,r)}function g(e){v.push(e)}function y(e){v=$.grep(v,function(t){return t!==e})}var h,T=!1,I=!1,v=[],S={},b=0;!function(e){e.Binary="arraybuffer"}(h=t.CustomTransportDataTypes||(t.CustomTransportDataTypes={}));var C;!function(e){function t(){o||(r(),o=!0)}function r(){$.ajaxTransport(h.Binary,function(e,t,r){return e.dataType===h.Binary&&e.async?{send:function(t,r){var o=new XMLHttpRequest;o.addEventListener("load",function(){var e={};e[h.Binary]=o.response,r(o.status,o.statusText,e,o.getAllResponseHeaders())}),o.open(e.type,e.url,!0),o.responseType="arraybuffer";for(var n in t)o.setRequestHeader(n,t[n]);o.send(e.data||null)},abort:function(){r.abort()}}:void 0})}var o=!1;e.register=t}(C||(C={})),$(window).bind("unload",function(){T=!0}),$(window).bind("beforeunload",function(){I=!0,window.setTimeout(function(){I=!1},2e3)}),t.issueRequest=m,t.addGlobalListener=g,t.removeGlobalListener=y,g({beforeRequest:function(e,t,r,o){var i,s=!o||o.showProgressIndicator!==!1;s&&(i=a.globalProgressIndicator.actionStarted("http "+e+" "+t),S[e]=i),n.logTracePoint("Ajax.request-started",i)},responseReceived:function(e,t,r,o){e in S&&a.globalProgressIndicator.actionCompleted(S[e])},postResponseCallback:function(e,t,r,o){var i;e in S&&(i=S[e],delete S[e]),n.logTracePoint("Ajax.callback-complete",i)}})}),define("VSS/WebApi/RestClient",["require","exports","q","VSS/Ajax","VSS/Serialization","VSS/Utils/Core"],function(e,t,r,o,n,i){var a=function(){function e(t,o){this.forceOptionsCallForAutoNegotiate=!1,this._rootRequestPath=t,this._locationsByAreaPromises=e.createLocationsByAreaPromisesCache(),this._initializationPromise=r.fcall(function(){return!0}),this._options=o||{}}return e.prototype._setInitializationPromise=function(e){e&&(this._initializationPromise=e)},e.prototype._beginRequest=function(e,t){var o=this;void 0===t&&(t=!1);var n=r.defer();return!this.forceOptionsCallForAutoNegotiate&&e.routeTemplate?this._initializationPromise.then(function(){var r=o.getRequestUrl(e.routeTemplate,e.area,e.resource,e.routeValues,e.queryParams);o._beginRequestToResolvedUrl(r,e.apiVersion,e,n,t)}):this._beginGetLocation(e.area,e.locationId).then(function(r){var i=o.getRequestUrl(r.routeTemplate,r.area,r.resourceName,e.routeValues,e.queryParams),a=o._autoNegotiateApiVersion(r,e.apiVersion);o._beginRequestToResolvedUrl(i,a,e,n,t)}),n.promise},e.prototype._autoNegotiateApiVersion=function(e,t){var r;if(t){var o,n,i,a=new RegExp("(\\d+(\\.\\d+)?)(-preview(\\.(\\d+))?)?"),s=!1,c=a.exec(t);c&&c[1]&&(o=+c[1],n=c[1],c[3]&&(s=!0,c[5]&&(i=+c[5])),(o<=+e.releasedVersion||!i&&o<=+e.maxVersion&&s||i&&o<=+e.maxVersion&&i<=+e.resourceVersion)&&(r=t))}return r||(r=o<+e.maxVersion?n+"-preview":e.maxVersion===e.releasedVersion?e.maxVersion:e.maxVersion+"-preview."+e.resourceVersion),r},e.prototype._beginRequestToResolvedUrl=function(e,t,r,i,a){var s,c={};c.type=r.httpMethod||"GET";var p=r.data;!r.isRawData&&p&&r.requestType&&(p=n.ContractSerializer.serialize(p,r.requestType,!0)),!r.isRawData&&p&&"GET"!==c.type.toUpperCase()?(c.data=JSON.stringify(p),c.processData=!1,c.jsonp=!1):c.data=p,r.isRawData&&(c.processData=!1),r.httpResponseType&&"json"!==r.httpResponseType.toLowerCase()&&"application/json"!==r.httpResponseType.toLowerCase()?"zip"===r.httpResponseType.toLowerCase()||"application/zip"===r.httpResponseType.toLowerCase()?(s="application/zip",c.dataType=o.CustomTransportDataTypes.Binary):"binary"===r.httpResponseType.toLowerCase()||"octet-stream"===r.httpResponseType.toLowerCase()||"application/octet-stream"===r.httpResponseType.toLowerCase()?(s="application/octet-stream",c.dataType=o.CustomTransportDataTypes.Binary):"text"===r.httpResponseType.toLowerCase()||"text/plain"===r.httpResponseType.toLowerCase()?(s="text/plain",c.dataType="text",c.converters={}):(s="*/*",c.dataType=r.httpResponseType,c.converters={}):(s="application/json",c.dataType="json"),r.timeout?c.timeout=r.timeout:this._options.timeout&&(c.timeout=this._options.timeout),c.headers=$.extend({Accept:s+(t?";api-version="+t:""),"Content-Type":"application/json"},r.customHeaders),localStorage.PatToken&&(c.headers.Authorization="Basic"+btoa(":"+localStorage.PatToken));var u=this._issueAjaxRequest(e,c,!0,{showProgressIndicator:this._options.showProgressIndicator});u.spread(function(e,t,o){var s=n.ContractSerializer.deserialize(e,r.responseType,!1,r.responseIsCollection);i.resolve(a===!0?[s,t,o]:s)},i.reject)},e.prototype._beginRequestWithAjaxResult=function(e){return this._beginRequest(e,!0)},e.prototype._issueAjaxRequest=function(e,t,r,n){return void 0===r&&(r=!1),n=$.extend({authTokenManager:this.authTokenManager,useAjaxResult:r},n),o.issueRequest(e,t,n)},e.prototype._beginGetLocation=function(e,t){var r=this;return this._initializationPromise.then(function(){return r.beginGetAreaLocations(e)}).then(function(r){var o=r[(t||"").toLowerCase()];if(!o)throw new Error("Failed to find api location for area: "+e+" id: "+t);return o})},e.processOptionsRequestResponse=function(e,t,r){var o={};return $.each(e.value,function(e,t){o[t.id.toLowerCase()]=t}),o},e.initializeLocationsByAreaJsonIslandCacheIfNecessary=function(){if(!e.cacheFromJsonIslands){e.cacheFromJsonIslands=Object.create(null);for(var t;t=i.parseJsonIsland($(document),".area-locations",!0);){var o=t.value;if(o.length>0){var n=e.processOptionsRequestResponse(t),a=o[0].area;e.cacheFromJsonIslands[a]=r.resolve(n)}}}},e.createLocationsByAreaPromisesCache=function(){return e.initializeLocationsByAreaJsonIslandCacheIfNecessary(),Object.create(e.cacheFromJsonIslands)},e.prototype.beginGetAreaLocations=function(t){var r=this._locationsByAreaPromises[t];if(!r){var o=this._rootRequestPath+e.APIS_RELATIVE_PATH+"/"+t;r=this._issueAjaxRequest(o,{type:"OPTIONS"}).then(e.processOptionsRequestResponse),this._locationsByAreaPromises[t]=r}return r},e.prototype.getRequestUrl=function(e,t,r,o,n){o=o||{},o.area||(o.area=t),o.resource||(o.resource=r);var i=this._rootRequestPath+this.replaceRouteValues(e,o);if(n){var a=-1!==i.indexOf("?");$.each(n,function(e,t){t instanceof Date?n[e]=t.toJSON():null===t&&(n[e]=void 0)});var s=$.param($.extend({},n));s&&(i+=(a?"&":"?")+s)}return i},e.prototype.replaceRouteValues=function(e,t){var r,o,n="",i="",a="",s=!1,c=e.length;for(r=0;c>r;r++)if(o=e[r],s)if("}"==o){s=!1;var p=t[a];if("undefined"==typeof p){var u=a.replace(/[^a-z0-9]/gi,"");p=t[u]}null!==p&&"undefined"!=typeof p&&""!==p&&(i+=encodeURIComponent(p)),a=""}else a+=o;else"/"==o?i&&(n&&(n+="/"),n+=i,i=""):"{"==o?c>r+1&&"{"==e[r+1]?(i+=o,r++):s=!0:"}"==o?(i+=o,c>r+1&&"}"==e[r+1]&&r++):i+=o;return i&&(n&&(n+="/"),n+=i),n},e.prototype._getLinkResponseHeaders=function(e){var t,r,o={},n=e.getAllResponseHeaders(),i=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,a=/\<(.*?)\>;rel=\"(.*?)\"/g;if(n)for(;t=i.exec(n);)if("link"===t[1].toLowerCase())for(;r=a.exec(t[2]);)o[r[2]]=r[1];return o},e.APIS_RELATIVE_PATH="_apis",e.DEFAULT_REQUEST_TIMEOUT=3e5,e}();t.VssHttpClient=a});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Authentication/RestClient",["require","exports","VSS/Authentication/Contracts","VSS/WebApi/RestClient"],function(e,t,r,o){var n=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createSessionToken=function(e){return this._beginRequest({httpMethod:"POST",area:"WebPlatformAuth",locationId:"11420b6b-3324-490a-848d-b8aafdb906ba",resource:"SessionToken",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.WebSessionToken,responseType:r.TypeInfo.WebSessionToken,responseIsCollection:!1,apiVersion:"3.0-preview.1",data:e})},t}(o.VssHttpClient);t.AuthenticationHttpClient3=n;var i=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createSessionToken=function(e){return this._beginRequest({httpMethod:"POST",area:"WebPlatformAuth",locationId:"11420b6b-3324-490a-848d-b8aafdb906ba",resource:"SessionToken",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.WebSessionToken,responseType:r.TypeInfo.WebSessionToken,responseIsCollection:!1,apiVersion:"2.3-preview.1",data:e})},t}(o.VssHttpClient);t.AuthenticationHttpClient2_3=i;var a=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createSessionToken=function(e){return this._beginRequest({httpMethod:"POST",area:"WebPlatformAuth",locationId:"11420b6b-3324-490a-848d-b8aafdb906ba",resource:"SessionToken",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.WebSessionToken,responseType:r.TypeInfo.WebSessionToken,responseIsCollection:!1,apiVersion:"2.2-preview.1",data:e})},t}(o.VssHttpClient);t.AuthenticationHttpClient2_2=a;var s=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createSessionToken=function(e){return this._beginRequest({httpMethod:"POST",area:"WebPlatformAuth",locationId:"11420b6b-3324-490a-848d-b8aafdb906ba",resource:"SessionToken",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.WebSessionToken,responseType:r.TypeInfo.WebSessionToken,responseIsCollection:!1,apiVersion:"2.1-preview.1",data:e})},t}(o.VssHttpClient);t.AuthenticationHttpClient2_1=s;var c=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createSessionToken=function(e){return this._beginRequest({httpMethod:"POST",area:"WebPlatformAuth",locationId:"11420b6b-3324-490a-848d-b8aafdb906ba",resource:"SessionToken",routeTemplate:"_apis/{area}/{resource}",requestType:r.TypeInfo.WebSessionToken,responseType:r.TypeInfo.WebSessionToken,responseIsCollection:!1,apiVersion:"2.0-preview.1",data:e})},t}(o.VssHttpClient);t.AuthenticationHttpClient2=c;var p=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(n);t.AuthenticationHttpClient=p}),define("VSS/Resources/VSS.Resources.Platform",["require","exports","VSS/VSS"],function(e,t,r){t.ActionLink_GoBackHome="Go back home",t.ActionLink_SignIn="Sign in",t.ActionLink_SignOut="Sign out and connect with another login",t.ActionLink_TellUsAboutThis="Tell us about this",t.ActionLink_ViewServiceStatus="View our service status updates",t.AdditionalTipsHeader="Here are some additional tips",t.CancelWaitAdvice="Press {0} to cancel",t.CloseButtonLabelText="Close",t.CollapseSplitterTooltip="Collapse",t.CopyContentDialogTitle="Copy to clipboard",t.CopiedContentDialogTitle="Copied!",t.CopyContentPcHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose 'Copy' from the browser's context menu or enter CTRL-C.",t.CopyContentMacintoshHelpText="Below is a clipboard-friendly view of your selection. To copy to the clipboard, either right-click and choose 'Copy' from the browser's context menu or enter Command-C.",t.CopyProgressPleaseWait="Copying selected item(s) to the clipboard...",t.DefaultWaitMessage="Please wait...",t.EditorBold="Bold",t.EditorBulletedList="Bulleted list",t.EditorCreateLink="Create link",t.EditorDecreaseIndent="Decrease indent",t.EditorEnterAddress="Enter address",t.EditorIncreaseIndent="Increase indent",t.EditorItalic="Italic",t.EditorNumberedList="Numbered list",t.EditorRemoveLink="Remove link",t.EditorUnderline="Underline",t.ErrorCopyrightInfo=" Microsoft Corporation. All rights reserved.",t.ErrorMessage_BadRequest="We didn't understand the syntax of the request",t.ErrorMessage_Forbidden="Sorry, but {0} is not authorized to make this request",t.ErrorMessage_GeneralException="We encountered an unknown exception. The error has been traced and we will work hard to get a fix out as soon as possible. See the status message below for additional information",t.ErrorMessage_Gone="We have permanently removed the requested page or resource",t.ErrorMessage_InternalServerError="We encountered an error and cannot fulfill the request. The error has been traced and we will work hard to get a fix out as soon as possible. See the status message below for additional information",t.ErrorMessage_NotFound="We could not find the requested page",t.ErrorMessage_ServiceUnavailable="We are currently unavailable due to {reason}",t.ErrorMessage_Unauthorized="Sorry, but {0} is not authorized to access this page",t.ErrorMessage_UnauthorizedNoUser="The request requires authentication",t.ErrorMoreInfo="More information about this error",t.ErrorName_BadRequest="Bad Request",t.ErrorName_Forbidden="Forbidden",t.ErrorName_GeneralException="General Exception",t.ErrorName_Gone="Gone",t.ErrorName_InternalServerError="Internal Server Error",t.ErrorName_NotFound="Not Found",t.ErrorName_ServiceUnavailable="Service Unavailable",t.ErrorName_Unauthorized="Not Authorized",t.ErrorProductName="Microsoft Visual Studio Team Foundation Server",t.ExpandSplitterTooltip="Expand",t.FilterControlAddNewClause="Add new clause",t.FilterControlAndOr="And/Or",t.FilterControlField="Field",t.FilterControlInsertClause="Insert new filter line",t.FilterControlOperator="Operator",t.FilterControlRemoveClause="Remove this filter line",t.FilterControlUngroupClauses="Ungroup clauses",t.FilterControlValue="Value",t.FilterGroupClauses="Group selected clauses",t.FilterGroupingCannotGroup="Cannot group these clauses.",t.FilterGroupingCannotIntersect="Groups can not intersect each other.",t.FilterGroupingGroupAlreadyExist="A group already exists for selected clauses.",t.HideDetails="Hide details",t.HostedErrorOptions='You can <a id="pageRefresh" href="#">refresh</a> the current page, <a href="javascript:history.back();">go back</a> to the previous page, or <a href="http://go.microsoft.com/fwlink/?LinkID=242555" target="_blank">submit feedback</a> about this error to Microsoft.',t.HostedMessageFooter="See you back soon!",t.HostedNotFoundDetailMessage="We recommend that you double check the URL you are trying to access and verify that your identity ({0}) has the correct permissions.",t.HostedNotFoundMessage="TF400908: The account page you are trying to view does not exist or you do not have access to it.",t.HostedNotFoundNotAuthDetailMessage="We recommend that you double check the URL you are trying to access.",t.HostedServerError="Sorry, some part of our code decided to throw a fit. We are onto it and will make sure this will not happen again in the future.",t.HostedServiceUnavailable="We were unable to access your account. We apologize for the inconvenience this is causing your team. Please check the status message below for additional information.",t.IdentityPicker_LoadingIdentities="Loading identities....",t.IdentityPicker_ErrorLoadingIdentities="Error loading identities. Please try again.",t.IdentityPicker_Status="Showing {0} results",t.IdentityPicker_NoResult="No identities found",t.Loading="Loading ...",t.ModalDialogCancelButton="Cancel",t.ModalDialogOkButton="OK",t.NavigateTo="Navigate to:",t.NoItemsInThisFolder="No items in this folder.",t.NoScriptHeader="JavaScript is Disabled",t.NoScriptMessage="Some content on this page cannot be displayed because you have JavaScript disabled.  To proceed, please enable active scripting for this site in your browser settings.  For more information, see",t.NoSearchResults="No search results.",t.NoTfsRequestcontext="TF400918: TfsRequestContext could not be found. Team Foundation Application could not be started",t.PageNotFound="Page not found.",t.PageTitleWithContent="{0} - Microsoft Team Foundation Server",t.PageUnavailable="The page you are looking for is currently unavailable.",t.RichEditorControlNotReadyWarning="Control is not ready yet. Use ready function to add your callback to the ready list which will be executed whenever the control is ready.",t.Searching="Searching ...",t.ServiceStatusLink="Service Status and Support",t.ShowDetails="Show details",t.SignOut="sign out",t.SupportLink="Support",t.Tips_NotFound="Verify the URL you are trying to access is correct",t.Tips_Unauthorized='Check that the URL you are trying to access is correct and make sure that your account {0} has access. You can get a list of your accounts <a href="http://go.microsoft.com/fwlink/?LinkId=309329" target="_blank">here</a>.\r\nIf the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to <a href="http://go.microsoft.com/fwlink/?LinkID=393724" target="_blank">create a user</a> for you.\r\nIf you suspect authorization is the problem ask the account/resource administrator to grant you access.\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page',t.TodayTitle="Today: {0}",t.Validation_IntegerRange="Input value must be a valid integer between {0} and {1}",t.ViewServiceStatus="View service status",t.TextInputFilterTitle="Filter by Text",t.Tip_UnauthorizedLicenseAdmin="Ask the account administrator to check the status of your license",t.Tip_UnauthorizedLicenseMsdn='If you are an MSDN subscriber, check for any recent changes in your MSDN subscription rights <a href="http://msdn.microsoft.com/subscriptions/manage">here</a>',t.ErrorMessage_UnauthorizedLicense="Sorry, but {0} does not have a valid license to access this account",t.PutAccountTrialOnce="You can only start a trial once for this account.",t.StartTrial="Begin trial",t.StartTrialFail="Oops our code decided to throw a fit. Could not start trial for account. Please try again.",t.TrialHeader="START TEST MANAGER TRIAL",t.AllFeaturesEnableDuringTrial="During the trial, Test Manager will be enabled for all users. <a href='{0}' target='_blank'>Learn more</a> about these features.",t.TrialStartToday="Test Manager trial begins today and expires on <b>{0}.</b>",t.UnsupportedBrowserNotificationMessage="We do not support the browser you are using. Please upgrade to a supported browser to ensure a fantastic experience! <a href='http://go.microsoft.com/fwlink/?LinkId=324581' target='_blank'>Learn more</a>.",t.Tips_Forbidden='Check that the URL you are trying to access is correct and make sure that your account {0} has access. You can get a list of your accounts <a href="http://go.microsoft.com/fwlink/?LinkId=309329" target="_blank">here</a>.\r\nIf the account you are trying to access requires you to be on the Azure Active Directory, ask a directory administrator to <a href="http://go.microsoft.com/fwlink/?LinkID=393724">create a user</a> for you\r\nIf you need to sign in with another user, but do not want to sign out because you are using this identity in other sites then we recommend that you start a new browser session in Private Browsing mode to access this page.',t.ErrorMessage_MsaTenantName="Microsoft Account",t.ErrorMessage_ForbiddenNoUser="Sorry, but the user is not authorized to make this request",t.NoTenantExceptionMessage="You don't belong to any work or school.",t.ErrorPage_AdditionalTechnicalDetails="Additional technical details:",t.ErrorPage_CorrelationId="Activity ID",t.ErrorPage_DateAndTime="Date and Time",t.FileInputBrowseButtonLabel="Browse...",t.FileInputDragDropLabel="Drag and drop files here or click browse to select a file",t.FileInputErrorDuplicateFileName='Duplicate file: "{0}". Cannot upload two files with the same file name.',t.FileInputErrorNotAllowedExtensionType="File extention {0} is not supported. Allowed Extensions : {1}",t.FileInputErrorLabel="Error",t.FileInputErrorMaxFileSize="File {0} is {1} which exceeds the maximum size allowed for upload of a single file ({2}).",t.FileInputErrorMaxNumFiles="Only {0} files are allowed to be uploaded at one time.",t.FileInputErrorSingleFileOnly="Only a single file can be uploaded at a time.",t.FileInputErrorTotalFileSize="The files being added total {0} which exceeds the maximum total size allowed to be uploaded ({1}).",t.FileInputOverallStatusFormat="{0} files selcted, {1}",t.FileInputReadErrorFormat="Failed to read file {0}: {1}",t.FileInputRemoveAll="remove all",t.FileInputRemoveFile="remove",t.FileSizeBytesFormat="{0} bytes",t.FileSizeKBFormat="{0} KB",t.FileSizeMBFormat="{0} MB",t.CtrlClickToOpen="CTRL+Click to follow link",t.CtrlEnterToOpen="CTRL+Click or CTRL+Enter to follow link",t.ClearRowText="Clear row",t.DeleteRowText="Delete row",t.DisallowedProtocol="Opening this protocol is not permitted",t.Ellipsis="...",t.EnterFullScreenModeTooltip="Enter full screen mode",t.ExitFullScreenModeTooltip="Exit full screen mode",t.InsertRowText="Insert row (Alt + P)",t.MruIdentityPickerError="Error loading identities. Please try again.",t.MruIdentityPickerNoResult="No results found",t.MruIdentityPickerRemoveItemTitle="Remove from list",t.MruIdentityPickerRemoveSelection="Remove",t.MruIdentityPickerTfsSearchTitle="Search",t.MruIdentityPickerStatus="Showing {0} results",t.MruIdentityPickerTooltip="Select an identity",t.MruIdentityPickerWatermark="Type or select a name",t.TextFilterInputBoxWaterMark="Filter",t.MruIdentityPickerAadSearchTitle="Search directory",t.SessionTokenNotReady="Session token is not issued yet.",t.IdentityPicker_IdCardAlias="Alias",t.IdentityPicker_IdCardDepartment="Department",t.IdentityPicker_IdCardJobTitle="Job Title",t.IdentityPicker_IdCardManager="Manager",t.IdentityPicker_IdCardOffice="Office",t.IdentityPicker_ShowContactCardTitle="Show contact card",t.IdentityPicker_RemoveFromMru="Remove from MRU",t.IdentityPicker_SearchButton="Search",t.IdentityPicker_IdCardAadGroupSource="{0} directory",t.IdentityPicker_IdCardDescription="Description",t.IdentityPicker_IdCardErrorLoadingMembers="Encountered an error while loading group members. Please try reopening the contact card",t.IdentityPicker_IdCardGroupSource="Group source",t.IdentityPicker_IdCardImsGroupSource="{0} account",t.IdentityPicker_IdCardInfo="Info",t.IdentityPicker_IdCardLoadingMembers="Loading group members...",t.IdentityPicker_IdCardMail="Send email",t.IdentityPicker_IdCardMembers="Members",t.IdentityPicker_IdCardNoMembers="No group members found",t.FieldIsValid="Field is valid",t.GuidValueIsRequired="A GUID/UUID is required.",t.NumberTooLarge="The value {0} exceeds the maximum allowed value of {1}",t.NumberTooSmall="The value {0} is less than the minimum allowed value of {1}",t.NumberValueIsRequired="A value is required.",t.OptionalInput="optional",t.RequiredInput="required",t.StringDoesNotMatchPattern="Value does not match the required pattern '{0}'. Check to ensure there are no missing or invalid characters.",t.StringTooLong="The string of length {0} exceeds the maximum allowed length of {1}",t.StringTooShort="The string of length {0} does not meet the minimum required length of {1}",t.StringValueIsRequired="A value is required.",t.UriValueIsRequired="A URI is required.",t.InternalContentHostLoadTimedOut="Timed out waiting for the contributed content to be loaded.",t.KeyboardShortcutDialogTitle="Keyboard shortcuts",t.KeyboardShortcutHelpLinkText="Full list of keyboard shortcuts",t.IdentityPicker_PlaceholderTextPrefix="Search",t.IdentityPicker_NeedMoreCharacters="Type {0} more characters",t.IdentityPicker_ErrorAuthorizationException="Sign-in required",t.IdentityPicker_GuestUserException="AAD Guest users are not allowed to search in AAD.",t.IdentityPicker_ErrorMoreDetails="More details",t.IdentityPicker_NeedAnotherCharacter="Type 1 more character",t.ExtensionDisplayNameFormat="{0} by {1}",t.ExternalContentErrorFormat="{0} failed to load.",t.ExternalContentErrorLearnMoreContent="<a>Learn More</a> about this extension, including available support options.",t.ExternalContentSlowLoadFormat="{0} is taking longer than expected to load.",t.AADServiceUnavailable="We could not authorize your access with AAD. Please try signing in again.",t.NamedSessionTokenProviderNotFoundFormat="NamedWebSessionToken provider '{0}' not found.",t.ModalDialogNoButton="No",t.ModalDialogYesButton="Yes",t.Confirm="Confirm",t.CancelButtonLabelText="Cancel",t.DialogUnsavedChanges="You have unsaved changes made to the settings which will be lost. Are you sure you want to discard these changes?",t.ErrorMessage_GenericServerError="An error has prevented us from saving your changes.",t.ErrorMessage_InvalidTab="You have errors in your tab settings. Please correct the errors and try again.",t.SaveButtonLabelText="Save",t.Saving="Saving...",t.TabPageApplyChanges="Apply Changes",t.ExtensionsNotAvailableOnpremOldIE="Extensions are not supported on your browser.",t.IdentityPicker_PlaceholderTextGroup="Search groups",t.IdentityPicker_PlaceholderTextUser="Search users",t.IdentityPicker_PlaceholderTextUserGroup="Search users and groups",t.EditorRemoveFormatting="Remove Formatting",r.tfsModuleLoaded("VSS.Resources.Platform",t)}),define("VSS/Authentication/Services",["require","exports","q","VSS/Authentication/Contracts","VSS/Authentication/RestClient","VSS/Context","VSS/Resources/VSS.Resources.Platform","VSS/Utils/String"],function(e,t,r,o,n,i,a,s){function c(e,t,r,o){return T.getToken(e,t,r,o)}function p(e,t,r){return T.getAppToken(e,t,r)}function u(e){if(e){var r=I[e];return r||(r=new g(e)),r}return t.authTokenManager}var l;!function(e){e.Profile="Platform.Profile"}(l=t.CoreNamedWebSessionTokenIds||(t.CoreNamedWebSessionTokenIds={}));var d;!function(e){function t(e,t){return s.format("Basic {0}",r(e,t))}function r(e,t){var r=s.format("{0}:{1}",e||"",t||"");return s.base64Encode(r)}e.getBasicAuthHeader=t,e.getBasicAuthValue=r}(d=t.BasicAuthHelpers||(t.BasicAuthHelpers={}));var f;!function(e){function t(e){return s.format("Bearer {0}",e)}e.getBearerAuthHeader=t}(f=t.BearerAuthHelpers||(t.BearerAuthHelpers={}));var m=function(){function e(){this._appIdForUnscopedToken=s.EmptyGuidString,this._tokenPromises={},this._tokenExpirationTimes={}}return e.prototype._getKey=function(e,t){return e+":"+t},e.prototype._setTokenValidTo=function(e,t){var r=this;t.then(function(t){r._tokenExpirationTimes[e]=t.validTo})},e.prototype._checkTokenExpiration=function(e){var t=this._tokenExpirationTimes[e];t&&(new Date).getTime()>t.getTime()-6e4&&(delete this._tokenExpirationTimes[e],delete this._tokenPromises[e])},e.prototype._setTokenPromise=function(e,t,r){var o=this._getKey(e,t);this._setTokenValidTo(o,r),this._tokenPromises[o]=r},e.prototype._getTokenPromise=function(e,t){var r=this._getKey(e,t);return this._checkTokenExpiration(r),this._tokenPromises[r]},e.prototype._beginGetToken=function(e,t,r,o){if(!o){var a=this._getTokenPromise(e,t);if(a)return a}var s,c={appId:t,name:r||null,token:null,force:o,tokenType:e};if(window.top===window.self||"BuiltInExtensions"===i.getPageContext().navigation.area){if(!this._authClient){var p=i.getDefaultWebContext().host.relativeUri;this._authClient=new n.AuthenticationHttpClient(p)}s=this._authClient.createSessionToken(c)}else{var u=window.VSS;if(!u||!u.getAccessToken)throw new Error("VSS.SDK is not currently loaded");s=u.getAccessToken()}return this._setTokenPromise(e,t,s),s},e.prototype.getToken=function(e,t,r,n){return this._beginGetToken(o.DelegatedAppTokenType.Session,n?e:this._appIdForUnscopedToken,t,r)},e.prototype.getAppToken=function(e,t,r){return this._beginGetToken(o.DelegatedAppTokenType.App,e,t,r)},e.prototype.getAuthToken=function(e){return this.getToken(null,null,e)},e.prototype.getAuthorizationHeader=function(e){if(!e||!e.token)throw a.SessionTokenNotReady;return f.getBearerAuthHeader(e.token)},
e}(),g=function(){function e(e){this._namedTokenId=e}return e.prototype.getAuthToken=function(e){var t=this;if(!e&&(this._tokenExpirationTime&&(new Date).getTime()>this._tokenExpirationTime.getTime()-6e4&&(this._tokenExpirationTime=null,this._tokenPromise=null),this._tokenPromise))return this._tokenPromise;var r={appId:s.EmptyGuidString,force:e,tokenType:o.DelegatedAppTokenType.Session,namedTokenId:this._namedTokenId};if(window.top===window.self||"BuiltInExtensions"===i.getPageContext().navigation.area)this._authClient||(this._authClient=new n.AuthenticationHttpClient(i.getDefaultWebContext().host.relativeUri)),this._tokenPromise=this._authClient.createSessionToken(r);else{var a=window.VSS;if(!a||!a.getAccessToken)throw new Error("VSS.SDK is not currently loaded");this._tokenPromise=a.getAccessToken()}return this._tokenPromise.then(function(e){return t._tokenExpirationTime=e.validTo,e})},e.prototype.getAuthorizationHeader=function(e){if(!e||!e.token)throw a.SessionTokenNotReady;return f.getBearerAuthHeader(e.token)},e}();t.NamedWebSessionTokenManager=g;var y=function(){function e(e,t){this._user=e,this._password=t}return e.prototype.getAuthToken=function(e){return r.resolve(d.getBasicAuthValue(this._user,this._password))},e.prototype.getAuthorizationHeader=function(e){return d.getBasicAuthHeader(this._user,this._password)},e}();t.BasicAuthTokenManager=y;var h=function(){function e(e){this._token=e}return e.prototype.getAuthToken=function(e){return r.resolve(this._getTokenHeader())},e.prototype.getAuthorizationHeader=function(e){return this._getTokenHeader()},e.prototype._getTokenHeader=function(){return f.getBearerAuthHeader(this._token)},e}();t.BearerAuthTokenManager=h;var T=new m,I={};t.authTokenManager=T,t.getToken=c,t.getAppToken=p,t.getAuthTokenManager=u}),define("VSS/Identities/Contracts",["require","exports"],function(e,t){!function(e){e[e.None=0]="None",e[e.ServiceIdentity=1]="ServiceIdentity",e[e.AggregateIdentity=2]="AggregateIdentity",e[e.ImportedIdentity=3]="ImportedIdentity"}(t.FrameworkIdentityType||(t.FrameworkIdentityType={}));t.FrameworkIdentityType;!function(e){e[e.Generic=0]="Generic",e[e.ServiceHost=1]="ServiceHost",e[e.TeamProject=2]="TeamProject"}(t.GroupScopeType||(t.GroupScopeType={}));t.GroupScopeType;!function(e){e[e.Member=0]="Member",e[e.Guest=1]="Guest",e[e.Unknown=255]="Unknown"}(t.IdentityMetaType||(t.IdentityMetaType={}));t.IdentityMetaType;!function(e){e[e.AccountName=0]="AccountName",e[e.DisplayName=1]="DisplayName",e[e.AdministratorsGroup=2]="AdministratorsGroup",e[e.Identifier=3]="Identifier",e[e.MailAddress=4]="MailAddress",e[e.General=5]="General",e[e.Alias=6]="Alias",e[e.Domain=7]="Domain"}(t.IdentitySearchFilter||(t.IdentitySearchFilter={}));t.IdentitySearchFilter;!function(e){e[e.WindowsIdentity=3]="WindowsIdentity",e[e.TeamFoundationIdentity=4]="TeamFoundationIdentity",e[e.ClaimsIdentity=5]="ClaimsIdentity",e[e.BindPendingIdentity=6]="BindPendingIdentity",e[e.UnauthenticatedIdentity=7]="UnauthenticatedIdentity",e[e.ServiceIdentity=8]="ServiceIdentity",e[e.AggregateIdentity=9]="AggregateIdentity",e[e.ImportedIdentity=10]="ImportedIdentity",e[e.ServerTestIdentity=100]="ServerTestIdentity"}(t.IdentityTypeId||(t.IdentityTypeId={}));t.IdentityTypeId;!function(e){e[e.None=0]="None",e[e.Direct=1]="Direct",e[e.Expanded=2]="Expanded",e[e.ExpandedUp=3]="ExpandedUp",e[e.ExpandedDown=4]="ExpandedDown"}(t.QueryMembership||(t.QueryMembership={}));t.QueryMembership;!function(e){e[e.None=0]="None",e[e.FilterIllegalMemberships=1]="FilterIllegalMemberships"}(t.ReadIdentitiesOptions||(t.ReadIdentitiesOptions={}));t.ReadIdentitiesOptions;!function(e){e[e.Generic=0]="Generic",e[e.AdministrativeApplicationGroup=1]="AdministrativeApplicationGroup",e[e.ServiceApplicationGroup=2]="ServiceApplicationGroup",e[e.EveryoneApplicationGroup=3]="EveryoneApplicationGroup",e[e.LicenseesApplicationGroup=4]="LicenseesApplicationGroup",e[e.AzureActiveDirectoryApplicationGroup=5]="AzureActiveDirectoryApplicationGroup"}(t.SpecialGroupType||(t.SpecialGroupType={}));t.SpecialGroupType;t.TypeInfo={ChangedIdentities:{fields:null},ChangedIdentitiesContext:{fields:null},CreateGroupsInfo:{fields:null},CreateScopeInfo:{fields:null},FrameworkIdentityInfo:{fields:null},FrameworkIdentityType:{enumValues:{none:0,serviceIdentity:1,aggregateIdentity:2,importedIdentity:3}},GroupMembership:{fields:null},GroupScopeType:{enumValues:{generic:0,serviceHost:1,teamProject:2}},Identity:{fields:null},IdentityBatchInfo:{fields:null},IdentityDescriptor:{fields:null},IdentityMetaType:{enumValues:{member:0,guest:1,unknown:255}},IdentityScope:{fields:null},IdentitySearchFilter:{enumValues:{accountName:0,displayName:1,administratorsGroup:2,identifier:3,mailAddress:4,general:5,alias:6,domain:7}},IdentitySelf:{fields:null},IdentitySnapshot:{fields:null},IdentityTypeId:{enumValues:{windowsIdentity:3,teamFoundationIdentity:4,claimsIdentity:5,bindPendingIdentity:6,unauthenticatedIdentity:7,serviceIdentity:8,aggregateIdentity:9,importedIdentity:10,serverTestIdentity:100}},IdentityUpdateData:{fields:null},JsonPatchOperationData:{fields:null},MruIdentitiesUpdateData:{fields:null},QueryMembership:{enumValues:{none:0,direct:1,expanded:2,expandedUp:3,expandedDown:4}},ReadIdentitiesOptions:{enumValues:{none:0,filterIllegalMemberships:1}},ReadOnlyIdentityDescriptor:{fields:null},SpecialGroupType:{enumValues:{generic:0,administrativeApplicationGroup:1,serviceApplicationGroup:2,everyoneApplicationGroup:3,licenseesApplicationGroup:4,azureActiveDirectoryApplicationGroup:5}},TenantInfo:{fields:null}},t.TypeInfo.ChangedIdentities.fields={identities:{isArray:!0,typeInfo:t.TypeInfo.Identity},sequenceContext:{typeInfo:t.TypeInfo.ChangedIdentitiesContext}},t.TypeInfo.ChangedIdentitiesContext.fields={},t.TypeInfo.CreateGroupsInfo.fields={groups:{isArray:!0,typeInfo:t.TypeInfo.Identity}},t.TypeInfo.CreateScopeInfo.fields={scopeType:{enumType:t.TypeInfo.GroupScopeType}},t.TypeInfo.FrameworkIdentityInfo.fields={identityType:{enumType:t.TypeInfo.FrameworkIdentityType}},t.TypeInfo.GroupMembership.fields={descriptor:{typeInfo:t.TypeInfo.IdentityDescriptor}},t.TypeInfo.Identity.fields={descriptor:{typeInfo:t.TypeInfo.IdentityDescriptor},memberOf:{isArray:!0,typeInfo:t.TypeInfo.IdentityDescriptor},members:{isArray:!0,typeInfo:t.TypeInfo.IdentityDescriptor}},t.TypeInfo.IdentityBatchInfo.fields={descriptors:{isArray:!0,typeInfo:t.TypeInfo.IdentityDescriptor},queryMembership:{enumType:t.TypeInfo.QueryMembership}},t.TypeInfo.IdentityDescriptor.fields={},t.TypeInfo.IdentityScope.fields={administrators:{typeInfo:t.TypeInfo.IdentityDescriptor},scopeType:{enumType:t.TypeInfo.GroupScopeType}},t.TypeInfo.IdentitySelf.fields={tenants:{isArray:!0,typeInfo:t.TypeInfo.TenantInfo}},t.TypeInfo.IdentitySnapshot.fields={groups:{isArray:!0,typeInfo:t.TypeInfo.Identity},memberships:{isArray:!0,typeInfo:t.TypeInfo.GroupMembership},scopes:{isArray:!0,typeInfo:t.TypeInfo.IdentityScope}},t.TypeInfo.IdentityUpdateData.fields={},t.TypeInfo.JsonPatchOperationData.fields={},t.TypeInfo.MruIdentitiesUpdateData.fields={},t.TypeInfo.ReadOnlyIdentityDescriptor.fields={},t.TypeInfo.TenantInfo.fields={}}),define("VSS/Locations/Contracts",["require","exports","VSS/Identities/Contracts"],function(e,t,r){!function(e){e[e.None=0]="None",e[e.Deployment=1]="Deployment",e[e.Account=2]="Account",e[e.Collection=4]="Collection",e[e.All=7]="All"}(t.InheritLevel||(t.InheritLevel={}));t.InheritLevel;!function(e){e[e.Context=0]="Context",e[e.WebApplication=2]="WebApplication",e[e.FullyQualified=3]="FullyQualified"}(t.RelativeToSetting||(t.RelativeToSetting={}));t.RelativeToSetting;!function(e){e[e.Assigned=0]="Assigned",e[e.Active=1]="Active",e[e.Moving=2]="Moving"}(t.ServiceStatus||(t.ServiceStatus={}));t.ServiceStatus;t.TypeInfo={AccessMapping:{fields:null},ConnectionData:{fields:null},InheritLevel:{enumValues:{none:0,deployment:1,account:2,collection:4,all:7}},LocationMapping:{fields:null},LocationServiceData:{fields:null},RelativeToSetting:{enumValues:{context:0,webApplication:2,fullyQualified:3}},ServiceDefinition:{fields:null},ServiceStatus:{enumValues:{assigned:0,active:1,moving:2}}},t.TypeInfo.AccessMapping.fields={},t.TypeInfo.ConnectionData.fields={authenticatedUser:{typeInfo:r.TypeInfo.Identity},authorizedUser:{typeInfo:r.TypeInfo.Identity},lastUserAccess:{isDate:!0},locationServiceData:{typeInfo:t.TypeInfo.LocationServiceData}},t.TypeInfo.LocationMapping.fields={},t.TypeInfo.LocationServiceData.fields={accessMappings:{isArray:!0,typeInfo:t.TypeInfo.AccessMapping},serviceDefinitions:{isArray:!0,typeInfo:t.TypeInfo.ServiceDefinition}},t.TypeInfo.ServiceDefinition.fields={inheritLevel:{enumType:t.TypeInfo.InheritLevel},locationMappings:{isArray:!0,typeInfo:t.TypeInfo.LocationMapping},relativeToSetting:{enumType:t.TypeInfo.RelativeToSetting},status:{enumType:t.TypeInfo.ServiceStatus}}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Locations/RestClient",["require","exports","VSS/Locations/Contracts","VSS/WebApi/Contracts","VSS/WebApi/RestClient"],function(e,t,r,o,n){var i=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getConnectionData=function(e,t,o){var n={connectOptions:e,lastChangeId:t,lastChangeId64:o};return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"00d9565f-ed9c-4a06-9a50-00e7896ccab4",resource:"ConnectionData",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.ConnectionData,responseIsCollection:!1,queryParams:n,apiVersion:"3.0-preview.1"})},t.prototype.deleteServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"3.0-preview.1"})},t.prototype.getServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"3.0-preview.1"})},t.prototype.getServiceDefinitions=function(e){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!0,routeValues:{serviceType:e},apiVersion:"3.0-preview.1"})},t.prototype.updateServiceDefinitions=function(e){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",requestType:o.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,apiVersion:"3.0-preview.1",data:e})},t}(n.VssHttpClient);t.LocationsHttpClient3=i;var a=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getConnectionData=function(e,t,o){var n={connectOptions:e,lastChangeId:t,lastChangeId64:o};return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"00d9565f-ed9c-4a06-9a50-00e7896ccab4",resource:"ConnectionData",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.ConnectionData,responseIsCollection:!1,queryParams:n,apiVersion:"2.2-preview.1"})},t.prototype.deleteServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"2.2-preview.1"})},t.prototype.getServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"2.2-preview.1"})},t.prototype.getServiceDefinitions=function(e){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!0,routeValues:{serviceType:e},apiVersion:"2.2-preview.1"})},t.prototype.updateServiceDefinitions=function(e){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",requestType:o.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,apiVersion:"2.2-preview.1",data:e})},t}(n.VssHttpClient);t.LocationsHttpClient2_2=a;var s=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getConnectionData=function(e,t,o){var n={connectOptions:e,lastChangeId:t,lastChangeId64:o};return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"00d9565f-ed9c-4a06-9a50-00e7896ccab4",resource:"ConnectionData",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.ConnectionData,responseIsCollection:!1,queryParams:n,apiVersion:"2.1-preview.1"})},t.prototype.deleteServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"2.1-preview.1"})},t.prototype.getServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"2.1-preview.1"})},t.prototype.getServiceDefinitions=function(e){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!0,routeValues:{serviceType:e},apiVersion:"2.1-preview.1"})},t.prototype.updateServiceDefinitions=function(e){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",requestType:o.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,apiVersion:"2.1-preview.1",data:e})},t}(n.VssHttpClient);t.LocationsHttpClient2_1=s;var c=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getConnectionData=function(e,t,o){var n={connectOptions:e,lastChangeId:t,lastChangeId64:o};return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"00d9565f-ed9c-4a06-9a50-00e7896ccab4",resource:"ConnectionData",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.ConnectionData,responseIsCollection:!1,queryParams:n,apiVersion:"2.0-preview.1"})},t.prototype.deleteServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"2.0-preview.1"})},t.prototype.getServiceDefinition=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!1,routeValues:{serviceType:e,identifier:t},apiVersion:"2.0-preview.1"})},t.prototype.getServiceDefinitions=function(e){return this._beginRequest({httpMethod:"GET",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",responseType:r.TypeInfo.ServiceDefinition,responseIsCollection:!0,routeValues:{serviceType:e},apiVersion:"2.0-preview.1"})},t.prototype.updateServiceDefinitions=function(e){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Location",locationId:"d810a47d-f4f4-4a62-a03f-fa1860585c4c",resource:"ServiceDefinitions",routeTemplate:"_apis/{resource}/{serviceType}/{identifier}",requestType:o.TypeInfo.VssJsonCollectionWrapperV,responseIsCollection:!1,apiVersion:"2.0-preview.1",data:e})},t}(n.VssHttpClient);t.LocationsHttpClient2=c;var p=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(i);t.LocationsHttpClient=p}),define("VSS/Utils/File",["require","exports"],function(e,t){function r(e){if("undefined"==typeof window.atob)return i.Unknown;for(var t=window.atob(e),r=[],o=0;4>o;o++)r.push(t.charCodeAt(o));if(254===r[0]&&255===r[1])return i.UTF16_BE;if(255===r[0]&&254===r[1])return 0===r[2]&&0===r[3]?i.UTF32_LE:i.UTF16_LE;if(239===r[0]&&187===r[1]&&191===r[2])return i.UTF8;if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return i.UTF32_BE;for(var n=!0,o=0,a=t.length;a>o;o++){var s=t.charCodeAt(o);if((31>=s||127==s)&&9!=s&&12!=s&&13!=s&&10!=s&&26!=s)return i.Binary;s>127&&(n=!1)}return n?i.ASCII:i.UTF8}function o(e,t,r){void 0===r&&(r="/");var o=e||"";return t&&(o=n(o,r),o+=t.substr(0,r.length)===r?t.substr(r.length):t),o}function n(e,t){return void 0===t&&(t="/"),e?e.substr(e.length-t.length)===t?e:e+t:t}!function(e){e[e.Unknown=0]="Unknown",e[e.Binary=1]="Binary",e[e.ASCII=2]="ASCII",e[e.UTF8=3]="UTF8",e[e.UTF32_BE=4]="UTF32_BE",e[e.UTF32_LE=5]="UTF32_LE",e[e.UTF16_BE=6]="UTF16_BE",e[e.UTF16_LE=7]="UTF16_LE"}(t.FileEncoding||(t.FileEncoding={}));var i=t.FileEncoding;t.tryDetectFileEncoding=r,t.combinePaths=o,t.ensureTrailingSeparator=n}),define("VSS/Utils/Url",["require","exports","VSS/Diag","VSS/Utils/File","VSS/Utils/String","VSS/VSS"],function(e,t,r,o,n,i){function a(e){r.Debug.assert("string"==typeof e);var t=e.trim(),o=t.indexOf(":");if(o>=0)for(var i=t.substr(0,o),a=0;a<f.length;a++)if(0===n.ignoreCaseComparer(i,f[a]))return!0;return!1}function s(e,t,r){var o=e.search(t+"="+r);if(o>-1)return e;var n=new RegExp("("+t+"=).*?(&|$)"),i=e.replace(n,"$1"+r+"$2");return i===e&&(i=i+(i.indexOf("?")>0?"&":"?")+t+"="+r),i}function c(e){return e&&e.length<=2e3}function p(){return g}function u(e){var t={},r=e.split("?");if(r.length>1){var o=r[1],n=o.split("#"),i=n[0],a=i.split("&");a.forEach(function(e){var r=e.split("=");if(2==r.length){var o=r[0],n=decodeURIComponent(r[1]);t[o]||(t[o]=n)}})}return t}function l(e){return e?(e=e.toLowerCase(),0===e.indexOf("http:")||0===e.indexOf("https:")):!1}var d=i.handleError,f=["http","https","ftp","gopher","mailto","news","telnet","wais","vstfs","tfs","alm","mtm","mtms","mtr","mtrs","mfbclient","mfbclients","x-mvwit"];t.isSafeProtocol=a,t.replaceUrlParam=s,t.isUrlWithinConstraints=c;var m=function(){function e(){this._urlTranslators=[]}return e.prototype.registerUrlTranslator=function(e,t){this._urlTranslators.push({translator:e,order:t||100}),this._urlTranslators.sort(function(e,t){return e.order-t.order})},e.prototype.beginTranslateUrl=function(e,t,r,o){function n(e){$.isFunction(r)&&r.call(c,e)}function i(e){d(e,o,c)}function s(){var r=c._urlTranslators[p++];r?r.translator.call(c,e,t,n,i,s):n(e)}var c=this,p=0;if(e){if(!a(e))return n(null);s()}else n(e)},e}();t.UrlTranslatorService=m;var g=new m;t.getTranslatorService=p,t.getQueryParameters=u;var y=function(){function e(e){e&&this._setFromUriString(e,null)}return e.parse=function(t,r){var o=new e;return o._setFromUriString(t,r),o},e.prototype._setFromUriString=function(e,t){var r=e,o=n.singleSplit(r,"#");o.match?(r=o.part1,this.hashString=o.part2):this.hashString="";var i=n.singleSplit(r,"?");i.match?(r=i.part1,this.queryString=i.part2):this.queryParameters=[];var a=n.singleSplit(r,"://");if(a.match){this.scheme=a.part1,r=a.part2;var s=n.singleSplit(r,"/");s.match?(r=s.part1,this.path=s.part2):this.path="";var c=n.singleSplit(r,":");c.match&&c.part2?(this.host=c.part1,this.port=parseInt(c.part2)):(this.host=r,this.port=0)}else this.scheme="",this.host="",this.port=0,this.path=r;if(t&&t.absoluteUriRequired&&!this.scheme)throw new Error('The uri string "'+e+'" does not represent a valid absolute uri.')},Object.defineProperty(e.prototype,"absoluteUri",{get:function(){var e="";this.scheme&&(e=this.scheme+"://"),this.host&&(e+=this.host,this.port&&(e+=":"+this.port),e+="/"),this.path&&(e=e?o.combinePaths(e,this.path):this.path);var t=this.queryString;return t&&(e+="?"+t),this.hashString&&(e+="#"+this.hashString),e},set:function(e){this._setFromUriString(e||"",!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryString",{get:function(){return this.queryParameters&&this.queryParameters.length?this.queryParameters.map(function(e){return e.value?encodeURIComponent(e.name)+"="+encodeURIComponent(e.value):encodeURIComponent(e.name)}).join("&"):""},set:function(e){var t=this;this.queryParameters=[],e.split("&").forEach(function(e){if(e){var r=n.singleSplit(e,"="),o=r.match?decodeURIComponent(r.part2):"";t.queryParameters.push({name:decodeURIComponent(r.part1),value:o})}})},enumerable:!0,configurable:!0}),e.prototype.getQueryParam=function(e){var t;if(this.queryParameters){var r=this.queryParameters.filter(function(t){return n.equals(t.name,e,!0)});r.length>0&&(t=r[0].value)}return t},e.prototype.addQueryParam=function(e,t,r){this.queryParameters||(this.queryParameters=[]),r&&(this.queryParameters=this.queryParameters.filter(function(t){return!n.equals(t.name,e,!0)})),this.queryParameters.push({name:e,value:t})},e}();t.Uri=y,t.isAbsoluteUrl=l}),define("VSS/WebApi/Constants",["require","exports"],function(e,t){var r;!function(e){e.PublicAccessMappingMoniker="PublicAccessMapping",e.ServerAccessMappingMoniker="ServerAccessMapping",e.ClientAccessMappingMoniker="ClientAccessMapping",e.HostGuidAccessMappingMoniker="HostGuidAccessMapping",e.RootDomainMappingMoniker="RootDomainMapping",e.AzureInstanceMappingMoniker="AzureInstanceMapping"}(r=t.AccessMappingConstants||(t.AccessMappingConstants={}));var o;!function(e){e.AuthenticationLocationId="11420b6b-3324-490a-848d-b8aafdb906ba",e.AreaId="A084B81B-0F23-4136-BAEA-98E07F3C7446",e.AuthenticationAreaName="WebPlatformAuth",e.SessionTokenResource="SessionToken"}(o=t.AuthenticationResourceIds||(t.AuthenticationResourceIds={}));var n;!function(e){e.ResourceId="8907fe1c-346a-455b-9ab9-dde883687231",e.ResourceString="{8907fe1c-346a-455b-9ab9-dde883687231}",e.ResouceName="BlobCopyRequest",e.AreaName="BlobCopyRequest"}(n=t.BlobCopyLocationIds||(t.BlobCopyLocationIds={}));var i;!function(e){e.IdentitiesLocationId="4102f006-0b23-4b26-bb1b-b661605e6b33",e.IdentityAvatarLocationId="4d9b6936-e96a-4a42-8c3b-81e8337cd010",e.IdentityFeatureMruLocationId="839e4258-f559-421b-a38e-b6e691967ab3",e.IdentityConnectionsLocationId="c01af8fd-2a61-4811-a7a3-b85bcec080af",e.ServiceArea="IdentityPicker",e.IdentitiesResource="Identities"}(i=t.CommonIdentityPickerResourceIds||(t.CommonIdentityPickerResourceIds={}));var a;!function(e){e.DataProvidersQueryLocationId="738368db-35ee-4b85-9f94-77ed34af2b0d",e.InstalledAppsLocationId="2648442b-fd63-4b9a-902f-0c913510f139",e.InstalledAppsByNameLocationId="3e2f6668-0798-4dcb-b592-bfe2fa57fde2",e.VDiscId="0edf7a35-282d-44f1-a0cf-d7ec1c1afeff",e.VersionDiscoveryLocationId="c2088efa-e2c2-4025-8062-4dd27b6ac83e",e.VDiscCompatLocationId="5c026a00-bd90-4fde-862a-268345cc58b0",e.AreaId="8477AEC9-A4C7-4BD4-A456-BA4C53C989CB",e.ContributionsAreaName="Contribution",e.ExtensionsAreaName="Extensions",e.DataProvidersQueryLocationIdString="738368DB-35EE-4B85-9F94-77ED34AF2B0D",e.InstalledExtensionsLocationIdString="2648442B-FD63-4B9A-902F-0C913510F139",e.InstalledExtensionsByNameLocationIdString="3E2F6668-0798-4DCB-B592-BFE2FA57FDE2",e.VersionDiscoveryLocationIdString="C2088EFA-E2C2-4025-8062-4DD27B6AC83E",e.VDiscCompatLocationIdString="5C026A00-BD90-4FDE-862A-268345CC58B0"}(a=t.ContributionsResourceIds||(t.ContributionsResourceIds={}));var s;!function(e){e.EventsLocationId="b5cc35c2-ff2b-491d-a085-24b6e9f396fd",e.AreaId="40132BEE-F5F3-4F39-847F-80CC44AD9ADD",e.CustomerIntelligenceAreaName="CustomerIntelligence"}(s=t.CustomerIntelligenceResourceIds||(t.CustomerIntelligenceResourceIds={}));var c;!function(e){e.ResourceId="d56223df-8ccd-45c9-89b4-eddf69240000",e.ResourceString="{D56223DF-8CCD-45C9-89B4-EDDF69240000}",e.ResouceName="DatabaseMigration",e.AreaName="DatabaseMigration"}(c=t.DatabaseMigrationLocationIds||(t.DatabaseMigrationLocationIds={}));var p;!function(e){e.ServiceInstanceType="$ServiceInstanceType"}(p=t.ExtensionTemplateContextItemNames||(t.ExtensionTemplateContextItemNames={}));var u;!function(e){e.FeatureFlagsLocationId="3e2b80f8-9e6f-441e-8393-005610692d9c",e.AreaId="C8E5AF97-4B95-4E73-9E7F-69A06507967C",e.FeatureAvailabilityAreaName="FeatureAvailability"}(u=t.FeatureAvailabilityResourceIds||(t.FeatureAvailabilityResourceIds={}));var l;!function(e){e.MruIdentitiesLocationId="15d952a1-bb4e-436c-88ca-cfe1e9ff3331",e.AreaId="FC3682BE-3D6C-427A-87C8-E527B16A1D05",e.AreaName="Identity",e.MruIdentitiesResource="MruIdentities"}(l=t.IdentityMruResourceIds||(t.IdentityMruResourceIds={}));var d;!function(e){e.ConnectionData="00d9565f-ed9c-4a06-9a50-00e7896ccab4",e.ServiceDefinitions="d810a47d-f4f4-4a62-a03f-fa1860585c4c",e.AccessMappings="a52f2f69-b171-4e88-9dfe-34b44cf7e386",e.LocationServiceArea="Location",e.ConnectionDataResource="ConnectionData",e.ServiceDefinitionsResource="ServiceDefinitions",e.AccessMappingsResource="AccessMappings"}(d=t.LocationResourceIds||(t.LocationResourceIds={}));var f;!function(e){e.OperationsLocationId="9a1b74b4-2ca8-4a9f-8470-c2f2e6fdc949",e.AreaName="operations",e.OperationsResource="operations",e.OperationsRouteName="Operations",e.OperationsApi="OperationsApi"}(f=t.OperationsResourceIds||(t.OperationsResourceIds={}));var m;!function(e){e.SPS="951917ac-a960-4999-8464-e3f0aa25b381",e.TFS="00025394-6065-48ca-87d9-7f5672854ef7",e.TFSOnPremises="87966eaa-cb2a-443f-be3c-47bd3b5bf3cb",e.SpsExtension="00000024-0000-8888-8000-000000000000",e.SDKSample="ffffffff-0000-8888-8000-000000000000",e.SPSString="951917AC-A960-4999-8464-E3F0AA25B381",e.TFSString="00025394-6065-48CA-87D9-7F5672854EF7",e.TFSOnPremisesString="87966EAA-CB2A-443F-BE3C-47BD3B5BF3CB",e.SpsExtensionString="00000024-0000-8888-8000-000000000000",e.SDKSampleString="FFFFFFFF-0000-8888-8000-000000000000"}(m=t.ServiceInstanceTypes||(t.ServiceInstanceTypes={}))}),define("VSS/Locations",["require","exports","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","VSS/Locations/RestClient","q","VSS/Utils/File","VSS/Utils/String","VSS/Utils/Url","VSS/WebApi/Constants"],function(e,t,r,o,n,i,a,s,c,p,u){function l(e,t){var r=h[t];if(r)return r;var o=a.defer();return r=o.promise,h[t]=r,e.getServiceDefinitions("LocationService2").then(function(e){var r;T[t]||(T[t]={}),r=T[t],$.each(e,function(e,t){if(t.locationMappings){var o=$.grep(t.locationMappings,function(e){return"PublicAccessMapping"===e.accessMappingMoniker||"ServerAccessMapping"===e.accessMappingMoniker})[0];o&&(o.location=s.ensureTrailingSeparator(o.location),r[t.identifier]=o.location,r[t.parentIdentifier]=o.location)}}),o.resolve(r)},function(){o.reject}),r}function d(e,t,r,o){var n=e[t.toLowerCase()];return n}function f(e,t,r){var i=null,a=o.getPageContext();if(a.serviceLocations){var s=a.serviceLocations.locations[e.toLowerCase()];s&&(i=s[t])}return i||c.equals(a.serviceInstanceId,e,!0)&&(r&&a.webContext.host.id!==r.host.id||(t===n.ContextHostType.Deployment&&a.webContext.host.hostType===n.ContextHostType.Deployment?i=a.webContext.host.uri:t===n.ContextHostType.Application&&a.webContext.account?i=a.webContext.account.uri:t===n.ContextHostType.ProjectCollection&&a.webContext.collection&&(i=a.webContext.collection.uri))),i||T[t]&&(i=d(T[t],e,t,r)),i}function m(e,t,r){T[r]||(T[r]={}),T[r][t]=e}function g(e,t,c,p){void 0===p&&(p=!1);var m=a.defer();if(c||(c=o.getDefaultWebContext()),!o.getPageContext().webAccessConfiguration.isHosted)return t===n.ContextHostType.ProjectCollection?(c.collection||m.reject("Cannot get collection location given application context."),m.resolve(c.collection.uri)):m.resolve(c.account.uri),m.promise;var g=f(e,t,c);if(g)m.resolve(g);else{e===u.ServiceInstanceTypes.SPS&&m.reject("SPS Locations must exist in cached page context.");var y,h=f(u.ServiceInstanceTypes.SPS,t,c),T=new i.LocationsHttpClient(h);(t===n.ContextHostType.Deployment||o.getPageContext().navigation.topMostLevel===n.NavigationContextLevels.Deployment)&&(y=r.CoreNamedWebSessionTokenIds.Profile),T.authTokenManager=r.getAuthTokenManager(y),l(T,t).then(function(r){g=d(r,e,t,c),g?m.resolve(g):p?T.getServiceDefinition("LocationService2",e).then(function(e){if(e&&e.locationMappings){var t=$.grep(e.locationMappings,function(e){return"ServerAccessMapping"===e.accessMappingMoniker})[0];if(t)return t.location=s.ensureTrailingSeparator(t.location),g=t.location,void m.resolve(g)}m.reject(new Error("Could not create location for service {serviceInstanceId}."))},function(e){m.reject(new Error("Error getting location for service {serviceInstanceId}: {error ? error.message : error}."))}):m.reject(new Error("Location for service {serviceInstanceId} does not exist."))},m.reject)}return m.promise}var y=function(){function e(e,t){void 0===e&&(e="_"),void 0===t&&(t="_"),this._areaPrefix=e,this._controllerPrefix=t}return e.prototype.getContentUrl=function(e){var t,r=e.webContext||o.getDefaultWebContext();if(e.serviceInstanceId&&o.getPageContext().webAccessConfiguration.isHosted){if(t=f(e.serviceInstanceId,e.hostType,r),!t)throw new Error("Could not get url for service "+e.serviceInstanceId+" since it is not yet in the cache.")}else{var i;i=e.hostType===n.ContextHostType.Application&&r.account?r.account:r.host,t=window.self==window.top?encodeURI(i.relativeUri):i.uri}return e.relativePath&&(t=s.combinePaths(t,e.relativePath)),e.queryParams&&(t+="?"+$.param(e.queryParams)),t},e.prototype.getVersionedContentUrl=function(e,t){var r,i=o.getPageContext();if(window.self!=window.top||t&&i.webAccessConfiguration.isHosted){var a=o.getDefaultWebContext();if(t&&!i.webAccessConfiguration.isHosted){var c=a.host.hostType===n.ContextHostType.ProjectCollection?n.ContextHostType.Application:a.host.hostType,u=f(t,c,a);if(!u)throw new Error("Could not get url for service "+t+" since it is not yet in the cache.");var l=o.getPathsForService(t);if(!l)throw new Error("Could not get web access paths for service "+t+" since it is not yet in page context data.");r=l.resourcesPath,p.isAbsoluteUrl(r)||(r=s.combinePaths(u,r))}else if(r=i.webAccessConfiguration.paths.resourcesPath,!p.isAbsoluteUrl(r)){var d=a.host.uri.substr(0,a.host.uri.length-(a.host.relativeUri||"").length);r=s.combinePaths(d,r)}}else r=i.webAccessConfiguration.paths.resourcesPath;return s.combinePaths(r,e)},e.prototype.beginGetMvcUrl=function(e){var t=this;if(e.serviceInstanceId){var r;return e.level?(r=e.level,e.level>=n.NavigationContextLevels.Collection&&(r=n.ContextHostType.ProjectCollection)):r=(e.webContext||o.getDefaultWebContext()).host.hostType,g(e.serviceInstanceId,r,e.webContext).then(function(r){return t.getMvcUrl(e)})}return a.resolve(this.getMvcUrl(e))},e.prototype.getMvcUrl=function(e){
var t=e.webContext||o.getDefaultWebContext(),r="api"===e.area,i=[],a=e.level;a||(a=o.getPageContext().navigation.topMostLevel);var s=a;return(a>=n.NavigationContextLevels.Project||e.project)&&(s=n.ContextHostType.ProjectCollection,e.project?i.push(e.project):t.project&&i.push(r?t.project.id:t.project.name),(a>=n.NavigationContextLevels.Team||e.team)&&(e.team?i.push(e.team):t.team&&i.push(r?t.team.id:t.team.name))),e.area&&i.push(this._areaPrefix+e.area),e.controller&&i.push(this._controllerPrefix+e.controller),e.action&&i.push(e.action),e.parameters&&(i=i.concat(e.parameters)),this.getContentUrl({hostType:s,serviceInstanceId:e.serviceInstanceId,webContext:t,relativePath:encodeURI(i.join("/")),queryParams:e.queryParams})},e}();t.UrlHelper=y,t.urlHelper=new y;var h={},T={};t.getCachedServiceLocation=f,t.addServiceLocation=m,t.beginGetServiceLocation=g}),define("VSS/SDK/XDM",["require","exports"],function(e,t){function r(e){return t.channelManager.addChannel(e)}t.createChannel=r}),define("VSS/SDK/Shim",["require","exports","q","VSS/SDK/XDM"],function(e,t,r,o){function n(){return!(!window.VSS||!window.VSS.VssSDKVersion)}var i=function(){function e(){}return e.prototype.getService=function(e,t){var o=r.defer();return o.promise},e.prototype.getServiceContributions=function(e){var t=r.defer();return t.promise},e.prototype.register=function(e,t){o.globalObjectRegistry.register(e,t)},e.prototype.getRegisteredObject=function(e,t){return o.globalObjectRegistry.getInstance(e,t)},e.prototype.resize=function(){},e}();t.isSdkReferenced=n,n()?t.VSS=window.VSS:t.VSS=new i}),define("VSS/Service",["require","exports","VSS/Authentication/Services","VSS/Context","VSS/Common/Contracts/Platform","VSS/Diag","VSS/Locations","VSS/SDK/Shim","VSS/Utils/String","VSS/VSS"],function(e,t,r,o,n,i,a,s,c,p){function u(e,t,r){return I.getService(e,t,r)}function l(e,t){return h.getConnection(t,n.ContextHostType.ProjectCollection).getService(e)}function d(e,t){return h.getConnection(t,n.ContextHostType.Application).getService(e)}function f(e,t){return h.getConnection(t).getService(e)}function m(e,t,r,o,i){return h.getConnection(t,n.ContextHostType.ProjectCollection).getHttpClient(e,r,o,i)}function g(e,t,r,o,i){return h.getConnection(t,n.ContextHostType.Application).getHttpClient(e,r,o,i)}function y(e,t,r,o,n){return h.getConnection(t).getHttpClient(e,r,o,n)}var h=function(){function e(t,r){this._webContext=t||o.getDefaultWebContext(),this._hostType=r||this._webContext.host.hostType,this._hostContext=e.getHostContext(this._webContext,r),this._services={},this._httpClients={}}return e.getConnection=function(t,r){t||(t=o.getDefaultWebContext()),r||(r=t.host.hostType);var i=e.getHostContext(t,r).uri;r===n.ContextHostType.ProjectCollection&&t.project&&(i+="/"+t.project.id,t.team&&(i+="/"+t.team.id));var a=e._connectionsCache[i];return a||(a=new e(t,r),e._connectionsCache[i]=a),a},e.getHostContext=function(e,t){var r;if(r=t===n.ContextHostType.ProjectCollection?e.collection:t===n.ContextHostType.Application?e.account:e.host,!r)throw new Error("Desired host type not supported on the given web context");return r},e.prototype.getWebContext=function(){return this._webContext},e.prototype.getHostContext=function(){return this._hostContext},e.prototype.getHostType=function(){return this._hostType},e.prototype.getHostUrl=function(){return window.self!==window.top?this._hostContext.uri:encodeURI(this._hostContext.relativeUri)},e.prototype.getService=function(e,t){void 0===t&&(t=!0);var r,o;return i.Debug.assertIsNotNull(e,"serviceType"),o="vssService."+p.getTypeName(e),t&&(r=this._services[o]),r||(r=new e,r.initializeConnection(this),t&&(this._services[o]=r)),r},e.prototype.getHttpClient=function(e,t,n,a){var c,u,l,d=this;if(t||(t=e.serviceInstanceId),i.Debug.assertIsNotNull(e,"httpClientType"),u="vssHttpClient."+p.getTypeName(e),l=!n&&o.getPageContext().webAccessConfiguration.isHosted&&t&&t!==o.getPageContext().serviceInstanceId,l&&(u+="."+t),a&&(u+="."+JSON.stringify(a)),c=this._httpClients[u],!c){var f=this.getHostUrl();if(n&&(f=this._hostContext.uri),c=new e(f,a),n)c.authTokenManager=n;else if(l){var m=this.beginGetServiceUrl(t,this._hostType,!0).then(function(e){c._rootRequestPath=e,d._isSameOrigin(e)&&window.self===window.top||(c.authTokenManager=r.getAuthTokenManager())});c._setInitializationPromise(m),c.forceOptionsCallForAutoNegotiate=!0}else window.self!==window.top&&s.isSdkReferenced()&&(c.authTokenManager=r.getAuthTokenManager());this._httpClients[u]=c}return c},e.prototype.beginGetServiceUrl=function(e,t,r){return void 0===r&&(r=!1),t||(t=this._hostType),a.beginGetServiceLocation(e,t,this._webContext,r)},e.prototype._isSameOrigin=function(e){var t=c.format("{0}//{1}",window.location.protocol,window.location.host).toLowerCase();return 0===e.toLowerCase().indexOf(t)},e._connectionsCache={},e}();t.VssConnection=h;var T=function(){function e(){}return e.prototype.getConnection=function(){return this._connection},e.prototype.getWebContext=function(){return this._connection.getWebContext()},e.prototype.initializeConnection=function(e){this._connection=e},e}();t.VssService=T;var I=function(){function e(){}return e.getService=function(e,t,r){i.Debug.assertIsNotNull(e,"serviceType"),t=t!==!1,r||(r=o.getDefaultWebContext());var n,a="vssLocalService."+p.getTypeName(e);return t&&(n=this._services[a]),n||(n=new e(r),t&&(this._services[a]=n)),n},e._services={},e}();t.getLocalService=u,t.getCollectionService=l,t.getApplicationService=d,t.getService=f,t.getCollectionClient=m,t.getApplicationClient=g,t.getClient=y,p.tfsModuleLoaded("VSS.OM",t)});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../VSS/WorkItemTracking/RestClient",["require","exports","VSS/WorkItemTracking/Contracts","VSS/WebApi/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(e,t,r,o,n,i,a){function s(e){return window.VSS&&window.VSS.VssSDKRestVersion&&m[window.VSS.VssSDKRestVersion]?n.getClient(m[window.VSS.VssSDKRestVersion],void 0,void 0,void 0,e):n.getClient(u,void 0,void 0,void 0,e)}var c=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createAttachment=function(e,t,o){var n={fileName:t,uploadType:o};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.AttachmentReference,responseIsCollection:!1,customHeaders:{"Content-Type":"application/octet-stream"},queryParams:n,apiVersion:"3.0-preview.2",data:e,isRawData:!0})},t.prototype.getAttachmentContent=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"3.0-preview.2"})},t.prototype.getAttachmentZip=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"3.0-preview.2"})},t.prototype.getRootNodes=function(e,t){var o={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"3.0-preview.2"})},t.prototype.createOrUpdateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"3.0-preview.2",data:e})},t.prototype.deleteClassificationNode=function(e,t,o,n){var i={$reclassifyId:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.getClassificationNode=function(e,t,o,n){var i={$depth:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.updateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"3.0-preview.2",data:e})},t.prototype.getField=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!1,routeValues:{field:e},apiVersion:"3.0-preview.2"})},t.prototype.getFields=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!0,apiVersion:"3.0-preview.2"})},t.prototype.getHistory=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"3.0-preview.2"})},t.prototype.getHistoryById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},apiVersion:"3.0-preview.2"})},t.prototype.createQuery=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},apiVersion:"3.0-preview.2",data:e})},t.prototype.deleteQuery=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseIsCollection:!1,routeValues:{project:e,query:t},apiVersion:"3.0-preview.2"})},t.prototype.getQueries=function(e,t,o,n){var i={$expand:t,$depth:o,$includeDeleted:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:e},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.getQuery=function(e,t,o,n,i){var a={$expand:o,$depth:n,$includeDeleted:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:e,query:t},queryParams:a,apiVersion:"3.0-preview.2"})},t.prototype.updateQuery=function(e,t,o,n){var i={$undeleteDescendants:n};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},queryParams:i,apiVersion:"3.0-preview.2",data:e})},t.prototype.destroyWorkItem=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"3.0-preview.1"})},t.prototype.getDeletedWorkItem=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"3.0-preview.1"})},t.prototype.getDeletedWorkItems=function(e,t){var o={ids:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDeleteReference,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"3.0-preview.1"})},t.prototype.restoreWorkItem=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",requestType:r.TypeInfo.WorkItemDeleteUpdate,responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:o,id:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.getRevision=function(e,t,o){var n={$expand:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},queryParams:n,apiVersion:"3.0-preview.2"})},t.prototype.getRevisions=function(e,t,o,n){var i={$top:t,$skip:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,routeValues:{id:e},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.evaluateRulesOnField=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"1a3a1536-dca6-4509-b9c3-dd9bb2981506",resource:"ruleEngine",routeTemplate:"_apis/{area}/${resource}",requestType:r.TypeInfo.FieldsToEvaluate,responseIsCollection:!1,apiVersion:"3.0-preview.1",data:e})},t.prototype.getUpdate=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!1,routeValues:{id:e,updateNumber:t},apiVersion:"3.0-preview.2"})},t.prototype.getUpdates=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"3.0-preview.2"})},t.prototype.queryByWiql=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.Wiql,responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o},queryParams:i,apiVersion:"3.0-preview.2",data:e})},t.prototype.queryById=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o,id:e},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.getReportingLinks=function(e,t,o,n){var i={types:t&&t.join(","),continuationToken:o,startDateTime:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemLinksBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.getRelationType=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!1,routeValues:{relation:e},apiVersion:"3.0-preview.2"})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!0,apiVersion:"3.0-preview.2"})},t.prototype.readReportingRevisionsGet=function(e,t,o,n,i,a,s,c){var p={fields:t&&t.join(","),types:o&&o.join(","),continuationToken:n,startDateTime:i,includeIdentityRef:a,includeDeleted:s,includeTagRef:c};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:p,apiVersion:"3.0-preview.2"})},t.prototype.readReportingRevisionsPost=function(e,t,o,n){var i={continuationToken:o,startDateTime:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",requestType:r.TypeInfo.ReportingWorkItemRevisionsFilter,responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:t},queryParams:i,apiVersion:"3.0-preview.2",data:e})},t.prototype.deleteWorkItem=function(e,t){var o={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{id:e},queryParams:o,apiVersion:"3.0-preview.2"})},t.prototype.getWorkItem=function(e,t,o,n){var i={fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e},queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.getWorkItems=function(e,t,o,n){var i={ids:e&&e.join(","),fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,queryParams:i,apiVersion:"3.0-preview.2"})},t.prototype.updateWorkItem=function(e,t,n,i){var a={validateOnly:n,bypassRules:i};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:a,apiVersion:"3.0-preview.2",data:e})},t.prototype.createWorkItem=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"3.0-preview.2",data:e})},t.prototype.getWorkItemTemplate=function(e,t,o,n,i){var a={fields:o,asOf:n,$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:a,apiVersion:"3.0-preview.2"})},t.prototype.updateWorkItemTemplate=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"3.0-preview.2",data:e})},t.prototype.getWorkItemTypeCategories=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!0,routeValues:{project:e},apiVersion:"3.0-preview.2"})},t.prototype.getWorkItemTypeCategory=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!1,routeValues:{project:e,category:t},apiVersion:"3.0-preview.2"})},t.prototype.getWorkItemType=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!1,routeValues:{project:e,type:t},apiVersion:"3.0-preview.2"})},t.prototype.getWorkItemTypes=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!0,routeValues:{project:e},apiVersion:"3.0-preview.2"})},t.prototype.getDependentFields=function(e,t,o){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseType:r.TypeInfo.FieldDependentRule,responseIsCollection:!1,routeValues:{project:e,type:t,field:o},apiVersion:"3.0-preview.1"})},t.prototype.exportWorkItemTypeDefinition=function(e,t,o){var n={exportGlobalLists:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemTypeTemplate,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:n,apiVersion:"3.0-preview.1"})},t.prototype.updateWorkItemTypeDefinition=function(e,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:r.TypeInfo.WorkItemTypeTemplateUpdateModel,responseType:r.TypeInfo.ProvisioningResult,responseIsCollection:!1,routeValues:{project:t},apiVersion:"3.0-preview.1",data:e})},t.serviceInstanceId=a.ServiceInstanceTypes.TFS,t}(i.VssHttpClient);t.WorkItemTrackingHttpClient3=c;var p=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createAttachment=function(e,t,o){var n={fileName:t,uploadType:o};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.AttachmentReference,responseIsCollection:!1,customHeaders:{"Content-Type":"application/octet-stream"},queryParams:n,apiVersion:"2.3",data:e,isRawData:!0})},t.prototype.getAttachmentContent=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.3"})},t.prototype.getAttachmentZip=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.3"})},t.prototype.getRootNodes=function(e,t){var o={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.3"})},t.prototype.createOrUpdateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.3",data:e})},t.prototype.deleteClassificationNode=function(e,t,o,n){var i={$reclassifyId:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.3"})},t.prototype.getClassificationNode=function(e,t,o,n){var i={$depth:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.3"})},t.prototype.updateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.3",data:e})},t.prototype.getField=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!1,routeValues:{field:e},apiVersion:"2.3"})},t.prototype.getFields=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!0,apiVersion:"2.3"})},t.prototype.getHistory=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.3"})},t.prototype.getHistoryById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},apiVersion:"2.3"})},t.prototype.createQuery=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},apiVersion:"2.3",data:e})},t.prototype.deleteQuery=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseIsCollection:!1,routeValues:{project:e,query:t},apiVersion:"2.3"})},t.prototype.getQueries=function(e,t,o,n){var i={$expand:t,$depth:o,$includeDeleted:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:e},queryParams:i,apiVersion:"2.3"})},t.prototype.getQuery=function(e,t,o,n,i){var a={$expand:o,$depth:n,$includeDeleted:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:e,query:t},queryParams:a,apiVersion:"2.3"})},t.prototype.updateQuery=function(e,t,o,n){var i={$undeleteDescendants:n};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o
},queryParams:i,apiVersion:"2.3",data:e})},t.prototype.destroyWorkItem=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"2.3-preview.1"})},t.prototype.getDeletedWorkItem=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"2.3-preview.1"})},t.prototype.getDeletedWorkItems=function(e,t){var o={ids:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDeleteReference,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.3-preview.1"})},t.prototype.restoreWorkItem=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",requestType:r.TypeInfo.WorkItemDeleteUpdate,responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:o,id:t},apiVersion:"2.3-preview.1",data:e})},t.prototype.getRevision=function(e,t,o){var n={$expand:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},queryParams:n,apiVersion:"2.3"})},t.prototype.getRevisions=function(e,t,o,n){var i={$top:t,$skip:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,routeValues:{id:e},queryParams:i,apiVersion:"2.3"})},t.prototype.evaluateRulesOnField=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"1a3a1536-dca6-4509-b9c3-dd9bb2981506",resource:"ruleEngine",routeTemplate:"_apis/{area}/${resource}",requestType:r.TypeInfo.FieldsToEvaluate,responseIsCollection:!1,apiVersion:"2.3",data:e})},t.prototype.getUpdate=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!1,routeValues:{id:e,updateNumber:t},apiVersion:"2.3"})},t.prototype.getUpdates=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.3"})},t.prototype.queryByWiql=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.Wiql,responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o},queryParams:i,apiVersion:"2.3",data:e})},t.prototype.queryById=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o,id:e},queryParams:i,apiVersion:"2.3"})},t.prototype.getReportingLinks=function(e,t,o,n){var i={types:t&&t.join(","),continuationToken:o,startDateTime:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemLinksBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:i,apiVersion:"2.3"})},t.prototype.getRelationType=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!1,routeValues:{relation:e},apiVersion:"2.3"})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!0,apiVersion:"2.3"})},t.prototype.readReportingRevisionsGet=function(e,t,o,n,i,a,s,c){var p={fields:t&&t.join(","),types:o&&o.join(","),continuationToken:n,startDateTime:i,includeIdentityRef:a,includeDeleted:s,includeTagRef:c};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:p,apiVersion:"2.3"})},t.prototype.readReportingRevisionsPost=function(e,t,o,n){var i={continuationToken:o,startDateTime:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",requestType:r.TypeInfo.ReportingWorkItemRevisionsFilter,responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:t},queryParams:i,apiVersion:"2.3",data:e})},t.prototype.deleteWorkItem=function(e,t){var o={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{id:e},queryParams:o,apiVersion:"2.3"})},t.prototype.getWorkItem=function(e,t,o,n){var i={fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e},queryParams:i,apiVersion:"2.3"})},t.prototype.getWorkItems=function(e,t,o,n){var i={ids:e&&e.join(","),fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,queryParams:i,apiVersion:"2.3"})},t.prototype.updateWorkItem=function(e,t,n,i){var a={validateOnly:n,bypassRules:i};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:a,apiVersion:"2.3",data:e})},t.prototype.createWorkItem=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.3",data:e})},t.prototype.getWorkItemTemplate=function(e,t,o,n,i){var a={fields:o,asOf:n,$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:a,apiVersion:"2.3"})},t.prototype.updateWorkItemTemplate=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.3",data:e})},t.prototype.getWorkItemTypeCategories=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.3"})},t.prototype.getWorkItemTypeCategory=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!1,routeValues:{project:e,category:t},apiVersion:"2.3"})},t.prototype.getWorkItemType=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!1,routeValues:{project:e,type:t},apiVersion:"2.3"})},t.prototype.getWorkItemTypes=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.3"})},t.prototype.getDependentFields=function(e,t,o){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseType:r.TypeInfo.FieldDependentRule,responseIsCollection:!1,routeValues:{project:e,type:t,field:o},apiVersion:"2.3"})},t.prototype.exportWorkItemTypeDefinition=function(e,t,o){var n={exportGlobalLists:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemTypeTemplate,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:n,apiVersion:"2.3"})},t.prototype.updateWorkItemTypeDefinition=function(e,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:r.TypeInfo.WorkItemTypeTemplateUpdateModel,responseType:r.TypeInfo.ProvisioningResult,responseIsCollection:!1,routeValues:{project:t},apiVersion:"2.3",data:e})},t.serviceInstanceId=a.ServiceInstanceTypes.TFS,t}(i.VssHttpClient);t.WorkItemTrackingHttpClient2_3=p;var u=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createAttachment=function(e,t,o){var n={fileName:t,uploadType:o};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.AttachmentReference,responseIsCollection:!1,customHeaders:{"Content-Type":"application/octet-stream"},queryParams:n,apiVersion:"2.2",data:e,isRawData:!0})},t.prototype.getAttachmentContent=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.2"})},t.prototype.getAttachmentZip=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.2"})},t.prototype.getRootNodes=function(e,t){var o={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.2"})},t.prototype.createOrUpdateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.2",data:e})},t.prototype.deleteClassificationNode=function(e,t,o,n){var i={$reclassifyId:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.2"})},t.prototype.getClassificationNode=function(e,t,o,n){var i={$depth:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.2"})},t.prototype.updateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.2",data:e})},t.prototype.getField=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!1,routeValues:{field:e},apiVersion:"2.2"})},t.prototype.getFields=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.getHistory=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.2"})},t.prototype.getHistoryById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},apiVersion:"2.2"})},t.prototype.createQuery=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},apiVersion:"2.2",data:e})},t.prototype.deleteQuery=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseIsCollection:!1,routeValues:{project:e,query:t},apiVersion:"2.2"})},t.prototype.getQueries=function(e,t,o,n){var i={$expand:t,$depth:o,$includeDeleted:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:e},queryParams:i,apiVersion:"2.2"})},t.prototype.getQuery=function(e,t,o,n,i){var a={$expand:o,$depth:n,$includeDeleted:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:e,query:t},queryParams:a,apiVersion:"2.2"})},t.prototype.updateQuery=function(e,t,o,n){var i={$undeleteDescendants:n};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},queryParams:i,apiVersion:"2.2",data:e})},t.prototype.destroyWorkItem=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"2.2-preview.1"})},t.prototype.getDeletedWorkItem=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"2.2-preview.1"})},t.prototype.getDeletedWorkItems=function(e,t){var o={ids:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDeleteReference,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.2-preview.1"})},t.prototype.restoreWorkItem=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",requestType:r.TypeInfo.WorkItemDeleteUpdate,responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:o,id:t},apiVersion:"2.2-preview.1",data:e})},t.prototype.getRevision=function(e,t,o){var n={$expand:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},queryParams:n,apiVersion:"2.2"})},t.prototype.getRevisions=function(e,t,o,n){var i={$top:t,$skip:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,routeValues:{id:e},queryParams:i,apiVersion:"2.2"})},t.prototype.evaluateRulesOnField=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"1a3a1536-dca6-4509-b9c3-dd9bb2981506",resource:"ruleEngine",routeTemplate:"_apis/{area}/${resource}",requestType:r.TypeInfo.FieldsToEvaluate,responseIsCollection:!1,apiVersion:"2.2",data:e})},t.prototype.getUpdate=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!1,routeValues:{id:e,updateNumber:t},apiVersion:"2.2"})},t.prototype.getUpdates=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.2"})},t.prototype.queryByWiql=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.Wiql,responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o},queryParams:i,apiVersion:"2.2",data:e})},t.prototype.queryById=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o,id:e},queryParams:i,apiVersion:"2.2"})},t.prototype.getReportingLinks=function(e,t,o,n){var i={types:t&&t.join(","),continuationToken:o,startDateTime:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemLinksBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:i,apiVersion:"2.2"})},t.prototype.getRelationType=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!1,routeValues:{relation:e},apiVersion:"2.2"})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!0,apiVersion:"2.2"})},t.prototype.readReportingRevisionsGet=function(e,t,o,n,i,a,s,c){var p={fields:t&&t.join(","),types:o&&o.join(","),continuationToken:n,startDateTime:i,includeIdentityRef:a,includeDeleted:s,includeTagRef:c};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:p,apiVersion:"2.2"})},t.prototype.readReportingRevisionsPost=function(e,t,o,n){var i={continuationToken:o,startDateTime:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",requestType:r.TypeInfo.ReportingWorkItemRevisionsFilter,responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:t},queryParams:i,apiVersion:"2.2",data:e})},t.prototype.deleteWorkItem=function(e,t){var o={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{id:e},queryParams:o,apiVersion:"2.2"})},t.prototype.getWorkItem=function(e,t,o,n){var i={fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e},queryParams:i,apiVersion:"2.2"})},t.prototype.getWorkItems=function(e,t,o,n){var i={ids:e&&e.join(","),fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,queryParams:i,apiVersion:"2.2"})},t.prototype.updateWorkItem=function(e,t,n,i){var a={validateOnly:n,bypassRules:i};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:a,apiVersion:"2.2",data:e})},t.prototype.createWorkItem=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.2",data:e})},t.prototype.getWorkItemTemplate=function(e,t,o,n,i){var a={fields:o,asOf:n,$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:a,apiVersion:"2.2"})},t.prototype.updateWorkItemTemplate=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.2",data:e})},t.prototype.getWorkItemTypeCategories=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.2"})},t.prototype.getWorkItemTypeCategory=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!1,routeValues:{project:e,category:t},apiVersion:"2.2"})},t.prototype.getWorkItemType=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!1,routeValues:{project:e,type:t},apiVersion:"2.2"})},t.prototype.getWorkItemTypes=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.2"})},t.prototype.getDependentFields=function(e,t,o){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseType:r.TypeInfo.FieldDependentRule,responseIsCollection:!1,routeValues:{project:e,type:t,field:o},apiVersion:"2.2"})},t.prototype.exportWorkItemTypeDefinition=function(e,t,o){var n={exportGlobalLists:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemTypeTemplate,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:n,apiVersion:"2.2"})},t.prototype.updateWorkItemTypeDefinition=function(e,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:r.TypeInfo.WorkItemTypeTemplateUpdateModel,responseType:r.TypeInfo.ProvisioningResult,responseIsCollection:!1,routeValues:{project:t},apiVersion:"2.2",data:e})},t.serviceInstanceId=a.ServiceInstanceTypes.TFS,t}(i.VssHttpClient);t.WorkItemTrackingHttpClient2_2=u;var l=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createAttachment=function(e,t,o){var n={fileName:t,uploadType:o};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.AttachmentReference,responseIsCollection:!1,customHeaders:{"Content-Type":"application/octet-stream"},queryParams:n,apiVersion:"2.1",data:e,isRawData:!0})},t.prototype.getAttachmentContent=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.1"})},t.prototype.getAttachmentZip=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.1"})},t.prototype.getRootNodes=function(e,t){var o={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",
routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.1"})},t.prototype.createOrUpdateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.1",data:e})},t.prototype.deleteClassificationNode=function(e,t,o,n){var i={$reclassifyId:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.1"})},t.prototype.getClassificationNode=function(e,t,o,n){var i={$depth:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.1"})},t.prototype.updateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.1",data:e})},t.prototype.getField=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!1,routeValues:{field:e},apiVersion:"2.1"})},t.prototype.getFields=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.getHistory=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.1"})},t.prototype.getHistoryById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},apiVersion:"2.1"})},t.prototype.createQuery=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},apiVersion:"2.1",data:e})},t.prototype.deleteQuery=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseIsCollection:!1,routeValues:{project:e,query:t},apiVersion:"2.1"})},t.prototype.getQueries=function(e,t,o,n){var i={$expand:t,$depth:o,$includeDeleted:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:e},queryParams:i,apiVersion:"2.1"})},t.prototype.getQuery=function(e,t,o,n,i){var a={$expand:o,$depth:n,$includeDeleted:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:e,query:t},queryParams:a,apiVersion:"2.1"})},t.prototype.updateQuery=function(e,t,o,n){var i={$undeleteDescendants:n};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},queryParams:i,apiVersion:"2.1",data:e})},t.prototype.destroyWorkItem=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"2.1-preview.1"})},t.prototype.getDeletedWorkItem=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:t,id:e},apiVersion:"2.1-preview.1"})},t.prototype.getDeletedWorkItems=function(e,t){var o={ids:t&&t.join(",")};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDeleteReference,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.1-preview.1"})},t.prototype.restoreWorkItem=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"b70d8d39-926c-465e-b927-b1bf0e5ca0e0",resource:"recyclebin",routeTemplate:"{project}/_apis/{area}/{resource}/{id}",requestType:r.TypeInfo.WorkItemDeleteUpdate,responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{project:o,id:t},apiVersion:"2.1-preview.1",data:e})},t.prototype.getRevision=function(e,t,o){var n={$expand:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},queryParams:n,apiVersion:"2.1"})},t.prototype.getRevisions=function(e,t,o,n){var i={$top:t,$skip:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,routeValues:{id:e},queryParams:i,apiVersion:"2.1"})},t.prototype.evaluateRulesOnField=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"1a3a1536-dca6-4509-b9c3-dd9bb2981506",resource:"ruleEngine",routeTemplate:"_apis/{area}/${resource}",requestType:r.TypeInfo.FieldsToEvaluate,responseIsCollection:!1,apiVersion:"2.1",data:e})},t.prototype.getUpdate=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!1,routeValues:{id:e,updateNumber:t},apiVersion:"2.1"})},t.prototype.getUpdates=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.1"})},t.prototype.queryByWiql=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.Wiql,responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o},queryParams:i,apiVersion:"2.1",data:e})},t.prototype.queryById=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o,id:e},queryParams:i,apiVersion:"2.1"})},t.prototype.getReportingLinks=function(e,t,o,n){var i={types:t&&t.join(","),watermark:o,startDateTime:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemLinksBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:i,apiVersion:"2.1"})},t.prototype.getRelationType=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!1,routeValues:{relation:e},apiVersion:"2.1"})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!0,apiVersion:"2.1"})},t.prototype.readReportingRevisionsGet=function(e,t,o,n,i,a,s){var c={includeDeleted:t,fields:o&&o.join(","),types:n&&n.join(","),watermark:i,startDateTime:a,includeIdentityRef:s};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:c,apiVersion:"2.1"})},t.prototype.readReportingRevisionsPost=function(e,t,o,n){var i={watermark:o,startDateTime:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",requestType:r.TypeInfo.ReportingWorkItemRevisionsFilter,responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:t},queryParams:i,apiVersion:"2.1",data:e})},t.prototype.deleteWorkItem=function(e,t){var o={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{id:e},queryParams:o,apiVersion:"2.1"})},t.prototype.getWorkItem=function(e,t,o,n){var i={fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e},queryParams:i,apiVersion:"2.1"})},t.prototype.getWorkItems=function(e,t,o,n){var i={ids:e&&e.join(","),fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,queryParams:i,apiVersion:"2.1"})},t.prototype.updateWorkItem=function(e,t,n,i){var a={validateOnly:n,bypassRules:i};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:a,apiVersion:"2.1",data:e})},t.prototype.createWorkItem=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.1",data:e})},t.prototype.getWorkItemTemplate=function(e,t,o,n,i){var a={fields:o,asOf:n,$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:a,apiVersion:"2.1"})},t.prototype.updateWorkItemTemplate=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.1",data:e})},t.prototype.getWorkItemTypeCategories=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.1"})},t.prototype.getWorkItemTypeCategory=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!1,routeValues:{project:e,category:t},apiVersion:"2.1"})},t.prototype.getWorkItemType=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!1,routeValues:{project:e,type:t},apiVersion:"2.1"})},t.prototype.getWorkItemTypes=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.1"})},t.prototype.getDependentFields=function(e,t,o){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseType:r.TypeInfo.FieldDependentRule,responseIsCollection:!1,routeValues:{project:e,type:t,field:o},apiVersion:"2.1"})},t.prototype.exportWorkItemTypeDefinition=function(e,t,o){var n={exportGlobalLists:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemTypeTemplate,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:n,apiVersion:"2.1"})},t.prototype.updateWorkItemTypeDefinition=function(e,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:r.TypeInfo.WorkItemTypeTemplateUpdateModel,responseType:r.TypeInfo.ProvisioningResult,responseIsCollection:!1,routeValues:{project:t},apiVersion:"2.1",data:e})},t.serviceInstanceId=a.ServiceInstanceTypes.TFS,t}(i.VssHttpClient);t.WorkItemTrackingHttpClient2_1=l;var d=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.createAttachment=function(e,t,o){var n={fileName:t,uploadType:o};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.AttachmentReference,responseIsCollection:!1,customHeaders:{"Content-Type":"application/octet-stream"},queryParams:n,apiVersion:"2.0",data:e,isRawData:!0})},t.prototype.getAttachmentContent=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.0"})},t.prototype.getAttachmentZip=function(e,t){var r={fileName:t};return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"wit",locationId:"e07b5fa4-1499-494d-a496-64b860fd64ff",resource:"attachments",routeTemplate:"_apis/{area}/{resource}/{id}",responseIsCollection:!1,routeValues:{id:e},queryParams:r,apiVersion:"2.0"})},t.prototype.getRootNodes=function(e,t){var o={$depth:t};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a70579d1-f53a-48ee-a5be-7be8659023b9",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:"2.0"})},t.prototype.createOrUpdateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.0",data:e})},t.prototype.deleteClassificationNode=function(e,t,o,n){var i={$reclassifyId:n};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.0"})},t.prototype.getClassificationNode=function(e,t,o,n){var i={$depth:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:e,structureGroup:r.TreeStructureGroup[t],path:o},queryParams:i,apiVersion:"2.0"})},t.prototype.updateClassificationNode=function(e,t,o,n){return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"5a172953-1b41-49d3-840a-33f79c3ce89f",resource:"classificationNodes",routeTemplate:"{project}/_apis/{area}/{resource}/{structureGroup}/{*path}",requestType:r.TypeInfo.WorkItemClassificationNode,responseType:r.TypeInfo.WorkItemClassificationNode,responseIsCollection:!1,routeValues:{project:t,structureGroup:r.TreeStructureGroup[o],path:n},apiVersion:"2.0",data:e})},t.prototype.getField=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!1,routeValues:{field:e},apiVersion:"2.0"})},t.prototype.getFields=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b51fd764-e5c2-4b9b-aaf7-3395cf4bdd94",resource:"fields",routeTemplate:"_apis/{area}/{resource}/{field}",responseType:r.TypeInfo.WorkItemField,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.getHistory=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.0"})},t.prototype.getHistoryById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f74eba29-47a1-4152-9381-84040aced527",resource:"history",routeTemplate:"_apis/{area}/workItems/{id}/history/{revisionNumber}",responseType:r.TypeInfo.WorkItemHistory,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},apiVersion:"2.0"})},t.prototype.createQuery=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},apiVersion:"2.0",data:e})},t.prototype.deleteQuery=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseIsCollection:!1,routeValues:{project:e,query:t},apiVersion:"2.0"})},t.prototype.getQueries=function(e,t,o,n){var i={$expand:t,$depth:o,$includeDeleted:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!0,routeValues:{project:e},queryParams:i,apiVersion:"2.0"})},t.prototype.getQuery=function(e,t,o,n,i){var a={$expand:o,$depth:n,$includeDeleted:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:e,query:t},queryParams:a,apiVersion:"2.0"})},t.prototype.updateQuery=function(e,t,o,n){var i={$undeleteDescendants:n};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"a67d190c-c41f-424b-814d-0e906f659301",resource:"queries",routeTemplate:"{project}/_apis/{area}/{resource}/{*query}",requestType:r.TypeInfo.QueryHierarchyItem,responseType:r.TypeInfo.QueryHierarchyItem,responseIsCollection:!1,routeValues:{project:t,query:o},queryParams:i,apiVersion:"2.0",data:e})},t.prototype.getRevision=function(e,t,o){var n={$expand:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e,revisionNumber:t},queryParams:n,apiVersion:"2.0"})},t.prototype.getRevisions=function(e,t,o,n){var i={$top:t,$skip:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a00c85a5-80fa-4565-99c3-bcd2181434bb",resource:"revisions",routeTemplate:"_apis/{area}/workItems/{id}/revisions/{revisionNumber}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,routeValues:{id:e},queryParams:i,apiVersion:"2.0"})},t.prototype.evaluateRulesOnField=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"wit",locationId:"1a3a1536-dca6-4509-b9c3-dd9bb2981506",resource:"ruleEngine",routeTemplate:"_apis/{area}/${resource}",requestType:r.TypeInfo.FieldsToEvaluate,responseIsCollection:!1,apiVersion:"2.0",data:e})},t.prototype.getUpdate=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!1,routeValues:{id:e,updateNumber:t},apiVersion:"2.0"})},t.prototype.getUpdates=function(e,t,o){var n={$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"6570bf97-d02c-4a91-8d93-3abe9895b1a9",resource:"updates",routeTemplate:"_apis/{area}/workItems/{id}/updates/{updateNumber}",responseType:r.TypeInfo.WorkItemUpdate,responseIsCollection:!0,routeValues:{id:e},queryParams:n,apiVersion:"2.0"})},t.prototype.queryByWiql=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"1a9c53f7-f243-4447-b110-35ef023636e4",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.Wiql,responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o},queryParams:i,apiVersion:"2.0",data:e})},t.prototype.queryById=function(e,t,o,n){var i={timePrecision:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"a02355f5-5f8a-4671-8e32-369d23aac83d",resource:"wiql",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemQueryResult,responseIsCollection:!1,routeValues:{project:t,team:o,id:e},queryParams:i,apiVersion:"2.0"})},t.prototype.getReportingLinks=function(e,t,o,n){var i={types:t&&t.join(","),watermark:o,startDateTime:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"b5b5b6d0-0308-40a1-b3f4-b9bb3c66878f",resource:"workItemLinks",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemLinksBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:i,apiVersion:"2.0"})},t.prototype.getRelationType=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!1,routeValues:{relation:e},apiVersion:"2.0"})},t.prototype.getRelationTypes=function(){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f5d33bc9-5b49-4a3c-a9bd-f3cd46dd2165",resource:"workItemRelationTypes",routeTemplate:"_apis/{area}/{resource}/{relation}",responseType:r.TypeInfo.WorkItemRelationType,responseIsCollection:!0,apiVersion:"2.0"})},t.prototype.readReportingRevisionsGet=function(e,t,o,n,i,a,s){var c={includeDeleted:t,fields:o&&o.join(","),types:n&&n.join(","),watermark:i,startDateTime:a,includeIdentityRef:s};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:e},queryParams:c,apiVersion:"2.0"})},t.prototype.readReportingRevisionsPost=function(e,t,o,n){var i={watermark:o,startDateTime:n};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"f828fe59-dd87-495d-a17c-7a8d6211ca6c",resource:"workItemRevisions",routeTemplate:"{project}/_apis/{area}/reporting/{resource}",requestType:r.TypeInfo.ReportingWorkItemRevisionsFilter,responseType:r.TypeInfo.ReportingWorkItemRevisionsBatch,responseIsCollection:!1,routeValues:{project:t},queryParams:i,apiVersion:"2.0",data:e})},t.prototype.deleteWorkItem=function(e,t){var o={destroy:t};return this._beginRequest({httpMethod:"DELETE",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItemDelete,responseIsCollection:!1,routeValues:{id:e},queryParams:o,apiVersion:"2.0"})},t.prototype.getWorkItem=function(e,t,o,n){var i={fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:e},queryParams:i,apiVersion:"2.0"})},t.prototype.getWorkItems=function(e,t,o,n){var i={ids:e&&e.join(","),fields:t&&t.join(","),asOf:o,$expand:n};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!0,queryParams:i,apiVersion:"2.0"})},t.prototype.updateWorkItem=function(e,t,n,i){var a={validateOnly:n,bypassRules:i};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"72c7ddf8-2cdc-4f60-90cd-ab71c14a399b",resource:"workItems",routeTemplate:"_apis/{area}/{resource}/{id}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{id:t},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:a,apiVersion:"2.0",data:e})},t.prototype.createWorkItem=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.0",data:e})},t.prototype.getWorkItemTemplate=function(e,t,o,n,i){var a={fields:o,asOf:n,$expand:i};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:a,apiVersion:"2.0"})},t.prototype.updateWorkItemTemplate=function(e,t,n,i,a){var s={validateOnly:i,bypassRules:a};return this._beginRequest({httpMethod:"PATCH",area:"wit",locationId:"62d3d110-0047-428c-ad3c-4fe872c91c74",resource:"workItems",routeTemplate:"{project}/_apis/{area}/{resource}/${type}",requestType:o.TypeInfo.JsonPatchDocument,responseType:r.TypeInfo.WorkItem,responseIsCollection:!1,routeValues:{project:t,type:n},customHeaders:{"Content-Type":"application/json-patch+json"},queryParams:s,apiVersion:"2.0",data:e})},t.prototype.getWorkItemTypeCategories=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.0"})},t.prototype.getWorkItemTypeCategory=function(e,t){
return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"9b9f5734-36c8-415e-ba67-f83b45c31408",resource:"workItemTypeCategories",routeTemplate:"{project}/_apis/{area}/{resource}/{category}",responseType:r.TypeInfo.WorkItemTypeCategory,responseIsCollection:!1,routeValues:{project:e,category:t},apiVersion:"2.0"})},t.prototype.getWorkItemType=function(e,t){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!1,routeValues:{project:e,type:t},apiVersion:"2.0"})},t.prototype.getWorkItemTypes=function(e){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"7c8d7a76-4a09-43e8-b5df-bd792f4ac6aa",resource:"workItemTypes",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemType,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.0"})},t.prototype.getDependentFields=function(e,t,o){return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"bd293ce5-3d25-4192-8e67-e8092e879efb",resource:"workItemTypesField",routeTemplate:"{project}/_apis/{area}/workitemtypes/{type}/fields/{field}",responseType:r.TypeInfo.FieldDependentRule,responseIsCollection:!1,routeValues:{project:e,type:t,field:o},apiVersion:"2.0"})},t.prototype.exportWorkItemTypeDefinition=function(e,t,o){var n={exportGlobalLists:o};return this._beginRequest({httpMethod:"GET",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",responseType:r.TypeInfo.WorkItemTypeTemplate,responseIsCollection:!1,routeValues:{project:e,type:t},queryParams:n,apiVersion:"2.0"})},t.prototype.updateWorkItemTypeDefinition=function(e,t){return this._beginRequest({httpMethod:"POST",area:"wit",locationId:"8637ac8b-5eb6-4f90-b3f7-4f2ff576a459",resource:"workItemTypeTemplate",routeTemplate:"{project}/_apis/{area}/{resource}/{type}",requestType:r.TypeInfo.WorkItemTypeTemplateUpdateModel,responseType:r.TypeInfo.ProvisioningResult,responseIsCollection:!1,routeValues:{project:t},apiVersion:"2.0",data:e})},t.serviceInstanceId=a.ServiceInstanceTypes.TFS,t}(i.VssHttpClient);t.WorkItemTrackingHttpClient2=d;var f=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(c);t.WorkItemTrackingHttpClient=f;var m={"3.0":c,2.3:p,2.2:u,2.1:l,"2.0":d};t.getClient=s}),define("VSS/Core/Contracts",["require","exports","VSS/WebApi/Contracts"],function(e,t,r){!function(e){e[e.Custom=0]="Custom",e[e.AzureSubscription=1]="AzureSubscription",e[e.Chef=2]="Chef",e[e.Generic=3]="Generic"}(t.ConnectedServiceKind||(t.ConnectedServiceKind={}));t.ConnectedServiceKind;!function(e){e[e.System=0]="System",e[e.Custom=1]="Custom",e[e.Inherited=2]="Inherited"}(t.ProcessType||(t.ProcessType={}));t.ProcessType;!function(e){e[e.Modified=0]="Modified",e[e.Deleted=1]="Deleted",e[e.Added=2]="Added"}(t.ProjectChangeType||(t.ProjectChangeType={}));t.ProjectChangeType;!function(e){e[e.Tfvc=1]="Tfvc",e[e.Git=2]="Git"}(t.SourceControlTypes||(t.SourceControlTypes={}));t.SourceControlTypes;t.TypeInfo={ConnectedServiceKind:{enumValues:{custom:0,azureSubscription:1,chef:2,generic:3}},IdentityData:{fields:null},Process:{fields:null},ProcessReference:{fields:null},ProcessType:{enumValues:{system:0,custom:1,inherited:2}},ProjectChangeType:{enumValues:{modified:0,deleted:1,added:2}},ProjectInfo:{fields:null},ProjectMessage:{fields:null},ProjectProperty:{fields:null},Proxy:{fields:null},SourceControlTypes:{enumValues:{tfvc:1,git:2}},TeamContext:{fields:null},TeamProject:{fields:null},TeamProjectCollection:{fields:null},TeamProjectCollectionReference:{fields:null},TeamProjectReference:{fields:null},WebApiConnectedService:{fields:null},WebApiConnectedServiceDetails:{fields:null},WebApiConnectedServiceRef:{fields:null},WebApiCreateTagRequestData:{fields:null},WebApiProject:{fields:null},WebApiProjectCollection:{fields:null},WebApiProjectCollectionRef:{fields:null},WebApiTagDefinition:{fields:null},WebApiTeam:{fields:null},WebApiTeamRef:{fields:null}},t.TypeInfo.IdentityData.fields={},t.TypeInfo.Process.fields={type:{enumType:t.TypeInfo.ProcessType}},t.TypeInfo.ProcessReference.fields={},t.TypeInfo.ProjectInfo.fields={lastUpdateTime:{isDate:!0},properties:{isArray:!0,typeInfo:t.TypeInfo.ProjectProperty}},t.TypeInfo.ProjectMessage.fields={project:{typeInfo:t.TypeInfo.ProjectInfo},projectChangeType:{enumType:t.TypeInfo.ProjectChangeType}},t.TypeInfo.ProjectProperty.fields={},t.TypeInfo.Proxy.fields={},t.TypeInfo.TeamContext.fields={},t.TypeInfo.TeamProject.fields={defaultTeam:{typeInfo:t.TypeInfo.WebApiTeamRef}},t.TypeInfo.TeamProjectCollection.fields={},t.TypeInfo.TeamProjectCollectionReference.fields={},t.TypeInfo.TeamProjectReference.fields={},t.TypeInfo.WebApiConnectedService.fields={authenticatedBy:{typeInfo:r.TypeInfo.IdentityRef},project:{typeInfo:t.TypeInfo.TeamProjectReference}},t.TypeInfo.WebApiConnectedServiceDetails.fields={connectedServiceMetaData:{typeInfo:t.TypeInfo.WebApiConnectedService}},t.TypeInfo.WebApiConnectedServiceRef.fields={},t.TypeInfo.WebApiCreateTagRequestData.fields={},t.TypeInfo.WebApiProject.fields={collection:{typeInfo:t.TypeInfo.WebApiProjectCollectionRef},defaultTeam:{typeInfo:t.TypeInfo.WebApiTeamRef}},t.TypeInfo.WebApiProjectCollection.fields={},t.TypeInfo.WebApiProjectCollectionRef.fields={},t.TypeInfo.WebApiTagDefinition.fields={},t.TypeInfo.WebApiTeam.fields={},t.TypeInfo.WebApiTeamRef.fields={}}),define("VSS/Operations/Contracts",["require","exports"],function(e,t){!function(e){e[e.NotSet=0]="NotSet",e[e.Queued=1]="Queued",e[e.InProgress=2]="InProgress",e[e.Cancelled=3]="Cancelled",e[e.Succeeded=4]="Succeeded",e[e.Failed=5]="Failed"}(t.OperationStatus||(t.OperationStatus={}));t.OperationStatus;t.TypeInfo={Operation:{fields:null},OperationReference:{fields:null},OperationStatus:{enumValues:{notSet:0,queued:1,inProgress:2,cancelled:3,succeeded:4,failed:5}}},t.TypeInfo.Operation.fields={status:{enumType:t.TypeInfo.OperationStatus}},t.TypeInfo.OperationReference.fields={status:{enumType:t.TypeInfo.OperationStatus}}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../VSS/Core/RestClient",["require","exports","VSS/Core/Contracts","VSS/WebApi/Contracts","VSS/Operations/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(e,t,r,o,n,i,a,s){function c(){return window.VSS&&window.VSS.VssSDKRestVersion&&d[window.VSS.VssSDKRestVersion]?i.getClient(d[window.VSS.VssSDKRestVersion]):i.getClient(u)}var p=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.createConnectedService=function(e,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:r.TypeInfo.WebApiConnectedServiceDetails,responseType:r.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.getConnectedServiceDetails=function(e,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:r.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:e,name:t},apiVersion:"3.0-preview.1"})},t.prototype.getConnectedServices=function(e,t){var o={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:r.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:e},queryParams:o,apiVersion:"3.0-preview.1"})},t.prototype.createIdentityMru=function(e,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:r.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.deleteIdentityMru=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:r.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"3.0-preview.1"})},t.prototype.getIdentityMru=function(e){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:o.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:e},apiVersion:"3.0-preview.1"})},t.prototype.updateIdentityMru=function(e,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:r.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.getTeamMembers=function(e,t,r,n){var i={$top:r,$skip:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:o.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:e,teamId:t},queryParams:i,apiVersion:"3.0-preview.1"})},t.prototype.getProjectCollection=function(e){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:r.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:e},apiVersion:"3.0-preview.2"})},t.prototype.getProjectCollections=function(e,t){var o={$top:e,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:r.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:o,apiVersion:"3.0-preview.2"})},t.prototype.getProjectHistory=function(e){var t={minRevision:e};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.1"})},t.prototype.getProject=function(e,t,o){var n={includeCapabilities:t,includeHistory:o};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:e},queryParams:n,apiVersion:"3.0-preview.3"})},t.prototype.getProjects=function(e,t,o){var n={stateFilter:e,$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:n,apiVersion:"3.0-preview.3"})},t.prototype.queueCreateProject=function(e){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:r.TypeInfo.TeamProject,responseType:n.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"3.0-preview.3",data:e})},t.prototype.queueDeleteProject=function(e){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:n.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:e},apiVersion:"3.0-preview.3"})},t.prototype.updateProject=function(e,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:r.TypeInfo.TeamProject,responseType:n.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"3.0-preview.3",data:e})},t.prototype.getProxies=function(e){var t={proxyUrl:e};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"3.0-preview.1"})},t.prototype.getTeams=function(e,t,o,n){var i={$top:o,$skip:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:r.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:e,teamId:t},queryParams:i,apiVersion:"3.0-preview.1"})},t.serviceInstanceId=s.ServiceInstanceTypes.TFS,t}(a.VssHttpClient);t.CoreHttpClient3=p;var u=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.createConnectedService=function(e,t){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",requestType:r.TypeInfo.WebApiConnectedServiceDetails,responseType:r.TypeInfo.WebApiConnectedService,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.0-preview.1",data:e})},t.prototype.getConnectedServiceDetails=function(e,t){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:r.TypeInfo.WebApiConnectedServiceDetails,responseIsCollection:!1,routeValues:{projectId:e,name:t},apiVersion:"2.0-preview.1"})},t.prototype.getConnectedServices=function(e,t){var o={kind:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"b4f70219-e18b-42c5-abe3-98b07d35525e",resource:"connectedServices",routeTemplate:"_apis/projects/{projectId}/{resource}/{name}",responseType:r.TypeInfo.WebApiConnectedService,responseIsCollection:!0,routeValues:{projectId:e},queryParams:o,apiVersion:"2.0-preview.1"})},t.prototype.createIdentityMru=function(e,t){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:r.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.0-preview.1",data:e})},t.prototype.deleteIdentityMru=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:r.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.0-preview.1"})},t.prototype.getIdentityMru=function(e){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",responseType:o.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{mruName:e},apiVersion:"2.0-preview.1"})},t.prototype.updateIdentityMru=function(e,t){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"core",locationId:"5ead0b70-2572-4697-97e9-f341069a783a",resource:"identityMru",routeTemplate:"_apis/{area}/{resource}/{mruName}",requestType:r.TypeInfo.IdentityData,responseIsCollection:!1,routeValues:{mruName:t},apiVersion:"2.0-preview.1",data:e})},t.prototype.getTeamMembers=function(e,t,r,n){var i={$top:r,$skip:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"294c494c-2600-4d7e-b76c-3dd50c3c95be",resource:"members",routeTemplate:"_apis/projects/{projectId}/teams/{teamId}/{resource}",responseType:o.TypeInfo.IdentityRef,responseIsCollection:!0,routeValues:{projectId:e,teamId:t},queryParams:i,apiVersion:"2.0"})},t.prototype.getProjectCollection=function(e){return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:r.TypeInfo.TeamProjectCollection,responseIsCollection:!1,routeValues:{collectionId:e},apiVersion:"2.0"})},t.prototype.getProjectCollections=function(e,t){var o={$top:e,$skip:t};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"8031090f-ef1d-4af6-85fc-698cd75d42bf",resource:"projectCollections",routeTemplate:"_apis/{resource}/{collectionId}",responseType:r.TypeInfo.TeamProjectCollectionReference,responseIsCollection:!0,queryParams:o,apiVersion:"2.0"})},t.prototype.getProjectHistory=function(e){var t={minRevision:e};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"6488a877-4749-4954-82ea-7340d36be9f2",resource:"projectHistory",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.1"})},t.prototype.getProject=function(e,t,o){var n={includeCapabilities:t,includeHistory:o};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.TeamProject,responseIsCollection:!1,routeValues:{projectId:e},queryParams:n,apiVersion:"2.0"})},t.prototype.getProjects=function(e,t,o){var n={stateFilter:e,$top:t,$skip:o};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:r.TypeInfo.TeamProjectReference,responseIsCollection:!0,queryParams:n,apiVersion:"2.0"})},t.prototype.queueCreateProject=function(e){return this._beginRequest({httpMethod:"POST",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:r.TypeInfo.TeamProject,responseType:n.TypeInfo.OperationReference,responseIsCollection:!1,apiVersion:"2.0",data:e})},t.prototype.queueDeleteProject=function(e){return this._beginRequest({httpMethod:"DELETE",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",responseType:n.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:e},apiVersion:"2.0"})},t.prototype.updateProject=function(e,t){return this._beginRequest({httpMethod:"PATCH",area:"core",locationId:"603fe2ac-9723-48b9-88ad-09305aa6c6e1",resource:"projects",routeTemplate:"_apis/{resource}/{*projectId}",requestType:r.TypeInfo.TeamProject,responseType:n.TypeInfo.OperationReference,responseIsCollection:!1,routeValues:{projectId:t},apiVersion:"2.0",data:e})},t.prototype.getProxies=function(e){var t={proxyUrl:e};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"ec1f4311-f2b4-4c15-b2b8-8990b80d2908",resource:"proxies",routeTemplate:"_apis/{resource}",responseType:r.TypeInfo.Proxy,responseIsCollection:!0,queryParams:t,apiVersion:"2.0-preview.1"})},t.prototype.getTeams=function(e,t,o,n){var i={$top:o,$skip:n};return this._beginRequest({httpMethod:"GET",area:"core",locationId:"d30a3dd1-f8ba-442a-b86a-bd0c0c383e59",resource:"teams",routeTemplate:"_apis/projects/{projectId}/{resource}/{*teamId}",responseType:r.TypeInfo.WebApiTeam,responseIsCollection:!1,routeValues:{projectId:e,teamId:t},queryParams:i,apiVersion:"2.0"})},t.serviceInstanceId=s.ServiceInstanceTypes.TFS,t}(a.VssHttpClient);t.CoreHttpClient2=u;var l=function(e){function t(t){e.call(this,t)}return __extends(t,e),t}(p);t.CoreHttpClient=l;var d={"3.0":p,"2.0":u};t.getClient=c}),define("VSS/Common/Contracts/System",["require","exports"],function(e,t){!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(t.DayOfWeek||(t.DayOfWeek={}));t.DayOfWeek;t.TypeInfo={DayOfWeek:{enumValues:{sunday:0,monday:1,tuesday:2,wednesday:3,thursday:4,friday:5,saturday:6}}}}),define("VSS/Work/Contracts",["require","exports","VSS/Common/Contracts/System"],function(e,t,r){!function(e){e[e.Incoming=0]="Incoming",e[e.InProgress=1]="InProgress",e[e.Outgoing=2]="Outgoing"}(t.BoardColumnType||(t.BoardColumnType={}));t.BoardColumnType;!function(e){e[e.Off=0]="Off",e[e.AsRequirements=1]="AsRequirements",e[e.AsTasks=2]="AsTasks"}(t.BugsBehavior||(t.BugsBehavior={}));t.BugsBehavior;t.TypeInfo={Activity:{fields:null},attribute:{fields:null},Board:{fields:null},BoardCardRuleSettings:{fields:null},BoardCardSettings:{fields:null},BoardChart:{fields:null},BoardChartReference:{fields:null},BoardColumn:{fields:null},BoardColumnType:{enumValues:{incoming:0,inProgress:1,outgoing:2}},BoardFilterSettings:{fields:null},BoardReference:{fields:null},BoardRow:{fields:null},BoardSuggestedValue:{fields:null},BoardUserSettings:{fields:null},BugsBehavior:{enumValues:{off:0,asRequirements:1,asTasks:2}},CapacityPatch:{fields:null},DateRange:{fields:null},FieldReference:{fields:null},FieldSetting:{fields:null},FilterClause:{fields:null},FilterGroup:{fields:null},FilterModel:{fields:null},Member:{fields:null},Rule:{fields:null},ShallowReference:{fields:null},TeamFieldValue:{fields:null},TeamFieldValues:{fields:null},TeamFieldValuesPatch:{fields:null},TeamIterationAttributes:{fields:null},TeamMemberCapacity:{fields:null},TeamSetting:{fields:null},TeamSettingsDataContractBase:{fields:null},TeamSettingsDaysOff:{fields:null},TeamSettingsDaysOffPatch:{fields:null},TeamSettingsIteration:{fields:null},TeamSettingsPatch:{fields:null}},t.TypeInfo.Activity.fields={},t.TypeInfo.attribute.fields={},t.TypeInfo.Board.fields={columns:{isArray:!0,typeInfo:t.TypeInfo.BoardColumn},rows:{isArray:!0,typeInfo:t.TypeInfo.BoardRow}},t.TypeInfo.BoardCardRuleSettings.fields={rules:{isDictionary:!0,dictionaryValueFieldInfo:{isArray:!0,typeInfo:t.TypeInfo.Rule}}},t.TypeInfo.BoardCardSettings.fields={cards:{isDictionary:!0,dictionaryValueFieldInfo:{isArray:!0,typeInfo:t.TypeInfo.FieldSetting}}},t.TypeInfo.BoardChart.fields={},t.TypeInfo.BoardChartReference.fields={},t.TypeInfo.BoardColumn.fields={columnType:{enumType:t.TypeInfo.BoardColumnType}},t.TypeInfo.BoardFilterSettings.fields={criteria:{typeInfo:t.TypeInfo.FilterModel}},t.TypeInfo.BoardReference.fields={},t.TypeInfo.BoardRow.fields={},t.TypeInfo.BoardSuggestedValue.fields={},t.TypeInfo.BoardUserSettings.fields={},t.TypeInfo.CapacityPatch.fields={activities:{isArray:!0,typeInfo:t.TypeInfo.Activity},daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}},t.TypeInfo.DateRange.fields={end:{isDate:!0},start:{isDate:!0}},t.TypeInfo.FieldReference.fields={},t.TypeInfo.FieldSetting.fields={},t.TypeInfo.FilterClause.fields={},t.TypeInfo.FilterGroup.fields={},t.TypeInfo.FilterModel.fields={clauses:{isArray:!0,typeInfo:t.TypeInfo.FilterClause},groups:{isArray:!0,typeInfo:t.TypeInfo.FilterGroup}},t.TypeInfo.Member.fields={},t.TypeInfo.Rule.fields={clauses:{isArray:!0,typeInfo:t.TypeInfo.FilterClause},settings:{typeInfo:t.TypeInfo.attribute}},t.TypeInfo.ShallowReference.fields={},t.TypeInfo.TeamFieldValue.fields={},t.TypeInfo.TeamFieldValues.fields={field:{typeInfo:t.TypeInfo.FieldReference},values:{isArray:!0,typeInfo:t.TypeInfo.TeamFieldValue}},t.TypeInfo.TeamFieldValuesPatch.fields={values:{isArray:!0,typeInfo:t.TypeInfo.TeamFieldValue}},t.TypeInfo.TeamIterationAttributes.fields={finishDate:{isDate:!0},startDate:{isDate:!0}},t.TypeInfo.TeamMemberCapacity.fields={activities:{isArray:!0,typeInfo:t.TypeInfo.Activity},daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange},teamMember:{typeInfo:t.TypeInfo.Member}},t.TypeInfo.TeamSetting.fields={backlogIteration:{typeInfo:t.TypeInfo.TeamSettingsIteration},bugsBehavior:{enumType:t.TypeInfo.BugsBehavior},workingDays:{isArray:!0,typeInfo:r.TypeInfo.DayOfWeek}},t.TypeInfo.TeamSettingsDataContractBase.fields={},t.TypeInfo.TeamSettingsDaysOff.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}},t.TypeInfo.TeamSettingsDaysOffPatch.fields={daysOff:{isArray:!0,typeInfo:t.TypeInfo.DateRange}},t.TypeInfo.TeamSettingsIteration.fields={attributes:{typeInfo:t.TypeInfo.TeamIterationAttributes}},t.TypeInfo.TeamSettingsPatch.fields={bugsBehavior:{enumType:t.TypeInfo.BugsBehavior},workingDays:{isArray:!0,typeInfo:r.TypeInfo.DayOfWeek}}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../VSS/Work/RestClient",["require","exports","VSS/Work/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(e,t,r,o,n,i){function a(e){return window.VSS&&window.VSS.VssSDKRestVersion&&f[window.VSS.VssSDKRestVersion]?o.getClient(f[window.VSS.VssSDKRestVersion],void 0,void 0,void 0,e):o.getClient(p,void 0,void 0,void 0,e)}var s=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getColumnSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"eb7ec5a3-1ba3-4fd1-b834-49a5a387e57d",resource:"boardcolumns",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"3.0-preview.1"})},t.prototype.getBoardFilterSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"cfe2d81b-12ba-4083-9e5a-859818c763e4",resource:"boardfiltersettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardFilterSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardFilterSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"cfe2d81b-12ba-4083-9e5a-859818c763e4",resource:"boardfiltersettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardFilterSettings,responseType:r.TypeInfo.BoardFilterSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.getRowSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bb494cc6-a0f5-4c6c-8dca-ea6912e79eb9",resource:"boardrows",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"3.0-preview.1"})},t.prototype.getBoard=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.Board,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"3.0-preview.1"})},t.prototype.getBoards=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.BoardReference,responseIsCollection:!0,routeValues:{project:t,team:o},apiVersion:"3.0-preview.1"})},t.prototype.setBoardOptions=function(e,t,r){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:o,team:n,id:r},apiVersion:"3.0-preview.1",data:e})},t.prototype.getBoardUserSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b30d9f58-1891-4b0a-b168-c46408f919b0",resource:"boardusersettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardUserSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardUserSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b30d9f58-1891-4b0a-b168-c46408f919b0",resource:"boardusersettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardUserSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.getCapacities=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:o,team:n,iterationId:t},apiVersion:"3.0-preview.1"})},t.prototype.getCapacity=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:t,teamMemberId:o},apiVersion:"3.0-preview.1"})},t.prototype.replaceCapacities=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.TeamMemberCapacity,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:n,team:i,iterationId:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.updateCapacity=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.CapacityPatch,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:i,team:a,iterationId:o,teamMemberId:n},apiVersion:"3.0-preview.1",data:e})},t.prototype.getBoardCardRuleSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardCardRuleSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({
httpMethod:"PATCH",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardRuleSettings,responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.getBoardCardSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardCardSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardSettings,responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.getBoardChart=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:n,team:i,board:t,name:o},apiVersion:"3.0-preview.1"})},t.prototype.getBoardCharts=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChartReference,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardChart=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",requestType:r.TypeInfo.BoardChart,responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:i,team:a,board:o,name:n},apiVersion:"3.0-preview.1",data:e})},t.prototype.getBoardColumns=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardColumns=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardColumn,responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.deleteTeamIteration=function(e,t){var r=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseIsCollection:!1,routeValues:{project:r,team:o,id:t},apiVersion:"3.0-preview.1"})},t.prototype.getTeamIteration=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"3.0-preview.1"})},t.prototype.getTeamIterations=function(e,t){var o={$timeframe:t},n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!0,routeValues:{project:n,team:i},queryParams:o,apiVersion:"3.0-preview.1"})},t.prototype.postTeamIteration=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",requestType:r.TypeInfo.TeamSettingsIteration,responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"3.0-preview.1",data:e})},t.prototype.getBoardRows=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"3.0-preview.1"})},t.prototype.updateBoardRows=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardRow,responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.getTeamDaysOff=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:o,team:n,iterationId:t},apiVersion:"3.0-preview.1"})},t.prototype.updateTeamDaysOff=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",requestType:r.TypeInfo.TeamSettingsDaysOffPatch,responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:o},apiVersion:"3.0-preview.1",data:e})},t.prototype.getTeamFieldValues=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"3.0-preview.1"})},t.prototype.updateTeamFieldValues=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",requestType:r.TypeInfo.TeamFieldValuesPatch,responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"3.0-preview.1",data:e})},t.prototype.getTeamSettings=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"3.0-preview.1"})},t.prototype.updateTeamSettings=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.TeamSettingsPatch,responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"3.0-preview.1",data:e})},t.serviceInstanceId=i.ServiceInstanceTypes.TFS,t}(n.VssHttpClient);t.WorkHttpClient3=s;var c=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getColumnSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"eb7ec5a3-1ba3-4fd1-b834-49a5a387e57d",resource:"boardcolumns",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.3"})},t.prototype.getRowSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bb494cc6-a0f5-4c6c-8dca-ea6912e79eb9",resource:"boardrows",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.3"})},t.prototype.getBoard=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.Board,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.3"})},t.prototype.getBoards=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.BoardReference,responseIsCollection:!0,routeValues:{project:t,team:o},apiVersion:"2.3"})},t.prototype.setBoardOptions=function(e,t,r){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:o,team:n,id:r},apiVersion:"2.3",data:e})},t.prototype.getCapacities=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.3"})},t.prototype.getCapacity=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:t,teamMemberId:o},apiVersion:"2.3"})},t.prototype.replaceCapacities=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.TeamMemberCapacity,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.3",data:e})},t.prototype.updateCapacity=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.CapacityPatch,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:i,team:a,iterationId:o,teamMemberId:n},apiVersion:"2.3",data:e})},t.prototype.getBoardCardRuleSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.3-preview.1"})},t.prototype.updateBoardCardRuleSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardRuleSettings,responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.3-preview.1",data:e})},t.prototype.getBoardCardSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.3"})},t.prototype.updateBoardCardSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardSettings,responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.3",data:e})},t.prototype.getBoardChart=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:n,team:i,board:t,name:o},apiVersion:"2.3"})},t.prototype.getBoardCharts=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChartReference,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.3"})},t.prototype.updateBoardChart=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",requestType:r.TypeInfo.BoardChart,responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:i,team:a,board:o,name:n},apiVersion:"2.3",data:e})},t.prototype.getBoardColumns=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.3"})},t.prototype.updateBoardColumns=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardColumn,responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.3",data:e})},t.prototype.deleteTeamIteration=function(e,t){var r=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseIsCollection:!1,routeValues:{project:r,team:o,id:t},apiVersion:"2.3"})},t.prototype.getTeamIteration=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.3"})},t.prototype.getTeamIterations=function(e,t){var o={$timeframe:t},n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!0,routeValues:{project:n,team:i},queryParams:o,apiVersion:"2.3"})},t.prototype.postTeamIteration=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",requestType:r.TypeInfo.TeamSettingsIteration,responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.3",data:e})},t.prototype.getBoardRows=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.3"})},t.prototype.updateBoardRows=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardRow,responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.3",data:e})},t.prototype.getTeamDaysOff=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.3"})},t.prototype.updateTeamDaysOff=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",requestType:r.TypeInfo.TeamSettingsDaysOffPatch,responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.3",data:e})},t.prototype.getTeamFieldValues=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.3"})},t.prototype.updateTeamFieldValues=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",requestType:r.TypeInfo.TeamFieldValuesPatch,responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.3",data:e})},t.prototype.getTeamSettings=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.3"})},t.prototype.updateTeamSettings=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.TeamSettingsPatch,responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.3",data:e})},t.serviceInstanceId=i.ServiceInstanceTypes.TFS,t}(n.VssHttpClient);t.WorkHttpClient2_3=c;var p=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getColumnSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"eb7ec5a3-1ba3-4fd1-b834-49a5a387e57d",resource:"boardcolumns",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.2"})},t.prototype.getRowSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bb494cc6-a0f5-4c6c-8dca-ea6912e79eb9",resource:"boardrows",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.2"})},t.prototype.getBoard=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.Board,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.2"})},t.prototype.getBoards=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.BoardReference,responseIsCollection:!0,routeValues:{project:t,team:o},apiVersion:"2.2"})},t.prototype.setBoardOptions=function(e,t,r){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:o,team:n,id:r},apiVersion:"2.2",data:e})},t.prototype.getCapacities=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.2"})},t.prototype.getCapacity=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:t,teamMemberId:o},apiVersion:"2.2"})},t.prototype.replaceCapacities=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.TeamMemberCapacity,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.2",data:e})},t.prototype.updateCapacity=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.CapacityPatch,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:i,team:a,iterationId:o,teamMemberId:n},apiVersion:"2.2",data:e})},t.prototype.getBoardCardRuleSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.2-preview.1"})},t.prototype.updateBoardCardRuleSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardRuleSettings,responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.2-preview.1",data:e})},t.prototype.getBoardCardSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.2"})},t.prototype.updateBoardCardSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardSettings,responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.2",data:e})},t.prototype.getBoardChart=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:n,team:i,board:t,name:o},apiVersion:"2.2"})},t.prototype.getBoardCharts=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChartReference,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.2"})},t.prototype.updateBoardChart=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",requestType:r.TypeInfo.BoardChart,responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:i,team:a,board:o,name:n},apiVersion:"2.2",data:e})},t.prototype.getBoardColumns=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.2"})},t.prototype.updateBoardColumns=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardColumn,responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.2",data:e})},t.prototype.deleteTeamIteration=function(e,t){var r=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseIsCollection:!1,routeValues:{project:r,team:o,id:t},apiVersion:"2.2"})},t.prototype.getTeamIteration=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.2"})},t.prototype.getTeamIterations=function(e,t){var o={$timeframe:t},n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!0,routeValues:{project:n,team:i},queryParams:o,apiVersion:"2.2"})},t.prototype.postTeamIteration=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",requestType:r.TypeInfo.TeamSettingsIteration,responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.2",data:e})},t.prototype.getBoardRows=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",
responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.2"})},t.prototype.updateBoardRows=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardRow,responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.2",data:e})},t.prototype.getTeamDaysOff=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.2"})},t.prototype.updateTeamDaysOff=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",requestType:r.TypeInfo.TeamSettingsDaysOffPatch,responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.2",data:e})},t.prototype.getTeamFieldValues=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.2"})},t.prototype.updateTeamFieldValues=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",requestType:r.TypeInfo.TeamFieldValuesPatch,responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.2",data:e})},t.prototype.getTeamSettings=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.2"})},t.prototype.updateTeamSettings=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.TeamSettingsPatch,responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.2",data:e})},t.serviceInstanceId=i.ServiceInstanceTypes.TFS,t}(n.VssHttpClient);t.WorkHttpClient2_2=p;var u=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getColumnSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"eb7ec5a3-1ba3-4fd1-b834-49a5a387e57d",resource:"boardcolumns",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.1"})},t.prototype.getRowSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bb494cc6-a0f5-4c6c-8dca-ea6912e79eb9",resource:"boardrows",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.1"})},t.prototype.getBoard=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.Board,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.1"})},t.prototype.getBoards=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.BoardReference,responseIsCollection:!0,routeValues:{project:t,team:o},apiVersion:"2.1"})},t.prototype.setBoardOptions=function(e,t,r){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:o,team:n,id:r},apiVersion:"2.1",data:e})},t.prototype.getCapacities=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.1"})},t.prototype.getCapacity=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:t,teamMemberId:o},apiVersion:"2.1"})},t.prototype.replaceCapacities=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.TeamMemberCapacity,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.1",data:e})},t.prototype.updateCapacity=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.CapacityPatch,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:i,team:a,iterationId:o,teamMemberId:n},apiVersion:"2.1",data:e})},t.prototype.getBoardCardRuleSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.1-preview.1"})},t.prototype.updateBoardCardRuleSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardRuleSettings,responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.1-preview.1",data:e})},t.prototype.getBoardCardSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.1"})},t.prototype.updateBoardCardSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardSettings,responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.1",data:e})},t.prototype.getBoardChart=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:n,team:i,board:t,name:o},apiVersion:"2.1"})},t.prototype.getBoardCharts=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChartReference,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.1"})},t.prototype.updateBoardChart=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",requestType:r.TypeInfo.BoardChart,responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:i,team:a,board:o,name:n},apiVersion:"2.1",data:e})},t.prototype.getBoardColumns=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.1"})},t.prototype.updateBoardColumns=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardColumn,responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.1",data:e})},t.prototype.deleteTeamIteration=function(e,t){var r=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseIsCollection:!1,routeValues:{project:r,team:o,id:t},apiVersion:"2.1"})},t.prototype.getTeamIteration=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.1"})},t.prototype.getTeamIterations=function(e,t){var o={$timeframe:t},n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!0,routeValues:{project:n,team:i},queryParams:o,apiVersion:"2.1"})},t.prototype.postTeamIteration=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",requestType:r.TypeInfo.TeamSettingsIteration,responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.1",data:e})},t.prototype.getBoardRows=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.1"})},t.prototype.updateBoardRows=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardRow,responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.1",data:e})},t.prototype.getTeamDaysOff=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.1"})},t.prototype.updateTeamDaysOff=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",requestType:r.TypeInfo.TeamSettingsDaysOffPatch,responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.1",data:e})},t.prototype.getTeamFieldValues=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.1"})},t.prototype.updateTeamFieldValues=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",requestType:r.TypeInfo.TeamFieldValuesPatch,responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.1",data:e})},t.prototype.getTeamSettings=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.1"})},t.prototype.updateTeamSettings=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.TeamSettingsPatch,responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.1",data:e})},t.serviceInstanceId=i.ServiceInstanceTypes.TFS,t}(n.VssHttpClient);t.WorkHttpClient2_1=u;var l=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.getColumnSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"eb7ec5a3-1ba3-4fd1-b834-49a5a387e57d",resource:"boardcolumns",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.0"})},t.prototype.getRowSuggestedValues=function(e){return this._beginRequest({httpMethod:"GET",area:"work",locationId:"bb494cc6-a0f5-4c6c-8dca-ea6912e79eb9",resource:"boardrows",routeTemplate:"{project}/_apis/{area}/{resource}",responseType:r.TypeInfo.BoardSuggestedValue,responseIsCollection:!0,routeValues:{project:e},apiVersion:"2.0"})},t.prototype.getBoard=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.Board,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.0"})},t.prototype.getBoards=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseType:r.TypeInfo.BoardReference,responseIsCollection:!0,routeValues:{project:t,team:o},apiVersion:"2.0"})},t.prototype.setBoardOptions=function(e,t,r){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"23ad19fc-3b8e-4877-8462-b3f92bc06b40",resource:"boards",routeTemplate:"{project}/{team}/_apis/{area}/{resource}/{id}",responseIsCollection:!0,routeValues:{project:o,team:n,id:r},apiVersion:"2.0",data:e})},t.prototype.getCapacities=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.0"})},t.prototype.getCapacity=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:t,teamMemberId:o},apiVersion:"2.0"})},t.prototype.replaceCapacities=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.TeamMemberCapacity,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!0,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.0",data:e})},t.prototype.updateCapacity=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"74412d15-8c1a-4352-a48d-ef1ed5587d57",resource:"capacities",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}/{teamMemberId}",requestType:r.TypeInfo.CapacityPatch,responseType:r.TypeInfo.TeamMemberCapacity,responseIsCollection:!1,routeValues:{project:i,team:a,iterationId:o,teamMemberId:n},apiVersion:"2.0",data:e})},t.prototype.getBoardCardRuleSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.0-preview.1"})},t.prototype.updateBoardCardRuleSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"b044a3d9-02ea-49c7-91a1-b730949cc896",resource:"cardrulesettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardRuleSettings,responseType:r.TypeInfo.BoardCardRuleSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.0-preview.1",data:e})},t.prototype.getBoardCardSettings=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:o,team:n,board:t},apiVersion:"2.0"})},t.prototype.updateBoardCardSettings=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"07c3b467-bc60-4f05-8e34-599ce288fafc",resource:"cardsettings",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}",requestType:r.TypeInfo.BoardCardSettings,responseType:r.TypeInfo.BoardCardSettings,responseIsCollection:!1,routeValues:{project:n,team:i,board:o},apiVersion:"2.0",data:e})},t.prototype.getBoardChart=function(e,t,o){var n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:n,team:i,board:t,name:o},apiVersion:"2.0"})},t.prototype.getBoardCharts=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",responseType:r.TypeInfo.BoardChartReference,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.0"})},t.prototype.updateBoardChart=function(e,t,o,n){var i=t.projectId||t.project,a=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"45fe888c-239e-49fd-958c-df1a1ab21d97",resource:"charts",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{name}",requestType:r.TypeInfo.BoardChart,responseType:r.TypeInfo.BoardChart,responseIsCollection:!1,routeValues:{project:i,team:a,board:o,name:n},apiVersion:"2.0",data:e})},t.prototype.getBoardColumns=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.0"})},t.prototype.updateBoardColumns=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"c555d7ff-84e1-47df-9923-a3fe0cd8751b",resource:"columns",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardColumn,responseType:r.TypeInfo.BoardColumn,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.0",data:e})},t.prototype.deleteTeamIteration=function(e,t){var r=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseIsCollection:!1,routeValues:{project:r,team:o,id:t},apiVersion:"2.0"})},t.prototype.getTeamIteration=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n,id:t},apiVersion:"2.0"})},t.prototype.getTeamIterations=function(e,t){var o={$timeframe:t},n=e.projectId||e.project,i=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!0,routeValues:{project:n,team:i},queryParams:o,apiVersion:"2.0"})},t.prototype.postTeamIteration=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"work",locationId:"c9175577-28a1-4b06-9197-8636af9f64ad",resource:"iterations",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}/{id}",requestType:r.TypeInfo.TeamSettingsIteration,responseType:r.TypeInfo.TeamSettingsIteration,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.0",data:e})},t.prototype.getBoardRows=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:o,team:n,board:t},apiVersion:"2.0"})},t.prototype.updateBoardRows=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PUT",area:"work",locationId:"0863355d-aefd-4d63-8669-984c9b7b0e78",resource:"rows",routeTemplate:"{project}/{team}/_apis/{area}/boards/{board}/{resource}/{id}",requestType:r.TypeInfo.BoardRow,responseType:r.TypeInfo.BoardRow,responseIsCollection:!0,routeValues:{project:n,team:i,board:o},apiVersion:"2.0",data:e})},t.prototype.getTeamDaysOff=function(e,t){var o=e.projectId||e.project,n=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:o,team:n,iterationId:t},apiVersion:"2.0"})},t.prototype.updateTeamDaysOff=function(e,t,o){var n=t.projectId||t.project,i=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"2d4faa2e-9150-4cbf-a47a-932b1b4a0773",resource:"teamdaysoff",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/iterations/{iterationId}/{resource}",requestType:r.TypeInfo.TeamSettingsDaysOffPatch,responseType:r.TypeInfo.TeamSettingsDaysOff,responseIsCollection:!1,routeValues:{project:n,team:i,iterationId:o},apiVersion:"2.0",data:e})},t.prototype.getTeamFieldValues=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.0"})},t.prototype.updateTeamFieldValues=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"07ced576-58ed-49e6-9c1e-5cb53ab8bf2a",resource:"teamfieldvalues",routeTemplate:"{project}/{team}/_apis/{area}/teamsettings/{resource}",requestType:r.TypeInfo.TeamFieldValuesPatch,responseType:r.TypeInfo.TeamFieldValues,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.0",data:e})},t.prototype.getTeamSettings=function(e){var t=e.projectId||e.project,o=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:t,team:o},apiVersion:"2.0"})},t.prototype.updateTeamSettings=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"work",locationId:"c3c1012b-bea7-49d7-b45e-1664e566f84c",resource:"teamsettings",routeTemplate:"{project}/{team}/_apis/{area}/{resource}",requestType:r.TypeInfo.TeamSettingsPatch,responseType:r.TypeInfo.TeamSetting,responseIsCollection:!1,routeValues:{project:o,team:n},apiVersion:"2.0",data:e})},t.serviceInstanceId=i.ServiceInstanceTypes.TFS,t}(n.VssHttpClient);t.WorkHttpClient2=l;var d=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(s);t.WorkHttpClient=d;var f={"3.0":s,2.3:c,2.2:p,2.1:u,"2.0":l};t.getClient=a}),define("VSS/TestManagement/Contracts",["require","exports"],function(e,t){!function(e){e[e.GeneralAttachment=0]="GeneralAttachment",e[e.AfnStrip=1]="AfnStrip",e[e.BugFilingData=2]="BugFilingData",e[e.CodeCoverage=3]="CodeCoverage",e[e.IntermediateCollectorData=4]="IntermediateCollectorData",e[e.RunConfig=5]="RunConfig",e[e.TestImpactDetails=6]="TestImpactDetails",e[e.TmiTestRunDeploymentFiles=7]="TmiTestRunDeploymentFiles",e[e.TmiTestRunReverseDeploymentFiles=8]="TmiTestRunReverseDeploymentFiles",e[e.TmiTestResultDetail=9]="TmiTestResultDetail",e[e.TmiTestRunSummary=10]="TmiTestRunSummary",e[e.ConsoleLog=11]="ConsoleLog"}(t.AttachmentType||(t.AttachmentType={}));t.AttachmentType;!function(e){e[e.Failed=2]="Failed",e[e.InProgress=1]="InProgress",e[e.Queued=0]="Queued",e[e.Succeeded=3]="Succeeded"}(t.CloneOperationState||(t.CloneOperationState={}));t.CloneOperationState;!function(e){e[e.Modules=1]="Modules",e[e.Functions=2]="Functions",e[e.BlockData=4]="BlockData"}(t.CoverageQueryFlags||(t.CoverageQueryFlags={}));t.CoverageQueryFlags;!function(e){e[e.None=0]="None",e[e.TestRun=1]="TestRun",e[e.TestResult=2]="TestResult",e[e.System=4]="System",e[e.All=7]="All"}(t.CustomTestFieldScope||(t.CustomTestFieldScope={}));t.CustomTestFieldScope;!function(e){e[e.Bit=2]="Bit",e[e.DateTime=4]="DateTime",e[e.Int=8]="Int",e[e.Float=6]="Float",e[e.String=12]="String",e[e.Guid=14]="Guid"}(t.CustomTestFieldType||(t.CustomTestFieldType={}));t.CustomTestFieldType;!function(e){e[e.None=0]="None",e[e.Iterations=1]="Iterations",e[e.WorkItems=2]="WorkItems"}(t.ResultDetails||(t.ResultDetails={}));t.ResultDetails;!function(e){e[e.TestSuite=0]="TestSuite",e[e.TestPlan=1]="TestPlan"}(t.ResultObjectType||(t.ResultObjectType={}));t.ResultObjectType;!function(e){e[e.Active=1]="Active",e[e.Inactive=2]="Inactive"}(t.TestConfigurationState||(t.TestConfigurationState={}));t.TestConfigurationState;!function(e){e[e.Unspecified=0]="Unspecified",e[e.None=1]="None",e[e.Passed=2]="Passed",e[e.Failed=3]="Failed",e[e.Inconclusive=4]="Inconclusive",e[e.Timeout=5]="Timeout",e[e.Aborted=6]="Aborted",e[e.Blocked=7]="Blocked",e[e.NotExecuted=8]="NotExecuted",e[e.Warning=9]="Warning",
e[e.Error=10]="Error",e[e.NotApplicable=11]="NotApplicable",e[e.Paused=12]="Paused",e[e.InProgress=13]="InProgress",e[e.MaxValue=13]="MaxValue"}(t.TestOutcome||(t.TestOutcome={}));t.TestOutcome;!function(e){e[e.Build=1]="Build",e[e.Release=2]="Release"}(t.TestResultsContextType||(t.TestResultsContextType={}));t.TestResultsContextType;!function(e){e[e.None=0]="None",e[e.CreatingEnvironment=1]="CreatingEnvironment",e[e.RunningTests=2]="RunningTests",e[e.CanceledByUser=3]="CanceledByUser",e[e.AbortedBySystem=4]="AbortedBySystem",e[e.TimedOut=5]="TimedOut",e[e.PendingAnalysis=6]="PendingAnalysis",e[e.Analyzed=7]="Analyzed",e[e.CancellationInProgress=8]="CancellationInProgress"}(t.TestRunSubstate||(t.TestRunSubstate={}));t.TestRunSubstate;!function(e){e[e.Unknown=0]="Unknown",e[e.XTDesktop=1]="XTDesktop",e[e.FeedbackDesktop=2]="FeedbackDesktop",e[e.XTWeb=3]="XTWeb",e[e.FeedbackWeb=4]="FeedbackWeb"}(t.TestSessionSource||(t.TestSessionSource={}));t.TestSessionSource;!function(e){e[e.Unspecified=0]="Unspecified",e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Paused=3]="Paused",e[e.Completed=4]="Completed",e[e.Declined=5]="Declined"}(t.TestSessionState||(t.TestSessionState={}));t.TestSessionState;t.TypeInfo={AggregatedDataForResultTrend:{},AggregatedResultsAnalysis:{},AggregatedResultsByOutcome:{},AttachmentType:{enumValues:{generalAttachment:0,afnStrip:1,bugFilingData:2,codeCoverage:3,intermediateCollectorData:4,runConfig:5,testImpactDetails:6,tmiTestRunDeploymentFiles:7,tmiTestRunReverseDeploymentFiles:8,tmiTestResultDetail:9,tmiTestRunSummary:10,consoleLog:11}},BatchResponse:{},CloneOperationInformation:{},CloneOperationState:{enumValues:{failed:2,inProgress:1,queued:0,succeeded:3}},CoverageQueryFlags:{enumValues:{modules:1,functions:2,blockData:4}},CustomTestFieldDefinition:{},CustomTestFieldScope:{enumValues:{none:0,testRun:1,testResult:2,system:4,all:7}},CustomTestFieldType:{enumValues:{bit:2,dateTime:4,"int":8,"float":6,string:12,guid:14}},FailingSince:{},LastResultDetails:{},Response:{},ResultDetails:{enumValues:{none:0,iterations:1,workItems:2}},ResultObjectType:{enumValues:{testSuite:0,testPlan:1}},ResultRetentionSettings:{},ResultsFilter:{},ResultUpdateRequestModel:{},RunUpdateModel:{},TestActionResultModel:{},TestAttachment:{},TestCaseResult:{},TestConfiguration:{},TestConfigurationState:{enumValues:{active:1,inactive:2}},TestFailuresAnalysis:{},TestIterationDetailsModel:{},TestMessageLogDetails:{},TestOutcome:{enumValues:{unspecified:0,none:1,passed:2,failed:3,inconclusive:4,timeout:5,aborted:6,blocked:7,notExecuted:8,warning:9,error:10,notApplicable:11,paused:12,inProgress:13,maxValue:13}},TestPlan:{},TestPlanCloneRequest:{},TestPlanHubData:{},TestPlansWithSelection:{},TestPoint:{},TestResultHistory:{},TestResultHistoryDetailsForGroup:{},TestResultModelBase:{},TestResultsContext:{},TestResultsContextType:{enumValues:{build:1,release:2}},TestResultsDetails:{},TestResultsDetailsForGroup:{},TestResultsQuery:{},TestResultSummary:{},TestResultTrendFilter:{},TestRun:{},TestRunSubstate:{enumValues:{none:0,creatingEnvironment:1,runningTests:2,canceledByUser:3,abortedBySystem:4,timedOut:5,pendingAnalysis:6,analyzed:7,cancellationInProgress:8}},TestSession:{},TestSessionExploredWorkItemReference:{},TestSessionSource:{enumValues:{unknown:0,xTDesktop:1,feedbackDesktop:2,xTWeb:3,feedbackWeb:4}},TestSessionState:{enumValues:{unspecified:0,notStarted:1,inProgress:2,paused:3,completed:4,declined:5}},TestSuite:{},TestSummaryForWorkItem:{}},t.TypeInfo.AggregatedDataForResultTrend.fields={resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}},t.TypeInfo.AggregatedResultsAnalysis.fields={previousContext:{typeInfo:t.TypeInfo.TestResultsContext},resultsByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome}},t.TypeInfo.AggregatedResultsByOutcome.fields={outcome:{enumType:t.TypeInfo.TestOutcome}},t.TypeInfo.BatchResponse.fields={responses:{isArray:!0,typeInfo:t.TypeInfo.Response}},t.TypeInfo.CloneOperationInformation.fields={completionDate:{isDate:!0},creationDate:{isDate:!0},resultObjectType:{enumType:t.TypeInfo.ResultObjectType},state:{enumType:t.TypeInfo.CloneOperationState}},t.TypeInfo.CustomTestFieldDefinition.fields={fieldType:{enumType:t.TypeInfo.CustomTestFieldType},scope:{enumType:t.TypeInfo.CustomTestFieldScope}},t.TypeInfo.FailingSince.fields={date:{isDate:!0}},t.TypeInfo.LastResultDetails.fields={dateCompleted:{isDate:!0}},t.TypeInfo.Response.fields={},t.TypeInfo.ResultRetentionSettings.fields={lastUpdatedDate:{isDate:!0}},t.TypeInfo.ResultsFilter.fields={maxCompleteDate:{isDate:!0},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}},t.TypeInfo.ResultUpdateRequestModel.fields={actionResultDeletes:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel}},t.TypeInfo.RunUpdateModel.fields={logEntries:{isArray:!0,typeInfo:t.TypeInfo.TestMessageLogDetails},substate:{enumType:t.TypeInfo.TestRunSubstate}},t.TypeInfo.TestActionResultModel.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}},t.TypeInfo.TestAttachment.fields={attachmentType:{enumType:t.TypeInfo.AttachmentType},createdDate:{isDate:!0}},t.TypeInfo.TestCaseResult.fields={completedDate:{isDate:!0},createdDate:{isDate:!0},failingSince:{typeInfo:t.TypeInfo.FailingSince},iterationDetails:{isArray:!0,typeInfo:t.TypeInfo.TestIterationDetailsModel},lastUpdatedDate:{isDate:!0},startedDate:{isDate:!0}},t.TypeInfo.TestConfiguration.fields={lastUpdatedDate:{isDate:!0},state:{enumType:t.TypeInfo.TestConfigurationState}},t.TypeInfo.TestFailuresAnalysis.fields={previousContext:{typeInfo:t.TypeInfo.TestResultsContext}},t.TypeInfo.TestIterationDetailsModel.fields={actionResults:{isArray:!0,typeInfo:t.TypeInfo.TestActionResultModel},completedDate:{isDate:!0},startedDate:{isDate:!0}},t.TypeInfo.TestMessageLogDetails.fields={dateCreated:{isDate:!0}},t.TypeInfo.TestPlan.fields={endDate:{isDate:!0},startDate:{isDate:!0},updatedDate:{isDate:!0}},t.TypeInfo.TestPlanCloneRequest.fields={destinationTestPlan:{typeInfo:t.TypeInfo.TestPlan}},t.TypeInfo.TestPlanHubData.fields={testPlan:{typeInfo:t.TypeInfo.TestPlan},testPoints:{isArray:!0,typeInfo:t.TypeInfo.TestPoint},testSuites:{isArray:!0,typeInfo:t.TypeInfo.TestSuite}},t.TypeInfo.TestPlansWithSelection.fields={plans:{isArray:!0,typeInfo:t.TypeInfo.TestPlan}},t.TypeInfo.TestPoint.fields={lastResultDetails:{typeInfo:t.TypeInfo.LastResultDetails},lastUpdatedDate:{isDate:!0}},t.TypeInfo.TestResultHistory.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultHistoryDetailsForGroup}},t.TypeInfo.TestResultHistoryDetailsForGroup.fields={latestResult:{typeInfo:t.TypeInfo.TestCaseResult}},t.TypeInfo.TestResultModelBase.fields={completedDate:{isDate:!0},startedDate:{isDate:!0}},t.TypeInfo.TestResultsContext.fields={contextType:{enumType:t.TypeInfo.TestResultsContextType}},t.TypeInfo.TestResultsDetails.fields={resultsForGroup:{isArray:!0,typeInfo:t.TypeInfo.TestResultsDetailsForGroup}},t.TypeInfo.TestResultsDetailsForGroup.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsCountByOutcome:{isDictionary:!0,dictionaryKeyEnumType:t.TypeInfo.TestOutcome,dictionaryValueTypeInfo:t.TypeInfo.AggregatedResultsByOutcome}},t.TypeInfo.TestResultsQuery.fields={results:{isArray:!0,typeInfo:t.TypeInfo.TestCaseResult},resultsFilter:{typeInfo:t.TypeInfo.ResultsFilter}},t.TypeInfo.TestResultSummary.fields={aggregatedResultsAnalysis:{typeInfo:t.TypeInfo.AggregatedResultsAnalysis},testFailures:{typeInfo:t.TypeInfo.TestFailuresAnalysis},testResultsContext:{typeInfo:t.TypeInfo.TestResultsContext}},t.TypeInfo.TestResultTrendFilter.fields={maxCompleteDate:{isDate:!0}},t.TypeInfo.TestRun.fields={completedDate:{isDate:!0},createdDate:{isDate:!0},dueDate:{isDate:!0},lastUpdatedDate:{isDate:!0},startedDate:{isDate:!0},substate:{enumType:t.TypeInfo.TestRunSubstate}},t.TypeInfo.TestSession.fields={endDate:{isDate:!0},lastUpdatedDate:{isDate:!0},source:{enumType:t.TypeInfo.TestSessionSource},startDate:{isDate:!0},state:{enumType:t.TypeInfo.TestSessionState}},t.TypeInfo.TestSessionExploredWorkItemReference.fields={endTime:{isDate:!0},startTime:{isDate:!0}},t.TypeInfo.TestSuite.fields={children:{isArray:!0,typeInfo:t.TypeInfo.TestSuite},lastPopulatedDate:{isDate:!0},lastUpdatedDate:{isDate:!0}},t.TypeInfo.TestSummaryForWorkItem.fields={summary:{typeInfo:t.TypeInfo.AggregatedDataForResultTrend}}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../VSS/TestManagement/RestClient",["require","exports","VSS/TestManagement/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(e,t,r,o,n,i){function a(e){return window.VSS&&window.VSS.VssSDKRestVersion&&m[window.VSS.VssSDKRestVersion]?o.getClient(m[window.VSS.VssSDKRestVersion],void 0,void 0,void 0,e):o.getClient(u,void 0,void 0,void 0,e)}var s=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.updateTestVariable=function(e,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t,testVariableId:r},apiVersion:this.variablesApiVersion,data:e})},t.prototype.getTestVariables=function(e,t,r){var o={$skip:t,$top:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:this.variablesApiVersion})},t.prototype.getTestVariableById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:e,testVariableId:t},apiVersion:this.variablesApiVersion})},t.prototype.deleteTestVariable=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:e,testVariableId:t},apiVersion:this.variablesApiVersion})},t.prototype.createTestVariable=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"be3fcb2b-995b-47bf-90e5-ca3cf9980912",resource:"Variables",routeTemplate:"{project}/_apis/test/{resource}/{testVariableId}",routeValues:{project:t},apiVersion:this.variablesApiVersion,data:e})},t.prototype.getTestSettingsById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:e,testSettingsId:t},apiVersion:this.testSettingsApiVersion})},t.prototype.deleteTestSettings=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:e,testSettingsId:t},apiVersion:this.testSettingsApiVersion})},t.prototype.createTestSettings=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"8133ce14-962f-42af-a5f9-6aa9defcb9c8",resource:"TestSettings",routeTemplate:"{project}/_apis/test/{resource}/{testSettingsId}",routeValues:{project:t},apiVersion:this.testSettingsApiVersion,data:e})},t.prototype.getSuitesByTestCaseId=function(e){var t={testCaseId:e};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"09a6167b-e969-4775-9247-b94cf3819caf",resource:"Suites",routeTemplate:"_apis/test/{resource}",responseType:r.TypeInfo.TestSuite,responseIsCollection:!0,queryParams:t,apiVersion:this.suitesApiVersion})},t.prototype.updateTestSuite=function(e,t,o,n){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:r.TypeInfo.TestSuite,routeValues:{project:t,planId:o,suiteId:n},apiVersion:this.suitesApiVersion_7b7619a0,data:e})},t.prototype.getTestSuitesForPlan=function(e,t,o,n,i,a){var s={includeSuites:o,$skip:n,$top:i,$asTreeView:a};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:r.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:e,planId:t},queryParams:s,apiVersion:this.suitesApiVersion_7b7619a0})},t.prototype.getTestSuiteById=function(e,t,o,n){var i={includeChildSuites:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:r.TypeInfo.TestSuite,routeValues:{project:e,planId:t,suiteId:o},queryParams:i,apiVersion:this.suitesApiVersion_7b7619a0})},t.prototype.deleteTestSuite=function(e,t,r){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",routeValues:{project:e,planId:t,suiteId:r},apiVersion:this.suitesApiVersion_7b7619a0})},t.prototype.createTestSuite=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b7619a0-cb54-4ab3-bf22-194056f45dd1",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}",responseType:r.TypeInfo.TestSuite,responseIsCollection:!0,routeValues:{project:t,planId:o,suiteId:n},apiVersion:this.suitesApiVersion_7b7619a0,data:e})},t.prototype.removeTestCasesFromSuiteUrl=function(e,t,r,o){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:e,planId:t,suiteId:r,testCaseIds:o,action:"TestCases"},apiVersion:this.suitesApiVersion_a4a1ec1c})},t.prototype.getTestCases=function(e,t,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:e,planId:t,suiteId:r,action:"TestCases"},apiVersion:this.suitesApiVersion_a4a1ec1c})},t.prototype.getTestCaseById=function(e,t,r,o){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",routeValues:{project:e,planId:t,suiteId:r,testCaseIds:o,action:"TestCases"},apiVersion:this.suitesApiVersion_a4a1ec1c})},t.prototype.addTestCasesToSuite=function(e,t,r,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"a4a1ec1c-b03f-41ca-8857-704594ecf58e",resource:"Suites",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}/{suiteId}/{action}/{testCaseIds}",responseIsCollection:!0,routeValues:{project:e,planId:t,suiteId:r,testCaseIds:o,action:"TestCases"},apiVersion:this.suitesApiVersion_a4a1ec1c})},t.prototype.reorderSuiteEntries=function(e,t,r){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:t,suiteId:r},apiVersion:this.suiteEntryApiVersion,data:e})},t.prototype.getSuiteEntries=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"bf8b7f78-0c1f-49cb-89e9-d1a17bcaaad3",resource:"SuiteEntry",routeTemplate:"{project}/_apis/test/{resource}/{suiteId}",responseIsCollection:!0,routeValues:{project:e,suiteId:t},apiVersion:this.suiteEntryApiVersion})},t.prototype.updateTestSession=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",requestType:r.TypeInfo.TestSession,responseType:r.TypeInfo.TestSession,routeValues:{project:o,team:n},apiVersion:this.sessionApiVersion,data:e})},t.prototype.getTestSessions=function(e,t,o,n,i,a){var s={period:t,allSessions:o,includeAllProperties:n,source:i,includeOnlyCompletedSessions:a},c=e.projectId||e.project,p=e.teamId||e.team;return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",responseType:r.TypeInfo.TestSession,responseIsCollection:!0,routeValues:{project:c,team:p},queryParams:s,apiVersion:this.sessionApiVersion})},t.prototype.createTestSession=function(e,t){var o=t.projectId||t.project,n=t.teamId||t.team;return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"1500b4b4-6c69-4ca6-9b18-35e9e97fe2ac",resource:"Session",routeTemplate:"{project}/{team}/_apis/test/{resource}/{testSessionId}",requestType:r.TypeInfo.TestSession,responseType:r.TypeInfo.TestSession,routeValues:{project:o,team:n},apiVersion:this.sessionApiVersion,data:e})},t.prototype.updateTestRun=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",requestType:r.TypeInfo.RunUpdateModel,responseType:r.TypeInfo.TestRun,routeValues:{project:t,runId:o},apiVersion:this.runsApiVersion,data:e})},t.prototype.getTestRuns=function(e,t,o,n,i,a,s,c,p){var u={buildUri:t,owner:o,tmiRunId:n,planId:i,includeRunDetails:a,automated:s,$skip:c,$top:p};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:r.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:e},queryParams:u,apiVersion:this.runsApiVersion})},t.prototype.getTestRunById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:r.TypeInfo.TestRun,routeValues:{project:e,runId:t},apiVersion:this.runsApiVersion})},t.prototype.deleteTestRun=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",routeValues:{project:e,runId:t},apiVersion:this.runsApiVersion})},t.prototype.createTestRun=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"cadb3810-d47d-4a3c-a234-fe5f3be50138",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}",responseType:r.TypeInfo.TestRun,routeValues:{project:t},apiVersion:this.runsApiVersion,data:e})},t.prototype.getTestRunStatistics=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"0a42c424-d764-4a16-a2d5-5c85f87d0ae8",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/{runId}/Statistics",routeValues:{project:e,runId:t},apiVersion:this.runsApiVersion_0a42c424})},t.prototype.getTestResultById=function(e,t,o,n){var i={detailsToInclude:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,routeValues:{project:e,runId:t,testCaseResultId:o},queryParams:i,apiVersion:this.resultsApiVersion})},t.prototype.updateResultRetentionSettings=function(e,t){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"a3206d9e-fa8d-42d3-88cb-f75c51e69cde",resource:"ResultRetentionSettings",routeTemplate:"{project}/_apis/test/{resource}",requestType:r.TypeInfo.ResultRetentionSettings,responseType:r.TypeInfo.ResultRetentionSettings,routeValues:{project:t},apiVersion:this.resultRetentionSettingsApiVersion,data:e})},t.prototype.getResultRetentionSettings=function(e){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a3206d9e-fa8d-42d3-88cb-f75c51e69cde",resource:"ResultRetentionSettings",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.ResultRetentionSettings,routeValues:{project:e},apiVersion:this.resultRetentionSettingsApiVersion})},t.prototype.updateTestPoints=function(e,t,o,n,i){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:r.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{project:t,planId:o,suiteId:n,pointIds:i},apiVersion:this.pointsApiVersion,data:e})},t.prototype.getPoints=function(e,t,o,n,i,a,s,c,p,u){var l={witFields:n,configurationId:i,testCaseId:a,testPointIds:s,includePointDetails:c,$skip:p,$top:u};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:r.TypeInfo.TestPoint,responseIsCollection:!0,routeValues:{project:e,planId:t,suiteId:o},queryParams:l,apiVersion:this.pointsApiVersion})},t.prototype.getPoint=function(e,t,o,n,i){var a={witFields:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"3bcfd5c8-be62-488e-b1da-b8289ce9299c",resource:"Points",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{suiteId}/{resource}/{pointIds}",responseType:r.TypeInfo.TestPoint,routeValues:{project:e,planId:t,suiteId:o,pointIds:n},queryParams:a,apiVersion:this.pointsApiVersion})},t.prototype.updateTestPlan=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:r.TypeInfo.TestPlan,routeValues:{project:t,planId:o},apiVersion:this.plansApiVersion,data:e})},t.prototype.getPlans=function(e,t,o,n,i,a){var s={owner:t,$skip:o,$top:n,includePlanDetails:i,filterActivePlans:a};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:r.TypeInfo.TestPlan,responseIsCollection:!0,routeValues:{project:e},queryParams:s,apiVersion:this.plansApiVersion})},t.prototype.getPlanById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:r.TypeInfo.TestPlan,routeValues:{project:e,planId:t},apiVersion:this.plansApiVersion})},t.prototype.deleteTestPlan=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",routeValues:{project:e,planId:t},apiVersion:this.plansApiVersion})},t.prototype.createTestPlan=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"51712106-7278-4208-8563-1c96f40cf5e4",resource:"Plans",routeTemplate:"{project}/_apis/test/{resource}/{planId}",responseType:r.TypeInfo.TestPlan,routeValues:{project:t},apiVersion:this.plansApiVersion,data:e})},t.prototype.getResultParameters=function(e,t,r,o,n){var i={paramName:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"7c69810d-3354-4af3-844a-180bd25db08a",resource:"ParameterResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}",responseIsCollection:!0,routeValues:{project:e,runId:t,testCaseResultId:r,iterationId:o},queryParams:i,apiVersion:this.parameterResultsApiVersion})},t.prototype.getTestRunLogs=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"a1e55200-637e-42e9-a7c0-7e5bfdedb1b3",resource:"MessageLogs",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",responseType:r.TypeInfo.TestMessageLogDetails,responseIsCollection:!0,routeValues:{project:e,runId:t},apiVersion:this.messageLogsApiVersion})},t.prototype.getTestIterations=function(e,t,o,n){var i={includeActionResults:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"73eb9074-3446-4c44-8296-2f811950ff8d",resource:"Iterations",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{iterationId}",responseType:r.TypeInfo.TestIterationDetailsModel,responseIsCollection:!0,routeValues:{project:e,runId:t,testCaseResultId:o},queryParams:i,apiVersion:this.iterationsApiVersion})},t.prototype.getTestIteration=function(e,t,o,n,i){var a={includeActionResults:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"73eb9074-3446-4c44-8296-2f811950ff8d",resource:"Iterations",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{iterationId}",responseType:r.TypeInfo.TestIterationDetailsModel,routeValues:{project:e,runId:t,testCaseResultId:o,iterationId:n},queryParams:a,apiVersion:this.iterationsApiVersion})},t.prototype.queryCustomFields=function(e,t){var o={scopeFilter:t};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"8ce1923b-f4c7-4e22-b93b-f6284e525ec2",resource:"ExtensionFields",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.CustomTestFieldDefinition,responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:this.extensionFieldsApiVersion})},t.prototype.addCustomFields=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"8ce1923b-f4c7-4e22-b93b-f6284e525ec2",resource:"ExtensionFields",routeTemplate:"{project}/_apis/test/{resource}",requestType:r.TypeInfo.CustomTestFieldDefinition,responseType:r.TypeInfo.CustomTestFieldDefinition,responseIsCollection:!0,routeValues:{project:t},apiVersion:this.extensionFieldsApiVersion,data:e})},t.prototype.updateTestConfiguration=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:r.TypeInfo.TestConfiguration,responseType:r.TypeInfo.TestConfiguration,routeValues:{project:t,testConfigurationId:o},apiVersion:this.configurationsApiVersion,data:e})},t.prototype.getTestConfigurations=function(e,t,o,n){var i={$skip:t,$top:o,includeAllProperties:n};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:r.TypeInfo.TestConfiguration,responseIsCollection:!0,routeValues:{project:e},queryParams:i,apiVersion:this.configurationsApiVersion})},t.prototype.getTestConfigurationById=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",responseType:r.TypeInfo.TestConfiguration,routeValues:{project:e,testConfigurationId:t},apiVersion:this.configurationsApiVersion})},t.prototype.deleteTestConfiguration=function(e,t){return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",routeValues:{project:e,testConfigurationId:t},apiVersion:this.configurationsApiVersion})},t.prototype.createTestConfiguration=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d667591b-b9fd-4263-997a-9a084cca848f",resource:"Configurations",routeTemplate:"{project}/_apis/test/{resource}/{testConfigurationId}",requestType:r.TypeInfo.TestConfiguration,responseType:r.TypeInfo.TestConfiguration,routeValues:{project:t},apiVersion:this.configurationsApiVersion,data:e})},t.prototype.getTestRunCodeCoverage=function(e,t,r){var o={flags:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"9629116f-3b89-4ed8-b358-d4694efda160",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}",responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:o,apiVersion:this.codeCoverageApiVersion})},t.prototype.updateCodeCoverageSummary=function(e,t,r){var o={buildId:r};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:t},queryParams:o,apiVersion:this.codeCoverageApiVersion_77560e8a,data:e})},t.prototype.getCodeCoverageSummary=function(e,t,r){var o={buildId:t,deltaBuildId:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",routeValues:{project:e},queryParams:o,apiVersion:this.codeCoverageApiVersion_77560e8a})},t.prototype.getBuildCodeCoverage=function(e,t,r){var o={buildId:t,flags:r};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"77560e8a-4e8c-4d59-894e-a5f264c24444",resource:"CodeCoverage",routeTemplate:"{project}/_apis/test/{resource}",responseIsCollection:!0,routeValues:{project:e},queryParams:o,apiVersion:this.codeCoverageApiVersion_77560e8a})},t.prototype.cloneTestSuite=function(e,t,o,n){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"751e4ab5-5bf6-4fb5-9d5d-19ef347662dd",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/Suites/{sourceSuiteId}/{resource}",responseType:r.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:o,sourceSuiteId:n},apiVersion:this.cloneOperationApiVersion,data:e})},t.prototype.cloneTestPlan=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"edc3ef4b-8460-4e86-86fa-8e4f5e9be831",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/Plans/{planId}/{resource}",requestType:r.TypeInfo.TestPlanCloneRequest,responseType:r.TypeInfo.CloneOperationInformation,routeValues:{project:t,planId:o},apiVersion:this.cloneOperationApiVersion_edc3ef4b,data:e})},t.prototype.getCloneInformation=function(e,t,o){var n={$includeDetails:o};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"5b9d6320-abed-47a5-a151-cd6dc3798be6",resource:"CloneOperation",routeTemplate:"{project}/_apis/test/{resource}/{cloneOperationId}",responseType:r.TypeInfo.CloneOperationInformation,routeValues:{project:e,cloneOperationId:t},queryParams:n,apiVersion:this.cloneOperationApiVersion_5b9d6320})},t.prototype.getBugsLinkedToTestResult=function(e,t,r){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"6de20ca2-67de-4faf-97fa-38c5d585eb00",resource:"Bugs",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}",responseIsCollection:!0,
routeValues:{project:e,runId:t,testCaseResultId:r},apiVersion:this.bugsApiVersion})},t.prototype.getTestRunAttachmentZip=function(e,t,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:r},apiVersion:this.attachmentsApiVersion})},t.prototype.getTestRunAttachmentContent=function(e,t,r){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:e,runId:t,attachmentId:r},apiVersion:this.attachmentsApiVersion})},t.prototype.createTestRunAttachment=function(e,t,r){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",routeValues:{project:t,runId:r},apiVersion:this.attachmentsApiVersion,data:e})},t.prototype.getTestResultAttachmentZip=function(e,t,r,o){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/zip",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:r,attachmentId:o},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.getTestResultAttachmentContent=function(e,t,r,o){return this._beginRequest({httpMethod:"GET",httpResponseType:"application/octet-stream",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:e,runId:t,testCaseResultId:r,attachmentId:o},apiVersion:this.attachmentsApiVersion_2bffebe9})},t.prototype.createTestResultAttachment=function(e,t,r,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:r,testCaseResultId:o},apiVersion:this.attachmentsApiVersion_2bffebe9,data:e})},t.prototype.createTestIterationResultAttachment=function(e,t,r,o,n,i){var a={iterationId:n,actionPath:i};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",routeValues:{project:t,runId:r,testCaseResultId:o},queryParams:a,apiVersion:this.attachmentsApiVersion_2bffebe9,data:e})},t.prototype.getActionResults=function(e,t,o,n,i){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"eaf40c31-ff84-4062-aafd-d5664be11a37",resource:"ActionResults",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/Iterations/{iterationId}/{resource}/{actionPath}",responseType:r.TypeInfo.TestActionResultModel,responseIsCollection:!0,routeValues:{project:e,runId:t,testCaseResultId:o,iterationId:n,actionPath:i},apiVersion:this.actionResultsApiVersion})},t.serviceInstanceId=i.ServiceInstanceTypes.TFS,t}(n.VssHttpClient);t.CommonMethods2To3=s;var c=function(e){function t(t,r){e.call(this,t,r),this.attachmentsApiVersion=this.attachmentsApiVersion_2bffebe9=this.bugsApiVersion=this.codeCoverageApiVersion=this.codeCoverageApiVersion_77560e8a=this.configurationsApiVersion=this.extensionFieldsApiVersion=this.messageLogsApiVersion=this.resultRetentionSettingsApiVersion=this.sessionApiVersion=this.suiteEntryApiVersion=this.suitesApiVersion=this.testSettingsApiVersion=this.variablesApiVersion="3.0-preview.1",this.cloneOperationApiVersion=this.cloneOperationApiVersion_edc3ef4b=this.cloneOperationApiVersion_5b9d6320=this.plansApiVersion=this.pointsApiVersion=this.runsApiVersion=this.runsApiVersion_0a42c424=this.suitesApiVersion_7b7619a0=this.suitesApiVersion_a4a1ec1c="3.0-preview.2",this.actionResultsApiVersion=this.iterationsApiVersion=this.parameterResultsApiVersion="3.0-preview.3",this.resultsApiVersion="3.0-preview.4"}return __extends(t,e),t.prototype.getTestResultAttachments=function(e,t,o){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"2bffebe9-2f0f-4639-9af8-56129e9fed2d",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/Results/{testCaseResultId}/{resource}/{attachmentId}",responseType:r.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:e,runId:t,testCaseResultId:o},apiVersion:"3.0-preview.1"})},t.prototype.getTestRunAttachments=function(e,t){return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4f004af4-a507-489c-9b13-cb62060beb11",resource:"Attachments",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{attachmentId}",responseType:r.TypeInfo.TestAttachment,responseIsCollection:!0,routeValues:{project:e,runId:t},apiVersion:"3.0-preview.1"})},t.prototype.queryTestResultHistory=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"234616f5-429c-4e7b-9192-affd76731dfd",resource:"History",routeTemplate:"{project}/_apis/test/Results/{resource}",requestType:r.TypeInfo.ResultsFilter,responseType:r.TypeInfo.TestResultHistory,routeValues:{project:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.getTestResultDetailsForBuild=function(e,t,o,n,i,a){var s={buildId:t,publishContext:o,groupBy:n,$filter:i,$orderby:a};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"efb387b0-10d5-42e7-be40-95e06ee9430f",resource:"ResultDetailsByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.TestResultsDetails,routeValues:{project:e},queryParams:s,apiVersion:"3.0-preview.1"})},t.prototype.getTestResultDetailsForRelease=function(e,t,o,n,i,a,s){var c={releaseId:t,releaseEnvId:o,publishContext:n,groupBy:i,$filter:a,$orderby:s};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"b834ec7e-35bb-450f-a3c8-802e70ca40dd",resource:"ResultDetailsByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.TestResultsDetails,routeValues:{project:e},queryParams:c,apiVersion:"3.0-preview.1"})},t.prototype.addTestResultsToTestRun=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:r.TypeInfo.TestCaseResult,responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"3.0-preview.4",data:e})},t.prototype.bulkUpdateTestResults=function(e,t,o,n){var i={resultIds:n&&n.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:r.TypeInfo.TestCaseResult,responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},queryParams:i,apiVersion:"3.0-preview.4",data:e})},t.prototype.getTestResults=function(e,t,o,n,i){var a={detailsToInclude:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:a,apiVersion:"3.0-preview.4"})},t.prototype.updateTestResults=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",requestType:r.TypeInfo.TestCaseResult,responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"3.0-preview.4",data:e})},t.prototype.getTestResultsByQuery=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"6711da49-8e6f-4d35-9f73-cef7a3c81a5b",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}",requestType:r.TypeInfo.TestResultsQuery,responseType:r.TypeInfo.TestResultsQuery,routeValues:{project:t},apiVersion:"3.0-preview.4",data:e})},t.prototype.queryTestResultsReportForBuild=function(e,t,o,n,i){var a={buildId:t,publishContext:o,includeFailureDetails:n,buildToCompare:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"000ef77b-fea2-498d-a10d-ad1a037f559f",resource:"ResultSummaryByBuild",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.TestResultSummary,routeValues:{project:e},queryParams:a,apiVersion:"3.0-preview.1"})},t.prototype.queryTestResultsReportForRelease=function(e,t,o,n,i,a){var s={releaseId:t,releaseEnvId:o,publishContext:n,includeFailureDetails:i,releaseToCompare:a};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"85765790-ac68-494e-b268-af36c3929744",resource:"ResultSummaryByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.TestResultSummary,routeValues:{project:e},queryParams:s,apiVersion:"3.0-preview.1"})},t.prototype.queryTestResultsSummaryForReleases=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"85765790-ac68-494e-b268-af36c3929744",resource:"ResultSummaryByRelease",routeTemplate:"{project}/_apis/test/{resource}",responseType:r.TypeInfo.TestResultSummary,responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.queryTestSummaryByRequirement=function(e,t,o){var n={workItemIds:o&&o.join(",")};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"cd08294e-308d-4460-a46e-4cfdefba0b4b",resource:"ResultSummaryByRequirement",routeTemplate:"{project}/_apis/test/{resource}",requestType:r.TypeInfo.TestResultsContext,responseType:r.TypeInfo.TestSummaryForWorkItem,responseIsCollection:!0,routeValues:{project:t},queryParams:n,apiVersion:"3.0-preview.1",data:e})},t.prototype.queryResultTrendForBuild=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"fbc82a85-0786-4442-88bb-eb0fda6b01b0",resource:"ResultTrendByBuild",routeTemplate:"{project}/_apis/test/{resource}",requestType:r.TypeInfo.TestResultTrendFilter,responseType:r.TypeInfo.AggregatedDataForResultTrend,responseIsCollection:!0,routeValues:{project:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.addWorkItemToTestLinks=function(e,t){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"371b1655-ce05-412e-a113-64cc77bb78d2",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{resource}",routeValues:{project:t},apiVersion:"3.0-preview.1",data:e})},t.prototype.deleteTestMethodToWorkItemLink=function(e,t,r){var o={testName:t,workItemId:r};return this._beginRequest({httpMethod:"DELETE",area:"Test",locationId:"7b0bdee3-a354-47f9-a42c-89018d7808d5",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/{resource}/{workItemId}",routeValues:{project:e},queryParams:o,apiVersion:"3.0-preview.1"})},t.prototype.queryTestMethodLinkedWorkItems=function(e,t){var r={testName:t};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"7b0bdee3-a354-47f9-a42c-89018d7808d5",resource:"WorkItems",routeTemplate:"{project}/_apis/test/TestMethods/{testName}/{resource}/{workItemId}",routeValues:{project:e},queryParams:r,apiVersion:"3.0-preview.1"})},t.prototype.queryTestResultWorkItems=function(e,t,r,o,n,i,a){var s={workItemCategory:t,automatedTestName:r,testCaseId:o,maxCompleteDate:n,days:i,$workItemCount:a};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"926ff5dc-137f-45f0-bd51-9412fa9810ce",resource:"WorkItems",routeTemplate:"{project}/_apis/test/Results/{resource}",responseIsCollection:!0,routeValues:{project:e},queryParams:s,apiVersion:"3.0-preview.1"})},t}(s);t.TestHttpClient3=c;var p=function(e){function t(t,r){e.call(this,t,r),this.actionResultsApiVersion=this.iterationsApiVersion=this.parameterResultsApiVersion=this.plansApiVersion=this.pointsApiVersion=this.resultRetentionSettingsApiVersion=this.resultsApiVersion=this.runsApiVersion=this.runsApiVersion_0a42c424=this.suitesApiVersion=this.suitesApiVersion_7b7619a0=this.suitesApiVersion_a4a1ec1c=this.testSettingsApiVersion="2.3",this.attachmentsApiVersion=this.attachmentsApiVersion_2bffebe9=this.bugsApiVersion=this.codeCoverageApiVersion=this.codeCoverageApiVersion_77560e8a=this.configurationsApiVersion=this.extensionFieldsApiVersion=this.messageLogsApiVersion=this.sessionApiVersion=this.suiteEntryApiVersion=this.variablesApiVersion="2.3-preview.1",this.cloneOperationApiVersion=this.cloneOperationApiVersion_edc3ef4b=this.cloneOperationApiVersion_5b9d6320="2.3-preview.2"}return __extends(t,e),t.prototype.addTestResultsToTestRun=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.3",data:e})},t.prototype.bulkUpdateTestResults=function(e,t,o,n){var i={resultIds:n&&n.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},queryParams:i,apiVersion:"2.3",data:e})},t.prototype.getTestCaseResultById=function(e,t,o,n,i){var a={includeIterationDetails:n,includeAssociatedBugs:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,routeValues:{project:e,runId:t,testCaseResultId:o},queryParams:a,apiVersion:"2.3"})},t.prototype.getTestCaseResults=function(e,t,o){var n={includeIterationDetails:o};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:n,apiVersion:"2.3"})},t.prototype.getTestResults=function(e,t,o,n,i){var a={detailsToInclude:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:a,apiVersion:"2.3"})},t.prototype.updateTestResults=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.3",data:e})},t.prototype.getTestResultsByQuery=function(e,t,o,n,i,a){var s={includeResultDetails:o,includeIterationDetails:n,$skip:i,$top:a};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:s,apiVersion:"2.3-preview.2",data:e})},t.prototype.getTestRunsByQuery=function(e,t,o,n,i){var a={includeRunDetails:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:a,apiVersion:"2.3-preview.2",data:e})},t}(s);t.TestHttpClient2_3=p;var u=function(e){function t(t,r){e.call(this,t,r),this.actionResultsApiVersion=this.iterationsApiVersion=this.parameterResultsApiVersion=this.plansApiVersion=this.pointsApiVersion=this.resultRetentionSettingsApiVersion=this.resultsApiVersion=this.runsApiVersion=this.runsApiVersion_0a42c424=this.suitesApiVersion=this.suitesApiVersion_7b7619a0=this.suitesApiVersion_a4a1ec1c=this.testSettingsApiVersion="2.2",this.attachmentsApiVersion=this.attachmentsApiVersion_2bffebe9=this.bugsApiVersion=this.codeCoverageApiVersion=this.codeCoverageApiVersion_77560e8a=this.configurationsApiVersion=this.extensionFieldsApiVersion=this.messageLogsApiVersion=this.sessionApiVersion=this.suiteEntryApiVersion=this.variablesApiVersion="2.2-preview.1",this.cloneOperationApiVersion=this.cloneOperationApiVersion_edc3ef4b=this.cloneOperationApiVersion_5b9d6320="2.2-preview.2"}return __extends(t,e),t.prototype.addTestResultsToTestRun=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.2",data:e})},t.prototype.bulkUpdateTestResults=function(e,t,o,n){var i={resultIds:n&&n.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},queryParams:i,apiVersion:"2.2",data:e})},t.prototype.getTestCaseResultById=function(e,t,o,n,i){var a={includeIterationDetails:n,includeAssociatedBugs:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,routeValues:{project:e,runId:t,testCaseResultId:o},queryParams:a,apiVersion:"2.2"})},t.prototype.getTestCaseResults=function(e,t,o){var n={includeIterationDetails:o};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:n,apiVersion:"2.2"})},t.prototype.getTestResults=function(e,t,o,n,i){var a={detailsToInclude:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:a,apiVersion:"2.2"})},t.prototype.updateTestResults=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.2",data:e})},t.prototype.getTestResultsByQuery=function(e,t,o,n,i,a){var s={includeResultDetails:o,includeIterationDetails:n,$skip:i,$top:a};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:s,apiVersion:"2.2-preview.2",data:e})},t.prototype.getTestRunsByQuery=function(e,t,o,n,i){var a={includeRunDetails:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:a,apiVersion:"2.2-preview.2",data:e})},t}(s);t.TestHttpClient2_2=u;var l=function(e){function t(t,r){e.call(this,t,r),this.actionResultsApiVersion=this.iterationsApiVersion=this.parameterResultsApiVersion=this.plansApiVersion=this.pointsApiVersion=this.resultRetentionSettingsApiVersion=this.resultsApiVersion=this.runsApiVersion=this.runsApiVersion_0a42c424=this.suitesApiVersion=this.suitesApiVersion_7b7619a0=this.suitesApiVersion_a4a1ec1c=this.testSettingsApiVersion="2.1",this.attachmentsApiVersion=this.attachmentsApiVersion_2bffebe9=this.bugsApiVersion=this.codeCoverageApiVersion=this.codeCoverageApiVersion_77560e8a=this.configurationsApiVersion=this.extensionFieldsApiVersion=this.messageLogsApiVersion=this.sessionApiVersion=this.suiteEntryApiVersion=this.variablesApiVersion="2.1-preview.1",this.cloneOperationApiVersion=this.cloneOperationApiVersion_edc3ef4b=this.cloneOperationApiVersion_5b9d6320="2.1-preview.2"}return __extends(t,e),t.prototype.addTestResultsToTestRun=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.1",data:e})},t.prototype.bulkUpdateTestResults=function(e,t,o,n){var i={resultIds:n&&n.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},queryParams:i,apiVersion:"2.1",data:e})},t.prototype.getTestCaseResultById=function(e,t,o,n,i){var a={includeIterationDetails:n,includeAssociatedBugs:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,routeValues:{project:e,runId:t,testCaseResultId:o},queryParams:a,apiVersion:"2.1"})},t.prototype.getTestCaseResults=function(e,t,o){var n={includeIterationDetails:o};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:n,apiVersion:"2.1"})},t.prototype.getTestResults=function(e,t,o,n,i){var a={detailsToInclude:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:a,apiVersion:"2.1"})},t.prototype.updateTestResults=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.1",data:e})},t.prototype.getTestResultsByQuery=function(e,t,o,n,i,a){var s={includeResultDetails:o,includeIterationDetails:n,$skip:i,$top:a};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:s,apiVersion:"2.1-preview.2",data:e})},t.prototype.getTestRunsByQuery=function(e,t,o,n,i){var a={includeRunDetails:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:a,apiVersion:"2.1-preview.2",data:e})},t}(s);t.TestHttpClient2_1=l;var d=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.addTestResultsToTestRun=function(e,t,o){return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.0",data:e})},t.prototype.bulkUpdateTestResults=function(e,t,o,n){var i={resultIds:n&&n.join(",")};return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},queryParams:i,apiVersion:"2.0",data:e})},t.prototype.getTestCaseResultById=function(e,t,o,n,i){var a={includeIterationDetails:n,includeAssociatedBugs:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,routeValues:{project:e,runId:t,testCaseResultId:o},queryParams:a,apiVersion:"2.0"})},t.prototype.getTestCaseResults=function(e,t,o){var n={includeIterationDetails:o};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:n,apiVersion:"2.0"})},t.prototype.getTestResults=function(e,t,o,n,i){var a={detailsToInclude:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"GET",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:e,runId:t},queryParams:a,apiVersion:"2.0"})},t.prototype.updateTestResults=function(e,t,o){return this._beginRequest({httpMethod:"PATCH",area:"Test",locationId:"4637d869-3a76-4468-8057-0bb02aa385cf",resource:"Results",routeTemplate:"{project}/_apis/test/Runs/{runId}/{resource}/{testCaseResultId}",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t,runId:o},apiVersion:"2.0",data:e})},t.prototype.getTestResultsByQuery=function(e,t,o,n,i,a){var s={includeResultDetails:o,includeIterationDetails:n,$skip:i,$top:a};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"d03f4bfd-0863-441a-969f-6bbbd42443ca",resource:"Results",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestCaseResult,responseIsCollection:!0,routeValues:{project:t},queryParams:s,apiVersion:"2.0-preview.2",data:e})},t.prototype.getTestRunsByQuery=function(e,t,o,n,i){var a={includeRunDetails:o,$skip:n,$top:i};return this._beginRequest({httpMethod:"POST",area:"Test",locationId:"2da6cbff-1bbb-43c9-b465-ea22b6f9707c",resource:"Runs",routeTemplate:"{project}/_apis/test/{resource}/Query",responseType:r.TypeInfo.TestRun,responseIsCollection:!0,routeValues:{project:t},queryParams:a,apiVersion:"2.0-preview.2",data:e})},t}(s);t.TestHttpClient2=d;var f=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(c);t.TestHttpClient=f;var m={"3.0":c,2.3:p,2.2:u,2.1:l,"2.0":d};t.getClient=a}),define("VSS/Commerce/Contracts",["require","exports"],function(e,t){!function(e){e[e.VisualStudioOnline=0]="VisualStudioOnline",e[e.AppInsights=1]="AppInsights",e[e.Marketplace=2]="Marketplace"}(t.AccountProviderNamespace||(t.AccountProviderNamespace={}));t.AccountProviderNamespace;!function(e){e[e.SelfManaged=0]="SelfManaged",e[e.AzureStoreManaged=1]="AzureStoreManaged"}(t.BillingProvider||(t.BillingProvider={}));t.BillingProvider;!function(e){e[e.Free=0]="Free",e[e.Paid=1]="Paid"}(t.MeterBillingState||(t.MeterBillingState={}));t.MeterBillingState;!function(e){e[e.Legacy=0]="Legacy",e[e.Bundle=1]="Bundle",e[e.Extension=2]="Extension"}(t.MeterCategory||(t.MeterCategory={}));t.MeterCategory;!function(e){e[e.None=0]="None",e[e.Monthly=1]="Monthly",e[e.Annually=2]="Annually"}(t.MeterRenewalFrequecy||(t.MeterRenewalFrequecy={}));t.MeterRenewalFrequecy;!function(e){e[e.Registered=0]="Registered",e[e.Active=1]="Active",e[e.Retired=2]="Retired",e[e.Deleted=3]="Deleted"}(t.MeterState||(t.MeterState={}));t.MeterState;!function(e){e[e.Explicit=0]="Explicit",e[e.Implicit=1]="Implicit"}(t.OfferMeterAssignmentModel||(t.OfferMeterAssignmentModel={}));t.OfferMeterAssignmentModel;!function(e){e[e.Account=0]="Account",e[e.User=1]="User",e[e.UserAccount=2]="UserAccount"}(t.OfferScope||(t.OfferScope={}));t.OfferScope;!function(e){e[e.None=0]="None",e[e.MonetaryLimitSet=1]="MonetaryLimitSet",e[e.InvalidOfferCode=2]="InvalidOfferCode",e[e.NotAdminOrCoAdmin=3]="NotAdminOrCoAdmin",e[e.InvalidRegionPurchase=4]="InvalidRegionPurchase"}(t.PurchaseErrorReason||(t.PurchaseErrorReason={}));t.PurchaseErrorReason;!function(e){e[e.Committment=0]="Committment",e[e.PayAsYouGo=1]="PayAsYouGo"}(t.ResourceBillingMode||(t.ResourceBillingMode={}));t.ResourceBillingMode;!function(e){e[e.StandardLicense=0]="StandardLicense",e[e.AdvancedLicense=1]="AdvancedLicense",e[e.ProfessionalLicense=2]="ProfessionalLicense",e[e.Build=3]="Build",e[e.LoadTest=4]="LoadTest",e[e.PremiumBuildAgent=5]="PremiumBuildAgent",e[e.PrivateOtherBuildAgent=6]="PrivateOtherBuildAgent",e[e.PrivateAzureBuildAgent=7]="PrivateAzureBuildAgent"}(t.ResourceName||(t.ResourceName={}));t.ResourceName;!function(e){e[e.Monthly=0]="Monthly",e[e.Jan=1]="Jan",e[e.Feb=2]="Feb",e[e.Mar=3]="Mar",e[e.Apr=4]="Apr",e[e.May=5]="May",e[e.Jun=6]="Jun",e[e.Jul=7]="Jul",e[e.Aug=8]="Aug",e[e.Sep=9]="Sep",e[e.Oct=10]="Oct",e[e.Nov=11]="Nov",e[e.Dec=12]="Dec"}(t.ResourceRenewalGroup||(t.ResourceRenewalGroup={}));t.ResourceRenewalGroup;!function(e){e[e.None=0]="None",e[e.NoAzureSubscription=1]="NoAzureSubscription",e[e.NoIncludedQuantityLeft=2]="NoIncludedQuantityLeft",e[e.SubscriptionDisabled=4]="SubscriptionDisabled",e[e.PaidBillingDisabled=8]="PaidBillingDisabled",e[e.MaximumQuantityReached=16]="MaximumQuantityReached"}(t.ResourceStatusReason||(t.ResourceStatusReason={}));t.ResourceStatusReason;!function(e){e[e.Unknown=0]="Unknown",e[e.Active=1]="Active",e[e.Disabled=2]="Disabled",e[e.Deleted=3]="Deleted",e[e.Unregistered=4]="Unregistered"}(t.SubscriptionStatus||(t.SubscriptionStatus={}));t.SubscriptionStatus;t.TypeInfo={AccountProviderNamespace:{enumValues:{visualStudioOnline:0,appInsights:1,marketplace:2}},BillingProvider:{enumValues:{selfManaged:0,azureStoreManaged:1}},IOfferSubscription:{},ISubscriptionAccount:{},ISubscriptionResource:{},IUsageEventAggregate:{},MeterBillingState:{enumValues:{free:0,paid:1}},MeterCategory:{enumValues:{legacy:0,bundle:1,extension:2}},MeterRenewalFrequecy:{enumValues:{none:0,monthly:1,annually:2}},
MeterState:{enumValues:{registered:0,active:1,retired:2,deleted:3}},OfferMeter:{},OfferMeterAssignmentModel:{enumValues:{explicit:0,implicit:1}},OfferScope:{enumValues:{account:0,user:1,userAccount:2}},OfferSubscription:{},PurchasableOfferMeter:{},PurchaseErrorReason:{enumValues:{none:0,monetaryLimitSet:1,invalidOfferCode:2,notAdminOrCoAdmin:3,invalidRegionPurchase:4}},ResourceBillingMode:{enumValues:{committment:0,payAsYouGo:1}},ResourceName:{enumValues:{standardLicense:0,advancedLicense:1,professionalLicense:2,build:3,loadTest:4,premiumBuildAgent:5,privateOtherBuildAgent:6,privateAzureBuildAgent:7}},ResourceRenewalGroup:{enumValues:{monthly:0,jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}},ResourceStatusReason:{enumValues:{none:0,noAzureSubscription:1,noIncludedQuantityLeft:2,subscriptionDisabled:4,paidBillingDisabled:8,maximumQuantityReached:16}},SubscriptionResource:{},SubscriptionStatus:{enumValues:{unknown:0,active:1,disabled:2,deleted:3,unregistered:4}},UsageEvent:{}},t.TypeInfo.IOfferSubscription.fields={azureSubscriptionState:{enumType:t.TypeInfo.SubscriptionStatus},disabledReason:{enumType:t.TypeInfo.ResourceStatusReason},offerMeter:{typeInfo:t.TypeInfo.OfferMeter},renewalGroup:{enumType:t.TypeInfo.ResourceRenewalGroup},resetDate:{isDate:!0},startDate:{isDate:!0},trialExpiryDate:{isDate:!0}},t.TypeInfo.ISubscriptionAccount.fields={failedPurchaseReason:{enumType:t.TypeInfo.PurchaseErrorReason},subscriptionStatus:{enumType:t.TypeInfo.SubscriptionStatus}},t.TypeInfo.ISubscriptionResource.fields={disabledReason:{enumType:t.TypeInfo.ResourceStatusReason},name:{enumType:t.TypeInfo.ResourceName},resetDate:{isDate:!0}},t.TypeInfo.IUsageEventAggregate.fields={endTime:{isDate:!0},resource:{enumType:t.TypeInfo.ResourceName},startTime:{isDate:!0}},t.TypeInfo.OfferMeter.fields={assignmentModel:{enumType:t.TypeInfo.OfferMeterAssignmentModel},billingEntity:{enumType:t.TypeInfo.BillingProvider},billingMode:{enumType:t.TypeInfo.ResourceBillingMode},billingStartDate:{isDate:!0},billingState:{enumType:t.TypeInfo.MeterBillingState},category:{enumType:t.TypeInfo.MeterCategory},offerScope:{enumType:t.TypeInfo.OfferScope},renewalFrequency:{enumType:t.TypeInfo.MeterRenewalFrequecy},status:{enumType:t.TypeInfo.MeterState}},t.TypeInfo.OfferSubscription.fields={azureSubscriptionState:{enumType:t.TypeInfo.SubscriptionStatus},disabledReason:{enumType:t.TypeInfo.ResourceStatusReason},offerMeter:{typeInfo:t.TypeInfo.OfferMeter},renewalGroup:{enumType:t.TypeInfo.ResourceRenewalGroup},resetDate:{isDate:!0},startDate:{isDate:!0},trialExpiryDate:{isDate:!0}},t.TypeInfo.PurchasableOfferMeter.fields={estimatedRenewalDate:{isDate:!0},offerMeterDefinition:{typeInfo:t.TypeInfo.OfferMeter}},t.TypeInfo.SubscriptionResource.fields={disabledReason:{enumType:t.TypeInfo.ResourceStatusReason},name:{enumType:t.TypeInfo.ResourceName},resetDate:{isDate:!0}},t.TypeInfo.UsageEvent.fields={billableDate:{isDate:!0},eventTimestamp:{isDate:!0},resourceBillingMode:{enumType:t.TypeInfo.ResourceBillingMode}}});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("VSS/Commerce/RestClient",["require","exports","VSS/Commerce/Contracts","VSS/Service","VSS/WebApi/RestClient","VSS/WebApi/Constants"],function(e,t,r,o,n,i){function a(e){return window.VSS&&window.VSS.VssSDKRestVersion&&m[window.VSS.VssSDKRestVersion]?o.getClient(m[window.VSS.VssSDKRestVersion],void 0,void 0,void 0,e):o.getClient(u,void 0,void 0,void 0,e)}var s=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t.prototype.reportUsage=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Commerce",locationId:"eed7d28a-12a9-47ed-9a85-91a76c63e74b",resource:"UsageEvents",routeTemplate:"_apis/{area}/{resource}/{resourceName}",requestType:r.TypeInfo.UsageEvent,apiVersion:this.usageEventsApiVersion,data:e})},t.prototype.getUsage=function(e,t,o){var n={startTime:e,endTime:t,timeSpan:o};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"eed7d28a-12a9-47ed-9a85-91a76c63e74b",resource:"UsageEvents",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.IUsageEventAggregate,responseIsCollection:!0,queryParams:n,apiVersion:this.usageEventsApiVersion})},t.prototype.unlinkAccount=function(e,t,r,o){var n={providerNamespaceId:t,accountId:r,ownerId:o};return this._beginRequest({httpMethod:"DELETE",httpResponseType:"html",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",routeValues:{subscriptionId:e},queryParams:n,apiVersion:this.subscriptionApiVersion})},t.prototype.linkAccount=function(e,t,r,o){var n={providerNamespaceId:t,accountId:r,ownerId:o};return this._beginRequest({httpMethod:"PUT",httpResponseType:"html",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",routeValues:{subscriptionId:e},queryParams:n,apiVersion:this.subscriptionApiVersion})},t.prototype.getSubscriptionAccount=function(e,t){var o={providerNamespaceId:e,accountId:t};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:r.TypeInfo.ISubscriptionAccount,queryParams:o,apiVersion:this.subscriptionApiVersion})},t.prototype.getAzureSubscriptionForUser=function(e){return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:r.TypeInfo.ISubscriptionAccount,responseIsCollection:!0,routeValues:{subscriptionId:e},apiVersion:this.subscriptionApiVersion})},t.prototype.getAzureSubscriptionForPurchase=function(e,t,o){var n={galleryItemId:t,accountId:o};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:r.TypeInfo.ISubscriptionAccount,routeValues:{subscriptionId:e},queryParams:n,apiVersion:this.subscriptionApiVersion})},t.prototype.getAccountsByIdentityForOfferId=function(e,t,o,n,i,a,s,c,p){var u={providerNamespaceId:e,memberId:t,queryOnlyOwnerAccounts:o,inlcudeDisabledAccounts:n,includeMSAAccounts:i,serviceOwners:a,galleryId:s,addUnlinkedSubscription:c,queryAccountsByUpn:p};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:r.TypeInfo.ISubscriptionAccount,responseIsCollection:!0,queryParams:u,apiVersion:this.subscriptionApiVersion})},t.prototype.getAccountsByIdentity=function(e,t,o,n,i,a){var s={providerNamespaceId:e,memberId:t,queryOnlyOwnerAccounts:o,inlcudeDisabledAccounts:n,includeMSAAccounts:i,serviceOwners:a};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:r.TypeInfo.ISubscriptionAccount,responseIsCollection:!0,queryParams:s,apiVersion:this.subscriptionApiVersion})},t.prototype.getAccounts=function(e,t){var o={providerNamespaceId:t};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"64485509-d692-4b70-b440-d02b3b809820",resource:"Subscription",routeTemplate:"_apis/{area}/{resource}/{subscriptionId}",responseType:r.TypeInfo.ISubscriptionAccount,responseIsCollection:!0,routeValues:{subscriptionId:e},queryParams:o,apiVersion:this.subscriptionApiVersion})},t.prototype.getAccountRegions=function(){return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"9527c79d-9f3e-465d-8178-069106c39457",resource:"Regions",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseIsCollection:!0,apiVersion:this.regionsApiVersion})},t.prototype.updateOfferSubscription=function(e){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",requestType:r.TypeInfo.OfferSubscription,apiVersion:this.offerSubscriptionApiVersion,data:e})},t.prototype.getOfferSubscriptionsForGalleryItem=function(e,t,o){var n={galleryItemId:e,azureSubscriptionId:t,nextBillingPeriod:o};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.IOfferSubscription,responseIsCollection:!0,queryParams:n,apiVersion:this.offerSubscriptionApiVersion})},t.prototype.getOfferSubscriptions=function(e){var t={nextBillingPeriod:e};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.IOfferSubscription,responseIsCollection:!0,queryParams:t,apiVersion:this.offerSubscriptionApiVersion})},t.prototype.getOfferSubscription=function(e,t){var o={galleryId:e,nextBillingPeriod:t};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.IOfferSubscription,queryParams:o,apiVersion:this.offerSubscriptionApiVersion})},t.prototype.getAllOfferSubscriptionsForUser=function(e,t){var o={validateAzuresubscription:e,nextBillingPeriod:t};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.IOfferSubscription,responseIsCollection:!0,queryParams:o,apiVersion:this.offerSubscriptionApiVersion})},t.prototype.enableTrialOrPreviewOfferSubscription=function(e,t){var r={offerMeterName:e,renewalGroup:t};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",queryParams:r,apiVersion:this.offerSubscriptionApiVersion})},t.prototype.createOfferSubscription=function(e,t,o,n,i){var a={offerCode:t,tenantId:o,objectId:n,billingTarget:i};return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",requestType:r.TypeInfo.OfferSubscription,queryParams:a,apiVersion:this.offerSubscriptionApiVersion,data:e})},t.prototype.cancelOfferSubscription=function(e,t){var o={cancelReason:t};return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Commerce",locationId:"e8950ce5-80bc-421f-b093-033c18fd3d79",resource:"OfferSubscription",routeTemplate:"_apis/{area}/{resource}/{resourceName}",requestType:r.TypeInfo.OfferSubscription,queryParams:o,apiVersion:this.offerSubscriptionApiVersion,data:e})},t.prototype.getOfferMeterPrice=function(e){var t={galleryId:e};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"1c67c343-2269-4608-bc53-fe62daa8e32b",resource:"OfferMeterPrice",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseIsCollection:!0,queryParams:t,apiVersion:this.offerMeterPriceApiVersion})},t.prototype.getPurchasableOfferMeter=function(e,t,o,n,i,a,s){var c={resourceNameResolveMethod:t,subscriptionId:o,includeMeterPricing:n,offerCode:i,tenantId:a,objectId:s};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"8b79e1fb-777b-4d0a-9d2e-6a4b2b8761b9",resource:"OfferMeter",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.PurchasableOfferMeter,routeValues:{resourceName:e},queryParams:c,apiVersion:this.offerMeterApiVersion})},t.prototype.getOfferMeters=function(){return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"8b79e1fb-777b-4d0a-9d2e-6a4b2b8761b9",resource:"OfferMeter",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.OfferMeter,responseIsCollection:!0,apiVersion:this.offerMeterApiVersion})},t.prototype.getOfferMeter=function(e,t){var o={resourceNameResolveMethod:t};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"8b79e1fb-777b-4d0a-9d2e-6a4b2b8761b9",resource:"OfferMeter",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.OfferMeter,routeValues:{resourceName:e},queryParams:o,apiVersion:this.offerMeterApiVersion})},t.prototype.createOfferMeterDefinition=function(e){return this._beginRequest({httpMethod:"POST",httpResponseType:"html",area:"Commerce",locationId:"8b79e1fb-777b-4d0a-9d2e-6a4b2b8761b9",resource:"OfferMeter",routeTemplate:"_apis/{area}/{resource}/{resourceName}",requestType:r.TypeInfo.OfferMeter,apiVersion:this.offerMeterApiVersion,data:e})},t.prototype.updateMeter=function(e){return this._beginRequest({httpMethod:"PATCH",httpResponseType:"html",area:"Commerce",locationId:"afb09d56-7740-4eb0-867f-792021fab7c9",resource:"Meters",routeTemplate:"_apis/{area}/{resource}/{resourceName}",requestType:r.TypeInfo.SubscriptionResource,apiVersion:this.metersApiVersion,data:e})},t.prototype.getResourceStatusByResourceName=function(e,t){var o={nextBillingPeriod:t};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"afb09d56-7740-4eb0-867f-792021fab7c9",resource:"Meters",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.ISubscriptionResource,routeValues:{resourceName:r.ResourceName[e]},queryParams:o,apiVersion:this.metersApiVersion})},t.prototype.getResourceStatus=function(e){var t={nextBillingPeriod:e};return this._beginRequest({httpMethod:"GET",area:"Commerce",locationId:"afb09d56-7740-4eb0-867f-792021fab7c9",resource:"Meters",routeTemplate:"_apis/{area}/{resource}/{resourceName}",responseType:r.TypeInfo.ISubscriptionResource,responseIsCollection:!0,queryParams:t,apiVersion:this.metersApiVersion})},t.serviceInstanceId=i.ServiceInstanceTypes.SPS,t}(n.VssHttpClient);t.CommonMethods2To3=s;var c=function(e){function t(t,r){e.call(this,t,r),this.offerMeterApiVersion=this.offerMeterPriceApiVersion=this.offerSubscriptionApiVersion=this.regionsApiVersion=this.subscriptionApiVersion=this.usageEventsApiVersion="3.0-preview.1",this.metersApiVersion="3.0-preview.2"}return __extends(t,e),t}(s);t.CommerceHttpClient3=c;var p=function(e){function t(t,r){e.call(this,t,r),this.offerMeterApiVersion=this.offerMeterPriceApiVersion=this.offerSubscriptionApiVersion=this.regionsApiVersion=this.subscriptionApiVersion=this.usageEventsApiVersion="2.3-preview.1",this.metersApiVersion="2.3-preview.2"}return __extends(t,e),t}(s);t.CommerceHttpClient2_3=p;var u=function(e){function t(t,r){e.call(this,t,r),this.offerMeterApiVersion=this.offerMeterPriceApiVersion=this.offerSubscriptionApiVersion=this.regionsApiVersion=this.subscriptionApiVersion=this.usageEventsApiVersion="2.2-preview.1",this.metersApiVersion="2.2-preview.2"}return __extends(t,e),t}(s);t.CommerceHttpClient2_2=u;var l=function(e){function t(t,r){e.call(this,t,r),this.offerMeterApiVersion=this.offerMeterPriceApiVersion=this.offerSubscriptionApiVersion=this.regionsApiVersion=this.subscriptionApiVersion=this.usageEventsApiVersion="2.1-preview.1",this.metersApiVersion="2.1-preview.2"}return __extends(t,e),t}(s);t.CommerceHttpClient2_1=l;var d=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(s);t.CommerceHttpClient2=d;var f=function(e){function t(t,r){e.call(this,t,r)}return __extends(t,e),t}(c);t.CommerceHttpClient=f;var m={"3.0":c,2.3:p,2.2:u,2.1:l,"2.0":d};t.getClient=a}),define("../../Common/StopWords",["require","exports"],function(e,t){t.StopWordList=["the","of","and","a","to","in","is","you","that","it","he","was","for","on","are","as","with","his","they","i","at","be","this","have","from","or","one","had","by","word","but","not","what","all","were","we","when","your","can","said","there","use","an","each","which","she","do","how","their","if","will","up","there","about","out","many","then","them","these","so","some","her","would","make","like","him","into","time","has","look","two","more","write","go","see","number","no","way","could","people","my","than","first","water","been","call","who","oil","its","now","find","long","down","day","did","get","come","made","may","part","b","c","d","e","f","g","h","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"]}),define("../../Model/WorkItemServiceHelper",["require","exports","../Model/SettingsService","../Model/Model","../Common/ExtensionStorage","../Service/WorkItemHelper"],function(e,t,r,o,n,i){var a=i.WorkItemHelper,s=function(){function e(){}return e.updateWorkItems=function(e,t){var i=this,a=n.LocalStorageService.retrieve(t);if(e){var s=r.getService().getLocalSettings();a||(a=new Array),e.forEach(function(e){var t={title:e.fields[o.WorkItemField.title],id:e.fields[o.WorkItemField.id],type:e.fields[o.WorkItemField.workItemType],assignedTo:e.fields[o.WorkItemField.assignedTo]?e.fields[o.WorkItemField.assignedTo].substring(0,e.fields[o.WorkItemField.assignedTo].indexOf("<")):"Unassigned",state:e.fields[o.WorkItemField.workItemState],iterationPath:e.fields[o.WorkItemField.iterationPath],url:i.getEditableWitUrl(e.fields[o.WorkItemField.id],s)};a.push(t)})}return a},e.parseFeedbackWorkItems=function(e){var t=new Array;return e.forEach(function(e){var r={title:e.fields[o.WorkItemField.title],id:e.fields[o.WorkItemField.id],type:e.fields[o.WorkItemField.workItemType],createdDate:e.fields[o.WorkItemField.createdDate],createdBy:e.fields[o.WorkItemField.createdBy]?e.fields[o.WorkItemField.createdBy].substring(0,e.fields[o.WorkItemField.createdBy].indexOf("<")):"None",applicationLaunchInstruction:e.fields[o.WorkItemField.applicationLaunchInstruction]};t.push(r)}),t},e.getWorkItemIdFromUrl=function(e){var t=0;if(e){var r=e.split("/"),o=r.length,n=parseInt(r[o-1]);t=isNaN(n)?0:n}return t},e.mergeFeedbackWorkItemsWithSessions=function(e,t){var r={};return t&&t.forEach(function(e){if(e.propertyBag&&e.propertyBag.bag){var t=e.propertyBag.bag[o.TestSessionConstants.feedbackRequestIdString];t&&(!r[t]||r[t].id<e.id)&&(r[t]=e)}}),e&&e.forEach(function(e){e.associatedFeedbackSession=r[e.id]}),e},e.parseLinksAndGetParent=function(e){for(var t=0;t<e.length;t++)if(e[t].rel===o.WorkItemRelations.parentLink)return e[t].url;return null},e.filterAndRankWorkItems=function(e,t){for(var r={},o=0,n=t.length;n>o;o++)r[t[o].id]=t[o];t=[];for(var i in r)t.push(r[i]);var a=e.split(" ").filter(function(e){return e?!0:!1}),s=a.join("|");return t=t.sort(function(e,t){var r=(e.title.match(new RegExp(s,"gi"))||[]).length,o=(t.title.match(new RegExp(s,"gi"))||[]).length;return o-r}),t=t.sort(function(e,t){var r=!0;a.forEach(function(t){0===(e.title.match(new RegExp(t,"gi"))||[]).length&&(r=!1)});var o=!0;return a.forEach(function(e){0===(t.title.match(new RegExp(e,"gi"))||[]).length&&(o=!1)}),r&&o?0:o?1:r?-1:0})},e.getEditableWitUrl=function(e,t){return e?"/"===t.url.charAt(t.url.length-1)?t.url.concat(t.project).concat(this.editableWorkitemUrlSuffix).concat(e):t.url.concat("/").concat(t.project).concat(this.editableWorkitemUrlSuffix).concat(e):null},e.isLinkabaleWorkItem=function(e){return a.getCategory(e)===o.WorkItemCategories.FeatureCategory||a.getCategory(e)===o.WorkItemCategories.ScenarioCategory||a.getCategory(e)===o.WorkItemCategories.RequirementCategory||a.getCategory(e)===o.WorkItemCategories.TestCaseCategory||a.getCategory(e)===o.WorkItemCategories.EpicCategory?!0:!1},e.editableWorkitemUrlSuffix="/_workitems#_a=edit&id=",e}();t.WorkItemServiceHelper=s});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../TfsClient/TfsStore",["require","exports","../Model/Model","../VSS/WorkItemTracking/RestClient","../VSS/Core/RestClient","../VSS/Work/RestClient","../VSS/TestManagement/RestClient","VSS/Commerce/RestClient","VSS/Work/Contracts","VSS/TestManagement/Contracts","../Tracing/Tracing","../Common/ExtensionStorage","../Common/FeatureAvailabiliy","../Service/WorkItemHelper","../Model/ModelHelper","VSS/WorkItemTracking/Contracts","../Common/StopWords","../Common/Types","../Common/Utility","../Common/Constants","../Messaging/Messaging","../Messaging/ChromeMessaging","../Model/SettingsService","../Model/WorkItemServiceHelper"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m,g,y,h,T,I,v,S,b,C){var k=f.WorkItemHelper,w=d.FeatureFlag,R=d.FeatureAvailibilityService,A=r.SessionState,M=r.WorkItemField,_="TfsStore",V=2147483647,P="404",D="The feature is disabled.";!function(e){e[e.REST=0]="REST",e[e.SOAP=1]="SOAP"}(t.TfsSessionStoreType||(t.TfsSessionStoreType={}));var F=t.TfsSessionStoreType,E=function(){function e(e,t){this.serverUrl=e,this.teamProject=t}return e.prototype.getSharedPlatformServicesUrl=function(){if(this.serverUrl&&T.isHostedUrl(this.serverUrl)){var e=this.serverUrl.indexOf("dev.azure.com")>0?"dev.azure.com":"visualstudio.com",t=this.serverUrl.substr(0,this.serverUrl.indexOf(e)),r=this.serverUrl.substr(this.serverUrl.indexOf(e));return h.stringFormat("{0}vssps.{1}",t,r)}return""},e.prototype.getConnectedUserDetails=function(){var e=this,t=Q.defer();if(this.connectedUser)t.resolve(this.connectedUser);else{var r=new ae(this),o=r.getConnectedUserOptions();ce.sendRequest(o,function(o){e.connectedUser=r.parseAndGetAuthenticatedUser(o),t.resolve(e.connectedUser)},t.reject)}return t.promise},e}(),L=function(){function e(){}return e.getConnectionStore=function(e){return T.isHostedUrl(e)?new x(e):new j(e)},e}();t.TfsConnectionStoreFactory=L;var x=function(){function e(e){this._millisecondsInOneDay=864e5,this._serverBaseUrl=e,this._tfsLicensingStore=new z(e,"")}return e.prototype.getProjectCollections=function(e,t){var r="getProjectCollections";u.TracingService.traceEnter(r,_,1,"Start: Fetch Collections");var o=new n.CoreHttpClient2(this._serverBaseUrl),i=o.getProjectCollections();i.then(function(t){if(e){u.TracingService.traceLeave(r,_,2,"End: Fetch Collections");var o=$.map(t,function(e){return{name:e.name,id:e.id}});e(o)}},function(e){t&&(u.TracingService.traceError(_,3,"Fetch Collection failed with error "+e),t(e))})},e.prototype.getProjectCollectionData=function(e,t,r){var o="getProjectCollectionDataViaMVCStore";u.TracingService.traceEnter(o,_,18,"Start: Fetch Collections");var n=new W(this._serverBaseUrl);n.getProjectCollectionData(e,function(e){t&&(u.TracingService.traceLeave(o,_,17,"End: Fetch Collections"),t(e))},function(e){r&&(u.TracingService.traceError(_,19,"Fetch Collection Data failed with error "+m.ErrorHelper.getErrorMessage(e,!1)),r(e))})},e.prototype.getTeamProjects=function(e,t,r,o,i,a){var s="getTeamProjects",c=T.getCollectionUrl(this._serverBaseUrl,e),p=new n.CoreHttpClient2(c);o||(o=V),r||(r=0),t||(t=[]);var l=p.getProjects("WellFormed",o,r),d=this;u.TracingService.traceEnter(s,_,4,"Start: Fetch Projects for :"+e),l.then(function(n){if(n&&n.length>0){var c=n.length;r+=c,o-=c,t.push.apply(t,n),d.getTeamProjects(e,t,r,o,i,a)}else if(i){u.TracingService.traceLeave(s,_,5,"End: Fetch Projects for :"+e);var p=$.map(t,function(e){return{name:e.name,id:e.id}});i(p)}},function(t){t&&(u.TracingService.traceError(_,6,"Fetch Projects failed with error "+t+" for collection :"+e),a(t))})},e.prototype.getTeams=function(e,t,r,o,i,a,s){var c="getTeams",p=T.getCollectionUrl(this._serverBaseUrl,e),l=new n.CoreHttpClient2(p);i||(i=V),o||(o=0),r||(r=[]);var d=l.getTeams(t,void 0,i,o),f=this;u.TracingService.traceEnter(c,_,7,"Start: Fetch Teams for project:"+t+" in collection :"+e),d.then(function(n){var p=n.value.length;if(n&&p>0)o+=p,i-=p,r.push.apply(r,n.value),f.getTeams(e,t,r,o,i,a,s);else if(a){u.TracingService.traceLeave(c,_,8,"End: Fetch Teams for project:"+t+" in collection :"+e);var l=$.map(r,function(e){return{name:e.name,id:e.id}});a(l)}},function(r){r&&(u.TracingService.traceError(_,9,"Fetch Teams failed with error "+r+" for project :"+t+" in collection :"+e),s(r))})},e.prototype.getTeamAreaPathValues=function(e,t,o,n,a){var s="getDefaultTeamAreaPath",c=T.getCollectionUrl(this._serverBaseUrl,e),p=new i.WorkHttpClient2(c),l={project:t,team:o,projectId:null,teamId:null},d=p.getTeamFieldValues(l);u.TracingService.traceEnter(s,_,10,"Start: Fetch AreaPath for Team:"+o+"in project :"+t+"in collection: "+e),d.then(function(i){n&&(u.TracingService.traceLeave(s,_,11,"End: Fetch AreaPath for Team:"+o+"in project :"+t+"in collection: "+e),i.field.referenceName===r.WorkItemField.areaPath?n(i.defaultValue,i.values):n(t,null))},function(r){r&&(u.TracingService.traceError(_,12,"Fetch AreaPath failed with error "+r+"for Team:"+o+"in project :"+t+"in collection: "+e),a(r))})},e.prototype.getTeamIterationPath=function(e,t,r,o,n){var a=this,s="getTeamIteration",c=T.getCollectionUrl(this._serverBaseUrl,e),p=new i.WorkHttpClient2(c),l={project:t,team:r,projectId:null,teamId:null},d=p.getTeamSettings(l);u.TracingService.traceEnter(s,_,20,"Start: Fetch default Iteration Path for Team:"+r+"in project :"+t+"in collection: "+e),d.then(function(i){if(i&&i.defaultIteration){if(o){u.TracingService.traceLeave(s,_,21,"End: Fetch default Iteration for Team:"+r+"in project :"+t+"in collection: "+e);var c=t+i.defaultIteration.path;o(c)}}else a.getTeamCurrentIterationPath(e,t,r,o,n)},function(o){o&&(u.TracingService.traceError(_,22,"Fetch default Iteration failed with error "+o+"for Team:"+r+"in project :"+t+"in collection: "+e),n(o))})},e.prototype.checkLicense=function(e){var t=this,r=this._tfsLicensingStore.getAccountLicenseDataOfUser(I.CommonExtensionContants.exploratoryTestingExtensionGalleryId);r.then(function(e){t.setLicenseAlert(e)},function(t){e(t)})},e.prototype.isConnectedUserStakeholder=function(e,t,r){var o=T.getCollectionUrl(this._serverBaseUrl,e),n=new a.TestHttpClient3(o),i=Q.defer(),s=n.getTestSessions({project:t,team:r,projectId:null,teamId:null},1,!1,!0,p.TestSessionSource.XTWeb,!0);return s.then(function(e){i.resolve(!1)},function(e){var t=!1;e&&e.serverError&&e.serverError.typeKey===I.ExceptionConstants.unAuthorized&&(t=!0),i.resolve(t)}),i.promise},e.prototype.getTeamSettings=function(e,t,r,o,n){var a=this,s="getTeamSettings",c=T.getCollectionUrl(this._serverBaseUrl,e),p=new i.WorkHttpClient2(c),l={project:t,team:r,projectId:null,teamId:null},d=p.getTeamSettings(l);u.TracingService.traceEnter(s,_,13,"Start: Fetch current Team settings for Team:"+r+"in project :"+t+"in collection: "+e),d.then(function(n){if(o){u.TracingService.traceLeave(s,_,14,"End: Fetch current Team settings for Team:"+r+"in project :"+t+"in collection: "+e);var i=null;n&&(i={bugsBehavior:a.getBugsBehavior(n.bugsBehavior)}),o(i)}},function(o){o&&(u.TracingService.traceError(_,15,"Fetch current Team settings failed with error "+o+"for Team:"+r+"in project :"+t+"in collection: "+e),n(o))})},e.prototype.getTeamCurrentIterationPath=function(e,t,r,o,n){var a="getTeamCurrentIteration",s=T.getCollectionUrl(this._serverBaseUrl,e),c=new i.WorkHttpClient2(s),p={project:t,team:r,projectId:null,teamId:null},l=c.getTeamIterations(p,"current");u.TracingService.traceEnter(a,_,13,"Start: Fetch current Iteration Path for Team:"+r+"in project :"+t+"in collection: "+e),l.then(function(n){if(o){u.TracingService.traceLeave(a,_,14,"End: Fetch current Iteration for Team:"+r+"in project :"+t+"in collection: "+e);var i;n&&n.length>0&&(i=n[0].path),o(i)}},function(o){o&&(u.TracingService.traceError(_,15,"Fetch current Iteration failed with error "+o+"for Team:"+r+"in project :"+t+"in collection: "+e),n(o))})},e.prototype.getBugsBehavior=function(e){var t=r.BugsBehavior.Off;return e===c.BugsBehavior.AsRequirements?t=r.BugsBehavior.AsRequirements:e===c.BugsBehavior.AsTasks&&(t=r.BugsBehavior.AsTasks),t},e.prototype.setLicenseAlert=function(e){if(e){var t=new Date,o=new Array,n=l.LocalStorageService.retrieve(l.alertInformationKey);if(e.isTrialOrPreview)if(t>e.trialExpiryDate){var i=n&&n.length>0&&n.filter(function(e){return e.type===r.AlertType.TrialModeExpired}).length>0;i||(this.clearAlerts(),o.push({type:r.AlertType.TrialModeExpired,createdDate:t,isSeen:!1,canDismiss:!1}),this.updateAndBroadcastAlert(o))}else{var a=e.trialExpiryDate.getTime()-t.getTime(),s=Math.ceil(a/this._millisecondsInOneDay),c=s>1?s.toString()+" days":s.toString()+" day",p=n&&n.length>0&&n.filter(function(e){return e.type===r.AlertType.TrialModeOn}).length>0;p?(n.map(function(e){e.type===r.AlertType.TrialModeOn&&e.description!==c&&(e.description=c,7>=s&&s%2!==0&&(e.isSeen=!1))}),this.updateAndBroadcastAlert(n)):(this.clearAlerts(),o.push({type:r.AlertType.TrialModeOn,description:c,createdDate:t,isSeen:!1,canDismiss:!0}),this.updateAndBroadcastAlert(o))}else{var u=n&&n.length>0&&n.filter(function(e){return e.type===r.AlertType.ConnectedModeAvailable}).length>0;u||(this.clearAlerts(),o.push({type:r.AlertType.ConnectedModeAvailable,createdDate:new Date,isSeen:!1,canDismiss:!1}),this.updateAndBroadcastAlert(o))}}},e.prototype.updateAndBroadcastAlert=function(e){l.LocalStorageService.store(l.alertInformationKey,e),e&&e.length>0&&e.filter(function(e){return e.isSeen===!1}).length>0&&S.MessagingFactory.getBroadcastingService().broadcast(v.NotificationType.ShowNotification,{})},e.prototype.clearAlerts=function(){l.LocalStorageService.store(l.alertInformationKey,null)},e}();t.TfsConnectionRESTStore=x;var j=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.getProjectCollections=function(e,t){var r="getProjectCollectionsViaMVCStore",o=new W(this._serverBaseUrl);o.getProjectCollectionsData(function(t){if(e){u.TracingService.traceLeave(r,_,2,"End: Fetch Collections");var o=$.map(t,function(e){return{name:e.name,id:e.id}});e(o)}},function(e){t&&(u.TracingService.traceError(_,3,"Fetch Collection failed with error "+e),t(e))})},t}(x);t.TfsConnectionOnPremStore=j;var q=function(){function e(e){this._serverBaseUrl=e}return e.prototype.checkValidServerConnection=function(e,t){var r=this.checkValidServerConnectionOptions();ce.sendRequest(r,function(t){e&&e()},function(e){t&&t(e)})},e.prototype.checkValidServerConnectionOptions=function(){var e={type:"POST",url:this._serverBaseUrl+"TeamFoundation/Administration/v3.0/LocationService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,processData:!1,data:this.checkValidServerConnectionData()};return e},e.prototype.checkValidServerConnectionData=function(){var e='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <Connect xmlns="http://microsoft.com/webservices/"> <connectOptions>1</connectOptions> <lastChangeId>1</lastChangeId> <features>1</features> </Connect> </soap:Body> </soap:Envelope>';return e},e}();t.TfsConnectionSoapStore=q;var W=function(){function e(e){this._serverBaseUrl=e}return e.prototype.getTeams=function(e,t,r,o){var n={type:"GET",url:this._serverBaseUrl+"_api/_common/GetProjectJumpList?__v=3&navigationContextPackage={%22Action%22:%22index%22,%22Controller%22:%22home%22}&projectUri="+t+"&collectionId="+e,contentType:"application/json"};ce.sendRequest(n,function(e){if(r){var t=$.map(e.__wrappedArray,function(e){return e.name});r(t)}},function(e){o&&o(e)})},e.prototype.getProjectCollectionData=function(e,t,r){var o=this,n={type:"GET",url:this._serverBaseUrl+"_api/_common/GetCollectionJumpList?__v=5&navigationContextPackage=%7B%22Action%22%3A%22index%22%2C%22Area%22%3A%22%22%2C%22Level%22%3A16%2C%22Controller%22%3A%22dashboards%22%7D&selectedHostId="+e+"&populateAllTeams=true",
contentType:"application/json"};ce.sendRequest(n,function(e){var r=$.map(e.__wrappedArray,function(e){var t=e.name,r=e.collectionId,n=$.map(e.projects,function(e){var t=(e.name,o.getProjectId(e.projectUri)),r=$.map(e.teams,function(e){var t=e.name,r=e.tfid;return{name:t,id:r}});return{name:e.name,id:t,children:r}});return{name:t,id:r,children:n}});t(r)},function(e){r&&r(e)})},e.prototype.getProjectId=function(e){return e?e.split("/").pop():null},e.prototype.getProjectCollectionsData=function(e,t){var r={type:"GET",url:this._serverBaseUrl+"_api/_common/GetJumpList?__v=3&navigationContextPackage={%22Action%22:%22index%22,%22Controller%22:%22home%22}&showStoppedCollections=false",contentType:"application/json"};ce.sendRequest(r,function(t){var r=$.map(t.__wrappedArray,function(e){var t=e.name,r=e.collectionId,o=$.map(e.projects,function(e){return{name:e.name,projectUri:e.projectUri}});return{name:t,id:r,projects:o}});e(r)},function(e){t&&t(e)})},e}(),N=(function(){function e(){}return e}(),function(){function e(){}return e}(),function(){function e(e,t){this._tfsContext=new E(e,t),this._tfsRunAttachmentStore=new B(e,t)}return e.prototype.createRunAttachmentContainer=function(e,t,r,o){this._tfsRunAttachmentStore.createRunAttachmentContainer(e,t,r,o)},e.prototype.uploadAttachment=function(e,t,r,o){this._tfsRunAttachmentStore.uploadAttachment(e,t,r,o)},e.prototype.uploadAttachmentAsync=function(e,t){var r=this,o=Q.defer();return this._createAttachmentRequestData(t).then(function(n){var i={type:"POST",url:r.constructUrl(e),contentType:"application/json",dataType:"json",data:n};ce.sendRequest(i,function(e){t.id=e.id,t.webUrl=e.url,o.resolve(t)},o.reject)}),o.promise},e.prototype.constructUrl=function(e){return h.stringFormat("{0}{1}/_apis/test/runs/{2}/results/{3}/attachments?api-version=2.0-preview&iterationId={4}&actionPath={5}",this._tfsContext.serverUrl,this._tfsContext.teamProject,e.runId,e.resultId,e.iterationId,e.actionPath)},e.prototype._createAttachmentRequestData=function(e){var t=Q.defer();return e.getContent(function(r){var o=new FileReader;o.onload=function(r){var n=o.result,i={stream:btoa(n),fileName:e.name,attachmentType:"GeneralAttachment"};t.resolve(JSON.stringify(i))},o.readAsBinaryString(r)}),t.promise},e}());t.TfsRunStore=N;var B=function(){function e(e,t){this._tfsContext=new E(e,t),this._tfsStoreHelper=new ie(this._tfsContext)}return e.prototype.createRunAttachmentContainer=function(e,t,r,o){var n=this,i=this._tfsStoreHelper.getCreateRunAttachmentContainerOptions(e,t);ce.sendRequest(i,function(e){var o=n._tfsStoreHelper.parseAndGenerateCreateSessionAttachmentResponse(e);t.id=o.attachmentId,t.webUrl=n._tfsStoreHelper.getAttachmentUrl(t.id),r(t)},o)},e.prototype.uploadAttachment=function(e,t,r,o){this.sendUploadAttachmentRequest(e,t,function(e){r&&r(t)},o)},e.prototype.sendUploadAttachmentRequest=function(e,t,r,o){this._tfsStoreHelper.createUploadAttachmentOptions(e,t,function(e){ce.sendRequest(e,r,o,function(e,t){return!0})})},e}();t.TfsRunAttachmentSOAPStore=B;var U=function(){function e(e,t){this._tfsContext=new E(e,t),this._tfsStoreHelper=new ae(this._tfsContext)}return e.prototype.createSessionAttachmentContainer=function(e,t,r,o){var n=this,i=this._tfsStoreHelper.getCreateSessionAttachmentContainerOptions(e.id,t);ce.sendRequest(i,function(e){var o=n._tfsStoreHelper.parseAndGenerateCreateSessionAttachmentResponse(e);t.id=o.attachmentId,t.webUrl=n._tfsStoreHelper.getAttachmentUrl(t.id),r(t)},o)},e.prototype.uploadAttachment=function(e,t,r,o){this.sendUploadAttachmentRequest(e,t,function(e){r&&r(t)},o)},e.prototype.sendUploadAttachmentRequest=function(e,t,r,o){this._tfsStoreHelper.createUploadAttachmentOptions(e,t,function(e){ce.sendRequest(e,r,o,function(e,t){return!0})})},e}();t.TfsSessionAttachmentSOAPStore=U;var O=function(){function e(e,t,r){this._getSessionsDuration=60,this._tfsContext=new E(e,t),this._tfsStoreHelper=new ne(this._tfsContext),this._teamContext={project:t,team:r,projectId:null,teamId:null}}return e.prototype.createSession=function(e,t,r){var o=new a.TestHttpClient3(this._tfsContext.serverUrl),n=this._tfsStoreHelper.convertToTestSessionOM(e);return o.createTestSession(n,this._teamContext)},e.prototype.getUserFeedbackSessions=function(){var e=new a.TestHttpClient3(this._tfsContext.serverUrl);return e.getTestSessions(this._teamContext,this._getSessionsDuration,!1,!0,p.TestSessionSource.FeedbackWeb,!1)},e.prototype.associateWorkItemWithSession=function(e,t,o,n){var i=new a.TestHttpClient3(this._tfsContext.serverUrl),s=this._tfsStoreHelper.convertToTestSessionOM(e);s.id=parseInt(e.id),s.propertyBag={bag:{}},s.propertyBag.bag[r.SessionKeys.filedWorkItemKey]=JSON.stringify([{Id:t.id,Type:t.type}]);var c=i.updateTestSession(s,this._teamContext);c.then(function(e){o&&o(e)},function(e){n(e)})},e.prototype.associateLinkedWorkItemWithSession=function(e,t,r,o){var n=new a.TestHttpClient3(this._tfsContext.serverUrl),i=this._tfsStoreHelper.convertToTestSessionOM(e);i.id=parseInt(e.id),this.linkWorkItemwWithTestSession(i,t);var s=n.updateTestSession(i,this._teamContext);s.then(function(e){r&&r(e)},function(e){o(e)})},e.prototype.updateSessionState=function(e,t,o,n){var i=new a.TestHttpClient3(this._tfsContext.serverUrl),s=this._tfsStoreHelper.convertToTestSessionOM(e);s.id=parseInt(e.id),s.state=this._tfsStoreHelper.getServerSessionState(t);var c=l.LocalStorageService.retrieve(l.traceabilityEnabledKey);if(c){var p=l.LocalStorageService.retrieve(l.linkedWorkItemKey);if(p){var u={title:p.fields[r.WorkItemField.title],id:p.fields[r.WorkItemField.id],type:p.fields[r.WorkItemField.workItemType],timeStamp:p[r.WorkItemField.startTime],endTime:new Date};this.linkWorkItemwWithTestSession(s,u)}}var d=i.updateTestSession(s,this._teamContext);d.then(function(r){o&&(e.state=t,e.revision=r.revision,o(e))},function(e){n(e)})},e.prototype.getConnectedUserDetails=function(){return this._tfsContext.getConnectedUserDetails()},e.prototype.linkWorkItemwWithTestSession=function(e,t){e.propertyBag={bag:{}},e.propertyBag.bag[r.SessionKeys.exploredWorkItemKey]=JSON.stringify([{Id:t.id,StartTime:t.timeStamp,EndTime:t.endTime}])},e}();t.TfsSessionRESTStore=O;var H=function(){function e(e,t){this._tfsContext=new E(e,t),this._tfsStoreHelper=new ae(this._tfsContext)}return e.prototype.createSession=function(e,t,r){var o=this;this._tfsContext.connectedUser?this.sendCreateSessionRequest(e,function(e){t&&t(e)},r):this.getConnectedUser(function(){o.sendCreateSessionRequest(e,function(e){t&&t(e)},r)},r)},e.prototype.getUserFeedbackSessions=function(){},e.prototype.associateWorkItemWithSession=function(e,t,r,o){var n=this;this._tfsContext.connectedUser?this.sendLinkWorkItemToSessionRequest(e,t,function(e){r&&r(e)},o):this.getConnectedUser(function(){n.sendLinkWorkItemToSessionRequest(e,t,function(e){r&&r(e)},o)},o)},e.prototype.associateLinkedWorkItemWithSession=function(e,t,r,o){r&&r()},e.prototype.updateSessionState=function(e,t,r,o){var n=this;this._tfsContext.connectedUser?this.sendSessionUpdateStateRequest(e,t,function(e){r&&r(e)},o):this.getConnectedUser(function(){n.sendSessionUpdateStateRequest(e,t,function(e){r&&r(e)},o)},o)},e.prototype.getConnectedUserDetails=function(){return this._tfsContext.getConnectedUserDetails()},e.prototype.getSessionDataFromServer=function(e,t,r){var o=this,n=this._tfsStoreHelper.getQuerySessionDetailOptions(e);ce.sendRequest(n,function(e){var r=o._tfsStoreHelper.parseAndGetSessionData(e);t&&t(r)},r)},e.prototype.sendSessionUpdateStateRequest=function(e,t,r,o){var n=this;this.getSessionDataFromServer(e.id,function(i){e.getNotes(function(a){var s=n._tfsStoreHelper.getUpdateSessionStateOptions(e,t,i.revision,a);ce.sendRequest(s,function(o){e.state=t,r(e)},o)})},o)},e.prototype.sendCreateSessionRequest=function(e,t,r){var o=this,n=this._tfsStoreHelper.createSessionOptions(e);ce.sendRequest(n,function(r){var n=o._tfsStoreHelper.parseAndGenerateCreateSessionResponse(r);e.id=n.sessionId,e.createdTime=new Date,t(e)},r)},e.prototype.sendLinkWorkItemToSessionRequest=function(e,t,r,o){var n=this._tfsStoreHelper.createWorkItemLinkingOptions(e,t);ce.sendRequest(n,r,o)},e.prototype.getConnectedUser=function(e,t){var r=this;if(!this._tfsContext.connectedUser){var o=this._tfsStoreHelper.getConnectedUserOptions();ce.sendRequest(o,function(t){r._tfsContext.connectedUser=r._tfsStoreHelper.parseAndGetAuthenticatedUser(t),e&&e()},t)}},e}();t.TfsSessionSOAPStore=H;var G=function(){function e(e,t,r){this._serverUrl=e,this._teamProject=t,this._teamName=r,this._tfsSessionAttachmentStore=new U(e,t);var o=l.LocalStorageService.retrieve(l.supportTfsSessionCompactKey);void 0!==o&&o?this._tfsSessionStore=this.getTfsSessionStoreObject(F.SOAP):(l.LocalStorageService.store(l.supportTfsSessionCompactKey,!1),this._tfsSessionStore=this.getTfsSessionStoreObject(F.REST));var n=l.LocalStorageService.retrieve(l.activeSettingsKey);this._tfsLicensingStore=new z(n.serverbaseUrl,t)}return e.prototype.createSession=function(e,t,r){var o=this;if(R.isFeatureEnabled(w.RestApiForSession)){l.LocalStorageService.store(l.supportTfsSessionCompactKey,!1),this._tfsSessionStore=this.getTfsSessionStoreObject(F.REST);var n=this._tfsSessionStore.createSession(e,t,r);n.then(function(r){t&&(e.id=r.id,e.createdTime=new Date,e.revision=r.revision,e.source=r.source,t(e))},function(n){o.restApiForSessionSupported(n.message)?r(n):(l.LocalStorageService.store(l.supportTfsSessionCompactKey,!0),o._tfsSessionStore=o.getTfsSessionStoreObject(F.SOAP),o._tfsSessionStore.createSession(e,t,r))})}else l.LocalStorageService.store(l.supportTfsSessionCompactKey,!0),this._tfsSessionStore=this.getTfsSessionStoreObject(F.SOAP),this._tfsSessionStore.createSession(e,t,r)},e.prototype.updateSessionState=function(e,t,r,o){this._tfsSessionStore.updateSessionState(e,t,r,o)},e.prototype.associateWorkItemWithSession=function(e,t,r,o){this._tfsSessionStore.associateWorkItemWithSession(e,t,r,o)},e.prototype.associateLinkedWorkItemWithSession=function(e,t,r,o){this._tfsSessionStore.associateLinkedWorkItemWithSession(e,t,r,o)},e.prototype.createSessionAttachmentContainer=function(e,t,r,o){this._tfsSessionAttachmentStore.createSessionAttachmentContainer(e,t,r,o)},e.prototype.getConnectedUserDetails=function(){return this._tfsSessionStore.getConnectedUserDetails()},e.prototype.getUserFeedbackSession=function(e,t){return this._tfsSessionStore.getUserFeedbackSessions().then(function(t){var r=[];t&&t.length>0&&t.forEach(function(e){var t=ne.convertFromTestSessionOM(e);t&&r.push(t)}),e(r)},function(e){t(e)})},e.prototype.uploadAttachment=function(e,t,r,o){this._tfsSessionAttachmentStore.uploadAttachment(e,t,r,o)},e.prototype.getTfsSessionStoreObject=function(e){if(l.LocalStorageService.retrieve(l.useSoapApiForUpgradeKey))return new H(this._serverUrl,this._teamProject);switch(e){case F.REST:return new O(this._serverUrl,this._teamProject,this._teamName);case F.SOAP:return new H(this._serverUrl,this._teamProject)}},e.prototype.restApiForSessionSupported=function(e){return 0===e.indexOf(P)||0===e.indexOf(D)?!1:!0},e}();t.TfsSessionStore=G;var z=function(){function e(e,t){this._tfsContext=new E(e,t)}return e.prototype.getAccountLicenseDataOfUser=function(e){var t=Q.defer();if(R.isFeatureEnabled(d.FeatureFlag.XTTrialMode)&&T.isHostedUrl(this._tfsContext.serverUrl)){var r=new s.CommerceHttpClient3(this._tfsContext.getSharedPlatformServicesUrl()),o=r.getOfferSubscription(e);o.then(function(e){t.resolve(e)},function(e){t.reject(e)})}else t.resolve(null);return t.promise},e}();t.TfsLicensingStore=z;var K=function(){function e(e,t){this._tfsContext=new E(e,t)}return e.prototype.getWorkItemTypeCategories=function(){var e=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl);return e.getWorkItemTypeCategories(this._tfsContext.teamProject)},e.prototype.getWorkItemColors=function(){var e=Q.defer(),t={type:"GET",url:h.stringFormat("{0}{1}/_api/_wit/WorkItemColorData?__v=5",this._tfsContext.serverUrl,this._tfsContext.teamProject),contentType:"application/json"};return ce.sendRequest(t,function(t){var r=[];t.__wrappedArray.forEach(function(e){r.push({workItemType:e.WorkItemTypeName,color:e.PrimaryColor})}),e.resolve(r)},e.reject),e.promise},e.prototype.createTestCase=function(e,t){var n=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),i=new te,a=i.createWorkItemData(e,t,this._tfsContext.serverUrl);return n.updateWorkItemTemplate(a,this._tfsContext.teamProject,k.getDefaultWorkItemType(r.WorkItemCategories.TestCaseCategory),!1,!1)},e.prototype.createFeedbackResponse=function(e,t){var r=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),n=new ee,i=n.createWorkItemData(e,t,this._tfsContext.serverUrl);return r.updateWorkItemTemplate(i,this._tfsContext.teamProject,e.type,!1,!1)},e.prototype.createWorkItem=function(e,t,r,n){var i=this,a=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),s=l.LocalStorageService.retrieve(l.bugWorkItemTypeCache+this._tfsContext.teamProject);if(s)this.getWorkItem(a,e,t,r,n,!this.workItemTypeContainsReproSteps(s));else{var c=a.getWorkItemType(this._tfsContext.teamProject,e.type);c.then(function(o){l.LocalStorageService.store(l.bugWorkItemTypeCache+i._tfsContext.teamProject,o),i.getWorkItem(a,e,t,r,n,!i.workItemTypeContainsReproSteps(o))},function(o){i.getWorkItem(a,e,t,r,n)})}},e.prototype.getWorkItem=function(e,t,r,o,n,i){var a=J.getWorkItemDataHelper(t.type).createWorkItemData(t,r,this._tfsContext.serverUrl,i);e.updateWorkItemTemplate(a,this._tfsContext.teamProject,t.type,!1,!1).then(function(e){o&&(t.id=e.id.toString(),o(t))},function(e){n&&n(e)})},e.prototype.workItemTypeContainsReproSteps=function(e){var t=!0;return e.fields&&(t=!1,e.fields.forEach(function(e){"Microsoft.VSTS.TCM.ReproSteps"===e.referenceName&&(t=!0)})),t},e.prototype.updateWorkItem=function(e,t){var r=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),n=J.getWorkItemDataHelper(e.type).createWorkItemData(e,t,this._tfsContext.serverUrl);return r.updateWorkItem(n,parseInt(e.id),!1,!1)},e.prototype.uploadAttachment=function(e,t){var r,n=this,i=Q.defer(),a=(new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),new XMLHttpRequest);return a.open("GET",e,!0),a.responseType="blob",a.onload=function(){r=a.response;var e=new FileReader;e.onloadend=function(e){ce.sendRequest({url:n._tfsContext.serverUrl+"/_apis/wit/attachments?filename="+t+"&api-version=1.0",data:e.target.result,processData:!1,contentType:"application/json",type:"POST"},function(e){var t={url:e.url,id:e.id};i.resolve(t)},function(e){u.TracingService.traceError(_,100,"Attachment upload failed with error : "+m.ErrorHelper.getErrorMessage(e,!1))})},e.readAsArrayBuffer(r)},a.send(),i.promise},e.prototype.queryWorkItemsByTitle=function(e,t){var r=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),n=re.createWiqlQueryForTitle(e,t);if(null===n){var i=Q.defer();return i.reject({message:"The provided query pattern is too generic. Please refine your search"}),i.promise}return r.queryByWiql(n,this._tfsContext.teamProject)},e.prototype.queryWorkItemsByDescription=function(e,t){var r=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl),n=re.createWiqlQueryForDescription(e,t);if(null===n){var i=Q.defer();return i.reject({message:"The provided query pattern is too generic. Please refine your search"}),i.promise}return r.queryByWiql(n,this._tfsContext.teamProject)},e.prototype.queryWorkItemsByIds=function(e,t){var r=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl);return r.getWorkItems(t,e,new Date)},e.prototype.getWorkItemLinks=function(e){var t=new o.WorkItemTrackingHttpClient2(this._tfsContext.serverUrl);return t.getWorkItem(e,null,null,g.WorkItemExpand.Relations)},e}(),J=function(){function e(){}return e.getWorkItemDataHelper=function(e){return k.getCategory(e)===r.WorkItemCategories.TaskCategory?new Z:new Y},e}();t.WorkItemDataHelperFactory=J;var X=function(){function e(){this.data=[]}return e.prototype.getScriptForInjection=function(e,t){return null},e.prototype.createWorkItemData=function(e,t,r,o){var n=this;this.data.push(this.createTitleData(e.title)),this.isWorkItemLinkedToCurrentSession(e)||this.data.push(this.createSessionLinkData(t)),e.areaPath&&this.data.push(this.createAreaData(e.areaPath)),e.iterationPath&&this.data.push(this.createIterationData(e.iterationPath));var i=l.LocalStorageService.retrieve(l.linkedWorkItemKey);if(i){var a=this.createTraceabilityLinks(i,r);a&&a.forEach(function(e){n.data.push(e)})}return e.attachmentIds&&e.attachmentIds.length>0&&(this.data=this.createAttachmentLinkData(this.data,e.attachmentIds)),this.data},e.prototype.createTitleData=function(e){var t={};return t.op="add",t.path="/fields/System.Title",t.value=e,t},e.prototype.createAreaData=function(e){var t={};return t.op="add",t.path="/fields/System.AreaPath",t.value=e,t},e.prototype.createIterationData=function(e){var t={};return t.op="add",t.path="/fields/System.IterationPath",t.value=e,t},e.prototype.createTraceabilityLinks=function(e,t){var o=[],n=e.fields[M.workItemType],i=e.fields[M.id];return k.getCategory(n)===r.WorkItemCategories.TestCaseCategory?o.push(this.createLinkData(t,r.WorkItemRelations.testedByForward,i)):o.push(this.createLinkData(t,r.WorkItemRelations.relatedLink,i)),o},e.prototype.createSessionLinkData=function(e){var t={};t.op="add",t.path="/relations/-";var r={};return r.rel="ArtifactLink",r.url="vstfs:///TestManagement/TcmResult/"+e,r.attributes={name:"Test Result"},t.value=r,t},e.prototype.createAttachmentLinkData=function(e,t){var r=this.removeDuplicateAttachments(e,t);for(var o in r){var n={};n.op="add",n.path="/relations/-";var i={};i.rel="ArtifactLink",i.url="vstfs:///TestManagement/TcmResultAttachment/0.0."+r[o],i.attributes={name:"Result Attachment"},n.value=i,e.push(n)}return e},e.prototype.createLinkData=function(e,t,r){var o={};o.op="add",o.path="/relations/-";var n={};return n.rel=t,n.url=e+"_apis/wit/workItems/"+r,o.value=n,o},e.prototype.serializeFieldValue=function(e){var t=JSON.stringify("");return e&&(t=JSON.stringify(JSON.stringify(e))),t},e.prototype.getFeedbackParentIdFromParentLink=function(){return C.WorkItemServiceHelper.getWorkItemIdFromUrl(this.getFeedbackParentLink())},e.prototype.getFeedbackParentLink=function(){var e=null,t=l.LocalStorageService.retrieve(l.connectedModeKey);if(t===I.ConnectionOptionConstants.stakeholderMode){var r=l.LocalStorageService.retrieve(l.selectedFeedbackRequestKey);r&&r.parentLinkUrl&&""!==r.parentLinkUrl&&(e=r.parentLinkUrl)}return e},e.prototype.addTraceabilityLinksForFeedbackRequest=function(e,t,r,o,n){var i=r.fields[M.id];e.push(this.createLinkData(t,o,i));var a=this.getFeedbackParentLink();a&&e.push(this.createLinkDataFromWorkItemUrl(a,n))},e.prototype.createLinkDataFromWorkItemUrl=function(e,t){var r={};r.op="add",r.path="/relations/-";var o={};return o.rel=t,o.url=e,r.value=o,r},e.prototype.removeDuplicateAttachments=function(e,t){var r=l.LocalStorageService.retrieve(l.selectedBugKey),o=[];if(r&&r.Relations){var n=r.Relations;for(var i in t){var a="vstfs:///TestManagement/TcmResultAttachment/0.0."+t[i],s=n.map(function(e){return e.url}).indexOf(a);0>s&&o.push(t[i])}}else o=t;return o},e.prototype.isWorkItemLinkedToCurrentSession=function(e){var t=(l.LocalStorageService.retrieve(l.activeSettingsKey),l.LocalStorageService.retrieve(l.activeSessionKey));return t.workItems&&0===t.workItems.length?!1:t.workItems&&t.workItems.filter(function(t){return t.id===e.id}).length>0?!0:!1},e.prototype.addWitAttachments=function(e,t){if(e)for(var r=0;r<e.length;r++){var o={};o.op="add",o.path="/relations/-";var n={};n.rel="AttachedFile",n.url=e[r].url,n.attributes={comment:""},o.value=n,t.push(o)}},e}();t.WorkItemDataHelper=X;var Y=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getScriptForInjection=function(e,t){var o,n,i,a,s;o=this.serializeFieldValue(e.areaPath),n=this.serializeFieldValue(e.iterationPath),i=this.serializeFieldValue(e.description),a=this.serializeFieldValue(e.title),s=this.serializeFieldValue(e.systemInfo);var c,p,u,d=l.LocalStorageService.retrieve(l.linkedWorkItemKey),f=0;if(d){p=d.fields[M.id];var m=d.fields[M.workItemType];k.getCategory(m)===r.WorkItemCategories.TestCaseCategory?c=this.serializeFieldValue(r.WorkItemRelations.testedByForward):k.getCategory(m)===r.WorkItemCategories.FeedbackRequestCategory?(c=this.serializeFieldValue(r.WorkItemRelations.relatedLink),u=this._getLinkTypeForTracebility(d),f=this.getFeedbackParentIdFromParentLink()):c=this.serializeFieldValue(r.WorkItemRelations.relatedLinkForward)}var g=this.serializeFieldValue(e.actionLogAttachments),y="("+function(e,t,r,o,n,i,a,s,c,p,u,l){var d=document.createElement("script");d.type="text/javascript";var f="",m="",g="";t&&(f="workItem.setFieldValue('System.AreaPath',"+t+"); "),r&&(m="workItem.setFieldValue('System.IterationPath',"+r+"); "),a&&(g="workItem.setFieldValue('Microsoft.VSTS.TCM.SystemInfo',"+a+"); "),d.text="var TFS_Host_TfsContext = require('Presentation/Scripts/TFS/TFS.Host.TfsContext'); var WITOM = require('WorkItemTracking/Scripts/TFS.WorkItemTracking');  var TFS_OM_Common = require('Presentation/Scripts/TFS/TFS.OM.Common'); options = { save: (workItem) => { window.postMessage({ type: 'xtPage-547BB7B6-7345-41C8-8CCB-A09999B89924', id: JSON.stringify(workItem.id), workItemtype: JSON.stringify('Bug'), title: JSON.stringify(workItem.getFieldValue('System.Title')) }, '*'); }, close: (workItem) => { window.close(); }, showFullScreenMenu: true }; var witStore = TFS_OM_Common.ProjectCollection.getDefaultConnection().getService(WITOM.WorkItemStore); var TfsContext = TFS_Host_TfsContext.TfsContext.getDefault(); witStore.beginGetProjects(function () {var project = witStore.getProject(TfsContext.navigation.project); if(project.nodesCacheManager) {project.nodesCacheManager.beginGetNodes().then(function(nodes) {});}project.beginGetWorkItemType('bug', function (wit) {var workItemManager = witStore.workItemManager;if(!workItemManager) { var WorkItemManager = require('WorkItemTracking/Scripts/OM/WorkItemManager'); workItemManager = WorkItemManager.WorkItemManager.get(witStore);}var workItem = workItemManager.createWorkItem(wit);workItem.setFieldValue('System.Title',"+e+"); "+f+m+"workItem.setFieldValue('Microsoft.VSTS.TCM.ReproSteps', "+o+"); "+g+"var actionLogAttachmentString = '"+p+"';if (actionLogAttachmentString) {var actionLogAttachments = JSON.parse(actionLogAttachmentString);for (var i = 0; i < actionLogAttachments.length; i++) {var attachmentLink = WITOM.Attachment.create(workItem, actionLogAttachments[i].name, actionLogAttachments[i].id, '', actionLogAttachments[i].size);workItem.addLink(attachmentLink);}}var attachmentString = '"+i+"';var attachmentList = attachmentString.split('?'); for (var i = 0; i < attachmentList.length; i++) {if(!isNaN(parseInt(attachmentList[i]))) {var attachmentLink = WITOM.ExternalLink.create(workItem,'Result Attachment','vstfs:///TestManagement/TcmResultAttachment/0.0.' + attachmentList[i]);workItem.addLink(attachmentLink); } }var sessionLink = WITOM.ExternalLink.create(workItem,'Test Result','vstfs:///TestManagement/TcmResult/' + "+n+" );workItem.addLink(sessionLink); if("+s+" && "+c+") {witStore.beginGetLinkTypes(function () {var workItemLink = WITOM.WorkItemLink.create(workItem,"+s+","+c+");workItem.addLink(workItemLink); }); }if("+u+"> 0) {witStore.beginGetLinkTypes(function () {var workItemLink = WITOM.WorkItemLink.create(workItem,"+l+","+u+");workItem.addLink(workItemLink); }); }require(['WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls'],function(WITControls){ var workItemFormDialog = !!WITControls.WorkItemForm ? WITControls.WorkItemForm : WITControls.WorkItemFormDialog; workItemFormDialog.showWorkItem(workItem,options);});     });});";var y=document.getElementsByTagName("head")[0];y.appendChild(d)}+")("+a+","+o+","+n+","+i+","+t+',"'+e.attachmentIds.join("?")+'",'+s+","+c+","+p+","+g+","+f+","+u+");";return y},t.prototype.createWorkItemData=function(t,r,o,n){return e.prototype.createWorkItemData.call(this,t,r,o),this.data.push(this.createBugReproStepsData(t.description,n)),t.systemInfo&&this.data.push(this.createBugSystemInfo(t.systemInfo)),this.addWitAttachments(t.actionLogAttachments,this.data),this.data},t.prototype.createBugSystemInfo=function(e){var t={};return t.op="add",t.path="/fields/Microsoft.VSTS.TCM.SystemInfo",t.value=e,t},t.prototype.createBugReproStepsData=function(e,t){var r={};return r.op="add",t?r.path="/fields/System.Description":r.path="/fields/Microsoft.VSTS.TCM.ReproSteps",r.value=e,r},t.prototype.createTraceabilityLinks=function(e,t){var o=[],n=e.fields[M.workItemType],i=e.fields[M.id];if(k.getCategory(n)===r.WorkItemCategories.TestCaseCategory)o.push(this.createLinkData(t,r.WorkItemRelations.testedByForward,i));else if(k.getCategory(n)===r.WorkItemCategories.RequirementCategory)o.push(this._createLinkdataForRequirement(e,t));else if(k.getCategory(n)===r.WorkItemCategories.FeedbackRequestCategory){var a=this._getLinkTypeForTracebility(e);this.addTraceabilityLinksForFeedbackRequest(o,t,e,r.WorkItemRelations.relatedLink,a)}else o.push(this.createLinkData(t,r.WorkItemRelations.relatedLink,i));return o},t.prototype._createLinkdataForRequirement=function(e,t){var r=e.fields[M.id],o=this._getLinkTypeForTracebility(e);return this.createLinkData(t,o,r)},t.prototype._getLinkTypeForTracebility=function(e){var t=r.WorkItemRelations.relatedLink,o=l.LocalStorageService.retrieve(l.selectedBugKey),n=l.LocalStorageService.retrieve(l.teamSettingsKey);if(n&&n.bugsBehavior===r.BugsBehavior.AsRequirements)t=r.WorkItemRelations.relatedLink;else if(o){var i=o.Relations,a=!1;if(i&&i.length>0){var s,c=i.length;for(s=0;c>s;s++)if(i[s].rel==r.WorkItemRelations.parentLink){a=!0;break}}t=a?r.WorkItemRelations.relatedLink:r.WorkItemRelations.parentLink}else t=r.WorkItemRelations.parentLink;return t},t}(X);t.BugDataHelper=Y;var Z=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getScriptForInjection=function(e,t){var o,n,i,a;o=this.serializeFieldValue(e.areaPath),n=this.serializeFieldValue(e.iterationPath),i=this.serializeFieldValue(e.description),a=this.serializeFieldValue(e.title);var s,c,p=0,u=l.LocalStorageService.retrieve(l.linkedWorkItemKey);if(u){c=u.fields[M.id];var d=u.fields[M.workItemType];k.getCategory(d)===r.WorkItemCategories.TestCaseCategory?s=this.serializeFieldValue(r.WorkItemRelations.testedByForward):k.getCategory(d)===r.WorkItemCategories.RequirementCategory?s=this.serializeFieldValue(r.WorkItemRelations.parentLink):k.getCategory(d)===r.WorkItemCategories.FeedbackRequestCategory?(s=this.serializeFieldValue(r.WorkItemRelations.relatedLink),p=this.getFeedbackParentIdFromParentLink()):s=this.serializeFieldValue(r.WorkItemRelations.relatedLinkForward)}var f=this.serializeFieldValue(e.actionLogAttachments),m="("+function(e,t,r,o,n,i,a,s,c,p){var u=document.createElement("script");u.type="text/javascript";var l="",d="";t&&(l="workItem.setFieldValue('System.AreaPath',"+t+"); "),r&&(d="workItem.setFieldValue('System.IterationPath',"+r+"); "),u.text="var TFS_Host_TfsContext = require('Presentation/Scripts/TFS/TFS.Host.TfsContext'); var WITOM = require('WorkItemTracking/Scripts/TFS.WorkItemTracking');  var TFS_OM_Common = require('Presentation/Scripts/TFS/TFS.OM.Common'); options = { save: (workItem) => { window.postMessage({ type: 'xtPage-547BB7B6-7345-41C8-8CCB-A09999B89924', id: JSON.stringify(workItem.id), workItemtype: JSON.stringify('Task'),  title: JSON.stringify(workItem.getFieldValue('System.Title')) }, '*'); }, close: (workItem) => { window.close(); }, showFullScreenMenu: true }; var witStore = TFS_OM_Common.ProjectCollection.getDefaultConnection().getService(WITOM.WorkItemStore); var TfsContext = TFS_Host_TfsContext.TfsContext.getDefault(); witStore.beginGetProjects(function () {var project = witStore.getProject(TfsContext.navigation.project); if(project.nodesCacheManager) {project.nodesCacheManager.beginGetNodes().then(function(nodes) {});}project.beginGetWorkItemType('task', function (wit) {var workItemManager = witStore.workItemManager;if(!workItemManager) { var WorkItemManager = require('WorkItemTracking/Scripts/OM/WorkItemManager'); workItemManager = WorkItemManager.WorkItemManager.get(witStore);}var workItem = workItemManager.createWorkItem(wit);workItem.setFieldValue('System.Title',"+e+"); "+l+d+"workItem.setFieldValue('System.Description', "+o+"); var actionLogAttachmentString = '"+c+"';if (actionLogAttachmentString) {var actionLogAttachments = JSON.parse(actionLogAttachmentString);for (var i = 0; i < actionLogAttachments.length; i++) {var attachmentLink = WITOM.Attachment.create(workItem, actionLogAttachments[i].name, actionLogAttachments[i].id, '', actionLogAttachments[i].size);workItem.addLink(attachmentLink);}}var attachmentString = '"+i+"';var attachmentList = attachmentString.split('?'); for (var i = 0; i < attachmentList.length; i++) {if(!isNaN(parseInt(attachmentList[i]))) {var attachmentLink = WITOM.ExternalLink.create(workItem,'Result Attachment','vstfs:///TestManagement/TcmResultAttachment/0.0.' + attachmentList[i]);workItem.addLink(attachmentLink); } }var sessionLink = WITOM.ExternalLink.create(workItem,'Test Result','vstfs:///TestManagement/TcmResult/' + "+n+" );workItem.addLink(sessionLink); if("+a+" && "+s+") {witStore.beginGetLinkTypes(function () {var workItemLink = WITOM.WorkItemLink.create(workItem,"+a+","+s+");workItem.addLink(workItemLink); }); }if("+p+"> 0) {witStore.beginGetLinkTypes(function () {var workItemLink = WITOM.WorkItemLink.create(workItem, System.LinkTypes.Hierarchy-Reverse,"+p+");workItem.addLink(workItemLink); }); }require(['WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls'],function(WITControls){ var workItemFormDialog = !!WITControls.WorkItemForm ? WITControls.WorkItemForm : WITControls.WorkItemFormDialog; workItemFormDialog.showWorkItem(workItem,options);});     });});";var f=document.getElementsByTagName("head")[0];f.appendChild(u)}+")("+a+","+o+","+n+","+i+","+t+',"'+e.attachmentIds.join("?")+'",'+s+","+c+","+f+","+p+");";return m},t.prototype.createWorkItemData=function(t,r,o){return e.prototype.createWorkItemData.call(this,t,r,o),this.data.push(this.createDescription(t.description)),this.addWitAttachments(t.actionLogAttachments,this.data),this.data},t.prototype.createDescription=function(e){var t={};return t.op="add",t.path="/fields/System.Description",t.value=e,t},t.prototype.createTraceabilityLinks=function(e,t){var o=[],n=e.fields[M.workItemType],i=e.fields[M.id];return k.getCategory(n)===r.WorkItemCategories.TestCaseCategory?o.push(this.createLinkData(t,r.WorkItemRelations.testedByForward,i)):k.getCategory(n)===r.WorkItemCategories.RequirementCategory?o.push(this.createLinkData(t,r.WorkItemRelations.parentLink,i)):k.getCategory(n)===r.WorkItemCategories.FeedbackRequestCategory?this.addTraceabilityLinksForFeedbackRequest(o,t,e,r.WorkItemRelations.relatedLink,r.WorkItemRelations.parentLink):o.push(this.createLinkData(t,r.WorkItemRelations.relatedLink,i)),o},t}(X);t.TaskDataHelper=Z;var ee=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.getScriptForInjection=function(e,t){var o,n,i,a;o=this.serializeFieldValue(e.areaPath),n=this.serializeFieldValue(e.iterationPath),i=this.serializeFieldValue(e.description),a=this.serializeFieldValue(e.title);var s,c,p=0,u=l.LocalStorageService.retrieve(l.linkedWorkItemKey);if(u){c=u.fields[M.id];u.fields[M.workItemType];s=this.serializeFieldValue(r.WorkItemRelations.parentLink),p=this.getFeedbackParentIdFromParentLink()}var d=this.serializeFieldValue(e.actionLogAttachments),f="("+function(e,t,r,o,n,i,a,s,c,p){var u=document.createElement("script");u.type="text/javascript";var l="",d="";t&&(l="workItem.setFieldValue('System.AreaPath',"+t+"); "),r&&(d="workItem.setFieldValue('System.IterationPath',"+r+"); "),u.text="var TFS_Host_TfsContext = require('Presentation/Scripts/TFS/TFS.Host.TfsContext'); var WITOM = require('WorkItemTracking/Scripts/TFS.WorkItemTracking');  var TFS_OM_Common = require('Presentation/Scripts/TFS/TFS.OM.Common'); options = { save: (workItem) => { window.postMessage({ type: 'xtPage-547BB7B6-7345-41C8-8CCB-A09999B89924', id: JSON.stringify(workItem.id), workItemtype: JSON.stringify('Task'),  title: JSON.stringify(workItem.getFieldValue('System.Title')) }, '*'); }, close: (workItem) => { window.close(); }, showFullScreenMenu: true }; var witStore = TFS_OM_Common.ProjectCollection.getDefaultConnection().getService(WITOM.WorkItemStore); var TfsContext = TFS_Host_TfsContext.TfsContext.getDefault(); witStore.beginGetProjects(function () {var project = witStore.getProject(TfsContext.navigation.project); if(project.nodesCacheManager) {project.nodesCacheManager.beginGetNodes().then(function(nodes) {});}project.beginGetWorkItemType('task', function (wit) {var workItemManager = witStore.workItemManager;if(!workItemManager) { var WorkItemManager = require('WorkItemTracking/Scripts/OM/WorkItemManager'); workItemManager = WorkItemManager.WorkItemManager.get(witStore);}var workItem = workItemManager.createWorkItem(wit);workItem.setFieldValue('System.Title',"+e+"); "+l+d+"workItem.setFieldValue('System.Description', "+o+"); var actionLogAttachmentString = '"+c+"';if (actionLogAttachmentString) {var actionLogAttachments = JSON.parse(actionLogAttachmentString);for (var i = 0; i < actionLogAttachments.length; i++) {var attachmentLink = WITOM.Attachment.create(workItem, actionLogAttachments[i].name, actionLogAttachments[i].id, '', actionLogAttachments[i].size);workItem.addLink(attachmentLink);}}var attachmentString = '"+i+"';var attachmentList = attachmentString.split('?');for (var i = 0; i < attachmentList.length; i++) {if(!isNaN(parseInt(attachmentList[i]))) {var attachmentLink = WITOM.ExternalLink.create(workItem,'Result Attachment','vstfs:///TestManagement/TcmResultAttachment/0.0.' + attachmentList[i]);workItem.addLink(attachmentLink); } }var sessionLink = WITOM.ExternalLink.create(workItem,'Test Result','vstfs:///TestManagement/TcmResult/' + "+n+" );workItem.addLink(sessionLink); if("+a+" && "+s+") {witStore.beginGetLinkTypes(function () {var workItemLink = WITOM.WorkItemLink.create(workItem,"+a+","+s+");workItem.addLink(workItemLink); }); }if("+p+"> 0) {witStore.beginGetLinkTypes(function () {var workItemLink = WITOM.WorkItemLink.create(workItem,System.LinkTypes.Related,"+p+");workItem.addLink(workItemLink); }); }require(['WorkItemTracking/Scripts/TFS.WorkItemTracking.Controls'],function(WITControls){ var workItemFormDialog = !!WITControls.WorkItemForm ? WITControls.WorkItemForm : WITControls.WorkItemFormDialog; workItemFormDialog.showWorkItem(workItem,options);});     });});";
var f=document.getElementsByTagName("head")[0];f.appendChild(u)}+")("+a+","+o+","+n+","+i+","+t+',"'+e.attachmentIds.join("?")+'",'+s+","+c+","+d+","+p+");";return f},t.prototype.createWorkItemData=function(t,r,o){return e.prototype.createWorkItemData.call(this,t,r,o),this.data.push(this.createDescription(t.description)),this.data.push(this.createRating(t.rating)),t.systemInfo&&this.data.push(this.createSystemInfo(t.systemInfo)),this.addWitAttachments(t.actionLogAttachments,this.data),this.data},t.prototype.createDescription=function(e){var t={};return t.op="add",t.path="/fields/System.Description",t.value=e,t},t.prototype.createRating=function(e){var t={};return t.op="add",t.path="/fields/Microsoft.VSTS.Common.Rating",t.value=r.FeedbackResponseRating[e],t},t.prototype.createSystemInfo=function(e){var t={};return t.op="add",t.path="/fields/Microsoft.VSTS.TCM.SystemInfo",t.value=e,t},t.prototype.createTraceabilityLinks=function(e,t){var o=[],n=e.fields[M.workItemType];e.fields[M.id];return k.getCategory(n)===r.WorkItemCategories.FeedbackRequestCategory&&this.addTraceabilityLinksForFeedbackRequest(o,t,e,r.WorkItemRelations.parentLink,r.WorkItemRelations.relatedLink),o},t}(X);t.FeedbackResponseDataHelper=ee;var te=function(e){function t(){e.call(this)}return __extends(t,e),t.prototype.createWorkItemData=function(t,r,o){return e.prototype.createWorkItemData.call(this,t,r,o),this.data.push(this.createTestStepsDetailData(t.testSteps)),this.data=this.updateTestStepAttachmentsInData(t.testSteps,this.data),this.data},t.prototype.createTestStepsDetailData=function(e){var t={};return t.op="add",t.path="/fields/Microsoft.VSTS.TCM.Steps",t.value=this.createTestStepsDetails(e),t},t.prototype.createTraceabilityLinks=function(e,t){var o=[],n=e.fields[M.workItemType],i=e.fields[M.id];return k.getCategory(n)===r.WorkItemCategories.TestCaseCategory?o.push(this.createLinkData(t,r.WorkItemRelations.relatedLink,i)):o.push(this.createLinkData(t,r.WorkItemRelations.testedByReverse,i)),o},t.prototype.createTestStepsDetails=function(e){var t='<steps id="0" last="{0}">',r="</steps>",o='<step id="{0}" type="{1}"><parameterizedString isformatted="true">&lt;DIV&gt;&lt;P&gt;{2}&lt;/P&gt;&lt;/DIV&gt;</parameterizedString><parameterizedString isformatted="true"></parameterizedString><description /></step>',n='<step id="{0}" type="{1}"><parameterizedString isformatted="true">&lt;DIV&gt;&lt;P&gt;{2}&lt;/P&gt;&lt;/DIV&gt;</parameterizedString><parameterizedString isformatted="true">&lt;DIV&gt;&lt;P&gt;{3}&lt;/P&gt;&lt;/DIV&gt;</parameterizedString><description /></step>',i="";i=i.concat(h.stringFormat(t,e.length));for(var a=0;a<e.length;a++){var s="";s=e[a].expected.length>0?h.stringFormat(n,a+1,"ValidateStep",e[a].action,e[a].expected):h.stringFormat(o,a+1,"ActionStep",e[a].action),i=i.concat(s)}return i=i.concat(r)},t.prototype.updateTestStepAttachmentsInData=function(e,t){for(var r="[TestStep={0}]:",o=0;o<e.length;o++)if(e[o].attachmentServerUri){var n={};n.op="add",n.path="/relations/-";var i={};i.rel="AttachedFile",i.url=e[o].attachmentServerUri,i.attributes={comment:h.stringFormat(r,o+1)},n.value=i,t.push(n)}return t},t}(X);t.TestCaseDataHelper=te;var re=function(){function e(){}return e.createWiqlQueryForTitle=function(e,t){var r=l.LocalStorageService.retrieve(l.activeSettingsKey),o=this.createSeacrhConditionForTitle(e);if(""===o)return null;var n=" [System.WorkItemType] In Group "+t.join(" or [System.WorkItemType] In Group "),i=new Date;i.setDate(i.getDate()-this.workItemSeacrchLimitInNumberOfDays);var a=" [System.CreatedDate] >= '"+i.toJSON().substring(0,i.toJSON().indexOf("T"))+"'",s=this.getAreaPathString(r);s=s.length>0?s+" and ":s;var c="Select System.Id From WorkItems Where "+s+"("+n+" ) and ("+o+") and ("+a+") order by [System.CreatedDate] desc ",p={query:c};return p},e.createWiqlQueryForDescription=function(e,t){var r=l.LocalStorageService.retrieve(l.activeSettingsKey),o="[System.Description] CONTAINS WORDS '"+e+"'",n=this.getAreaPathString(r);n=n.length>0?n+" and ":n;var i=" [System.WorkItemType] In Group "+t.join(" or [System.WorkItemType] In Group "),a=new Date;a.setDate(a.getDate()-this.workItemSeacrchLimitInNumberOfDays);var s=" [System.CreatedDate] >= '"+a.toJSON().substring(0,a.toJSON().indexOf("T"))+"'",c="Select System.Id From WorkItems Where "+n+"("+i+" ) and ("+o+") and ("+s+") order by [System.CreatedDate] desc ",p={query:c};return p},e.createSeacrhConditionForTitle=function(e){var t=e.split(" "),r="";return t=t.filter(function(e){return e&&e.length>=1&&!y.StopWordList.some(function(t){return t===e.toLowerCase()})}),t.forEach(function(e,o){-1===e.indexOf("'")?r+="[System.Title] contains '"+e.replace('"','"')+"'":(-1!==e.indexOf('"')&&(e=e.replace(/"/g,"&quot;")),r+='[System.Title] contains "'+e+'"'),o!==t.length-1&&(r+=" or ")}),r},e.getAreaPathString=function(e){var t="";if(e.areaPaths){for(var o=0;o<e.areaPaths.length;o++){o>0&&(t+=" OR ");var n=e.areaPaths[o].includeChildren?"UNDER":"=";t+="["+r.WorkItemField.areaPath+"] "+n+" '"+e.areaPaths[o].value+"'"}e.areaPaths.length>1&&(t="("+t+")")}else e.areaPath&&(t="["+r.WorkItemField.areaPath+"] UNDER '"+e.areaPath+"'");return t},e.workItemSeacrchLimitInNumberOfDays=180,e}(),oe=function(){function e(e){this.tfsContext=e}return e.prototype.getServerSessionState=function(e){var t=p.TestSessionState.NotStarted;switch(e){case A.Completed:t=p.TestSessionState.Completed;break;case A.InProgress:t=p.TestSessionState.InProgress;break;case A.Paused:t=p.TestSessionState.Paused;break;case A.Declined:t=p.TestSessionState.Declined}return t},e}(),ne=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.convertToTestSessionOM=function(e){var t=l.LocalStorageService.retrieve(l.activeSettingsKey),o=0;e.revision&&(o=e.revision);var n=p.TestSessionSource[r.TestSessionSource[e.source]],i={area:{name:t.areaPath,id:"",url:""},comment:null,endDate:null,id:0,lastUpdatedBy:null,lastUpdatedDate:null,owner:null,project:null,propertyBag:e.propertyBag,revision:o,source:n,startDate:null,state:null,title:e.sessionName,url:null};return i},t.convertFromTestSessionOM=function(e){var r;return e&&(r={workItems:[],attachments:[],state:t.getXtTestSessionState(e.state),id:e.id.toString(),sessionName:e.title,propertyBag:e.propertyBag,revision:e.revision,createdTime:e.startDate}),r},t.getXtTestSessionState=function(e){var t=r.SessionState.None;switch(e){case p.TestSessionState.Unspecified:t=r.SessionState.None;break;case p.TestSessionState.InProgress:t=r.SessionState.InProgress;break;case p.TestSessionState.Completed:t=r.SessionState.Completed;break;case p.TestSessionState.Paused:t=r.SessionState.Paused;break;case p.TestSessionState.Declined:t=r.SessionState.Declined}return t},t}(oe),ie=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.getAttachmentUrl=function(e){return this.tfsContext.serverUrl+"/TestManagement/v1.0/AttachmentDownload.ashx?run=0&amp;res=0&amp;id="+e},t.prototype.getCreateRunAttachmentContainerOptions=function(e,t){var r={type:"POST",url:this.tfsContext.serverUrl+"TestManagement/v2.0/TestManagementWebService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,data:this._createRequestDataToCreateRunAttachmentContainer(e,t),processData:!1};return r},t.prototype.createUploadAttachmentOptions=function(e,t,r){var o=this;this._createRequestDataToUploadAttachment(e,t,function(e){var t={type:"POST",url:o.tfsContext.serverUrl+"/TestManagement/v1.0/AttachmentUpload.ashx",contentType:!1,dataType:"text",cache:!1,data:e,processData:!1};r(t)})},t.prototype.parseAndGenerateCreateSessionAttachmentResponse=function(e){var t={},r=e,o=$(r).find("attachmentIds")[0];if(o){var n=$(o).find("int")[0];if(n){var i=$(n).text();t.attachmentId=i}}return t},t.prototype._createRequestDataToUploadAttachment=function(e,t,r){var o=new FormData;o.append("ProjectName",this.tfsContext.teamProject),o.append("TestRunId",e.runId),o.append("TestResultId",e.resultId),o.append("IterationId",e.iterationId),o.append("ActionPath",e.actionPath),o.append("DefaultAfnStripFlag",0),o.append("UncompressedLength",t.length),o.append("AttachmentId",t.id),o.append("Range","bytes=0-"+t.length+"/"+t.length),t.getContent(function(e){o.append(t.name,e,t.name),r(o)})},t.prototype._createRequestDataToCreateRunAttachmentContainer=function(e,t){var r='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <UpdateTestRun xmlns="http://schemas.microsoft.com/TeamFoundation/2010/07/TCM/TestManagement/01"> <attachments> <TestResultAttachment TestRunId="'+e.runId+'" TestResultId="'+e.resultId+'" IterationId="'+e.iterationId+'" ActionPath="'+e.actionPath+'" AttachmentType= "GeneralAttachment" FileName= "'+t.name+'" IsComplete= "false" Length= "'+t.length+'" > </TestResultAttachment> </attachments> <projectName>'+this.tfsContext.teamProject+"</projectName> </UpdateTestRun> </soap:Body> </soap:Envelope>";return r},t}(oe),ae=function(e){function t(t){e.call(this,t)}return __extends(t,e),t.prototype.getConnectedUserOptions=function(){var e={type:"POST",url:this.tfsContext.serverUrl+"Services/v3.0/LocationService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,processData:!1,data:this._createRequestDataToGetAuthenticatedUser()};return e},t.prototype.parseAndGetAuthenticatedUser=function(e){var t,r=e,o=$(r).find("AuthorizedUser")[0];if(null!=o){var n=$(o).attr("DisplayName"),i=$(o).attr("TeamFoundationId");t={displayName:n,id:i}}return t},t.prototype.createSessionOptions=function(e){var t={type:"POST",url:this.tfsContext.serverUrl+"TestManagement/v2.0/TestManagementWebService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,data:this._createRequestDataToCreateSession(e.sessionName),processData:!1};return t},t.prototype.createWorkItemLinkingOptions=function(e,t){var r={type:"POST",url:this.tfsContext.serverUrl+"TestManagement/v2.0/TestManagementWebService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,data:this._createRequestDataToLinkWorkItemToSession(e.id,t.id),processData:!1};return r},t.prototype.createUploadAttachmentOptions=function(e,t,r){var o=this;this._createRequestDataToUploadAttachment(e,t,function(e){var t={type:"POST",url:o.tfsContext.serverUrl+"/TestManagement/v1.0/AttachmentUpload.ashx",contentType:!1,dataType:"text",cache:!1,data:e,processData:!1};r(t)})},t.prototype.parseAndGenerateCreateSessionResponse=function(e){var t={},r=e,o=$(r).find("CreateSessionResult")[0];if(o){var n=$(o).attr("SessionId");t.sessionId=n}return t},t.prototype.getUpdateSessionStateOptions=function(e,t,r,o){var n={type:"POST",url:this.tfsContext.serverUrl+"TestManagement/v2.0/TestManagementWebService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,data:this._createRequestDataToUpdateSessionState(e,t,r,o),processData:!1};return n},t.prototype.getQuerySessionDetailOptions=function(e){var t={type:"POST",url:this.tfsContext.serverUrl+"TestManagement/v2.0/TestManagementWebService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,data:this._createRequestDataToQuerySession(e),processData:!1};return t},t.prototype.getCreateSessionAttachmentContainerOptions=function(e,t){var r={type:"POST",url:this.tfsContext.serverUrl+"TestManagement/v2.0/TestManagementWebService.asmx",contentType:'text/xml; charset="utf-8"',dataType:"text",cache:!1,data:this._createRequestDataToCreateSessionAttachmentContainer(e,t),processData:!1};return r},t.prototype.parseAndGenerateCreateSessionAttachmentResponse=function(e){var t={},r=e,o=$(r).find("attachmentIds")[0];if(o){var n=$(o).find("int")[0];if(n){var i=$(n).text();t.attachmentId=i}}return t},t.prototype.parseAndGetSessionData=function(e){var t={},r=e,o=$(r).find("QuerySessionsByIdResult")[0];if(o){var n=$(o).find("Session")[0],i=$(n).attr("Revision"),a=$(n).attr("Owner");t.revision=i,t.owner=a}return t},t.prototype.getAttachmentUrl=function(e){return this.tfsContext.serverUrl+"/TestManagement/v1.0/AttachmentDownload.ashx?run=0&amp;res=0&amp;id="+e},t.prototype._createRequestDataToGetAuthenticatedUser=function(){var e='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <Connect xmlns="http://microsoft.com/webservices/"> <connectOptions>1</connectOptions> <lastChangeId>1</lastChangeId> <features>1</features> </Connect> </soap:Body> </soap:Envelope>';return e},t.prototype._createRequestDataToCreateSession=function(e){var t=new Date,r='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <CreateSession xmlns="http://schemas.microsoft.com/TeamFoundation/2010/07/TCM/TestManagement/01"> <session State="'+this.getServerSessionState(A.InProgress)+'" TestPlanId="'+this._getPlanId()+'" Owner="'+this.tfsContext.connectedUser.id+'" StartDate="'+t.toISOString()+'" Title="'+e+'" /> <teamProjectName>'+this.tfsContext.teamProject+"</teamProjectName> </CreateSession> </soap:Body> </soap:Envelope>";return r},t.prototype._createRequestDataToLinkWorkItemToSession=function(e,t){var r='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <CreateAssociatedWorkItemsForSessions xmlns="http://schemas.microsoft.com/TeamFoundation/2010/07/TCM/TestManagement/01">       <identifiers>        <int>'+e+"</int>      </identifiers>      <workItemUris>        <string>vstfs:///WorkItemTracking/WorkItem/"+t+"</string>      </workItemUris></CreateAssociatedWorkItemsForSessions> </soap:Body> </soap:Envelope>";return r},t.prototype._createRequestDataToCreateSessionAttachmentContainer=function(e,t){var r='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <UpdateSession xmlns="http://schemas.microsoft.com/TeamFoundation/2010/07/TCM/TestManagement/01"> <session SessionId= "'+e+'" TestPlanId="'+this._getPlanId()+'" /> <attachments> <TestResultAttachment ActionPath="" AttachmentType= "GeneralAttachment" FileName= "'+t.name+'" IsComplete= "false" Length= "'+t.length+'" SessionId= "'+e+'" > </TestResultAttachment> </attachments> <projectName>'+this.tfsContext.teamProject+"</projectName> </UpdateSession> </soap:Body> </soap:Envelope>";return r},t.prototype._createRequestDataToQuerySession=function(e){var t='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <QuerySessionsById xmlns="http://schemas.microsoft.com/TeamFoundation/2010/07/TCM/TestManagement/01"> <teamProjectName>'+this.tfsContext.teamProject+"</teamProjectName> <sessionId>"+e+" </sessionId> </QuerySessionsById> </soap:Body> </soap:Envelope>";return t},t.prototype._createRequestDataToUpdateSessionState=function(e,t,r,o){var n=$("<div/>").text(o).html();n=n.replace(/"/g,"&quot;");var i='<?xml version="1.0" encoding="utf-8"?> <soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"> <soap:Body> <UpdateSession xmlns="http://schemas.microsoft.com/TeamFoundation/2010/07/TCM/TestManagement/01" xml:space="preserve"> <session SessionId="'+e.id+'" TestPlanId="'+this._getPlanId()+'" State="'+this.getServerSessionState(t)+'" Owner="'+this.tfsContext.connectedUser.id+'" Title="'+e.sessionName+'" Revision="'+r+'" Comment="'+n+'"  /> <projectName>'+this.tfsContext.teamProject+"</projectName> </UpdateSession> </soap:Body> </soap:Envelope>";return i},t.prototype._getPlanId=function(){var e=-1;return b.getService().isStakeHolderMode()&&(e=0),e},t.prototype._createRequestDataToUploadAttachment=function(e,t,r){var o=new FormData;o.append("ProjectName",this.tfsContext.teamProject),o.append("SessionId",e.id),o.append("TestRunId",0),o.append("TestResultId",0),o.append("DefaultAfnStripFlag",0),o.append("UncompressedLength",t.length),o.append("AttachmentId",t.id),o.append("Range","bytes=0-"+t.length+"/"+t.length),t.getContent(function(e){o.append(t.name,e,t.name),r(o)})},t}(oe),se=function(){function e(e,t,r){this._workItemStore=new K(e,t),this._sessionStore=new G(e,t,r),this._testRunStore=new N(e,t)}return e.prototype.getWorkItemTypeCategories=function(){return this._workItemStore.getWorkItemTypeCategories()},e.prototype.getUserFeedbackSessions=function(e,t){this._sessionStore.getUserFeedbackSession(e,t)},e.prototype.getWorkItemColors=function(){return this._workItemStore.getWorkItemColors()},e.prototype.createTestCase=function(e,t,r,o){var n=parseInt(t);if(n)var i=this._workItemStore.createTestCase(e,n);else o&&o("sessionId-"+t+" is invalid");i.then(function(t){r&&(e.id=t.id.toString(),r(e))},function(e){o&&o(e)})},e.prototype.createFeedbackResponse=function(e,t,r,o){var n=parseInt(t);if(n)var i=this._workItemStore.createFeedbackResponse(e,n);else o&&o("sessionId-"+t+" is invalid");i.then(function(t){r&&(e.id=t.id.toString(),r(e))},function(e){o&&o(e)})},e.prototype.createWorkItem=function(e,t,r,o){var n=this;this.fetchTeamSettingsIfRequired(e,function(){n.createOrUpdateWorkItem(e,t,!0,r,o)},o)},e.prototype.updateWorkItem=function(e,t,r,o){var n=this;this.fetchTeamSettingsIfRequired(e,function(){n.createOrUpdateWorkItem(e,t,!1,r,o)},o)},e.prototype.createOrUpdateWorkItem=function(e,t,r,o,n){var i=parseInt(t);if(i){if(r)return void this._workItemStore.createWorkItem(e,i,o,n);var a=this._workItemStore.updateWorkItem(e,i)}else n&&n("sessionId-"+t+" is invalid");a&&a.then(function(t){o&&(e.id=t.id.toString(),o(e))},function(e){n&&n(e)})},e.prototype.fetchTeamSettingsIfRequired=function(e,t,o){var n=l.LocalStorageService.retrieve(l.teamSettingsKey);if(n||k.getCategory(e.type)!==r.WorkItemCategories.BugCategory)t();else{var i=l.LocalStorageService.retrieve(l.activeSettingsKey),a=i.serverbaseUrl,s=L.getConnectionStore(a);s.getTeamSettings(i.collectionDetails.name,i.projectDetails.name,i.teamDetails.name,function(e){e&&l.LocalStorageService.store(l.teamSettingsKey,e),t()},o)}},e.prototype.uploadFile=function(e,t){return this._workItemStore.uploadAttachment(e,t)},e.prototype.createSession=function(e,t,r){this._sessionStore.createSession(e,function(e){t&&t(e)},function(e){r&&r(e)})},e.prototype.associateWorkItemWithSession=function(e,t,r,o){this._sessionStore.associateWorkItemWithSession(e,t,function(){r&&r()},function(e){o&&o(e)})},e.prototype.associateLinkedWorkItemWithSession=function(e,t,r,o){this._sessionStore.associateLinkedWorkItemWithSession(e,t,function(){r&&r()},function(e){o&&o(e)})},e.prototype.createSessionAttachmentContainer=function(e,t,r,o){this._sessionStore.createSessionAttachmentContainer(e,t,function(e){r&&r(e)},function(e){o&&o(e)})},e.prototype.createRunAttachmentContainer=function(e,t,r,o){this._testRunStore.createRunAttachmentContainer(e,t,function(e){r&&r(e)},function(e){o&&o(e)})},e.prototype.updateSessionState=function(e,t,r,o){this._sessionStore.updateSessionState(e,t,function(e){r&&r(e)},function(e){o&&o(e)})},e.prototype.uploadRunAttachment=function(e,t,r,o){this._testRunStore.uploadAttachment(e,t,function(e){r&&r(e)},function(e){o&&o(e)})},e.prototype.uploadAttachment=function(e,t,r,o){this._sessionStore.uploadAttachment(e,t,function(e){r&&r(e)},function(e){o&&o(e)})},e.prototype.uploadTestResultAttachmentAsync=function(e,t){return this._testRunStore.uploadAttachmentAsync(e,t)},e.prototype.updateSettingsAreaAndIteration=function(e,t){var r=new x(e.serverbaseUrl);r.getTeamAreaPathValues(e.collectionDetails.name,e.projectDetails.name,e.teamDetails.name,function(o,n){e.areaPath=o,e.areaPaths=n,r.getTeamIterationPath(e.collectionDetails.name,e.projectDetails.name,e.teamDetails.name,function(r){e.iterationPath=r,t(e)},function(r){if(e.iterationPath=null,r.responseText){var o=JSON.parse(r.responseText);if(o.typeName&&-1==o.typeName.indexOf("Microsoft.TeamFoundation.Agile.Common.Exceptions.CurrentIterationDoesNotExistException"))return void t(e,r)}t(e)})},function(r){e.areaPath=null,t(e,r)})},e.prototype.queryWorkItemsByTitle=function(e,t,r,o){if(e)var n=this._workItemStore.queryWorkItemsByTitle(e,t);else o&&o({message:"Query Pattern is either not passed or invalid"});n.then(function(e){var t,o=[];for(t=0;t<e.workItems.length;t++)o.push(e.workItems[t].id);r&&r(o)},function(e){o&&o(e)})},e.prototype.queryWorkItemsByDescription=function(e,t,r,o){if(e)var n=this._workItemStore.queryWorkItemsByDescription(e,t);else o&&o({message:"Word is not passed or not valid"});n.then(function(e){var t,o=[];for(t=0;t<e.workItems.length;t++)o.push(e.workItems[t].id);r&&r(o)},function(e){o&&o(e)})},e.prototype.getConnectedUserDetails=function(){return this._sessionStore.getConnectedUserDetails()},e.prototype.queryWorkItemsById=function(e,t,r,o){if(t&&t.length>0){var n=this._workItemStore.queryWorkItemsByIds(e,t);n.then(function(e){r&&r(e)},function(e){o&&o(e)})}else o&&o("No work item Ids specified. Specify atleast one work item Id")},e.prototype.getWorkItemLinks=function(e,t,r){if(e>0){var o=this._workItemStore.getWorkItemLinks(e);o.then(function(e){t&&t(e)},function(e){r&&r(e)})}else r&&r("Unable to get links corresponding to workitem")},e}();t.TfsClient=se;var ce=function(){function e(){}return e.sendRequest=function(e,t,o,n,i){var a=e;a.headers||(a.headers={}),localStorage.PatToken&&(a.headers.Authorization="Basic"+btoa(":"+localStorage.PatToken)),a.success=function(e,r,o){t(e)};var s=0,c=5;a.error=function(e,t,p){if(n&&c>=s&&n(e,t))s++,i?setTimeout(function(){$.ajax(a)},i):$.ajax(a);else{var u=r.ErrorCode.TFS_CONNECTION_FAILED,l="Unable to connect to Team Foundation Server. Please check your connection.",d=$(e.responseXML).find("faultstring")[0];d?(l=$(d).text(),u=0):(203===e.status||401===e.status)&&(l="You do not have the appropriate permissions to perform this operation.",u=r.ErrorCode.TFS_AUTH_FAILED);var f={};f.message=l,f.status=e.status,f.id=u,o(f)}},$.ajax(a)},e}();t.TfsAjaxHelper=ce}),define("../../Model/PerfDataStorageService",["require","exports","../Common/ExtensionStorage","../Tracing/Tracing","../Common/SessionData","../Model/ModelHelper","../Model/AttachmentService","../Model/SessionService"],function(e,t,r,o,n,i,a,s){function c(){return p||(p=new l),p}var p,u=function(){function e(){}return e.getNextName=function(){var t=r.LocalStorageService.retrieve(r.perfDataNextIndex)||0,o=e.perfDataPrefix+t.toString()+e.extension;return o},e.getName=function(t){return e.perfDataPrefix+t.toString()+e.extension},e.getFileName=function(t,r){var o=document.createElement("a");o.href=t;var n=r?"_"+r:"";return o.host.length>0?e.fileNamePrefix+o.host+n+e.extension:e.fileNamePrefix+t.substr(0,15)+n+e.extension},e.perfDataPrefix="pageloaddata-",e.fileNamePrefix="pageload-",e.extension=".html",e}();t.PerfDataFileName=u,t.getService=c;var l=function(){function e(){this.perfReportLinkClass="PerfReportLink"}return e.prototype.savePerfData=function(e){var t=new Blob([e],{type:"application/json"}),r=u.getNextName(),o=new n.PerfData(JSON.stringify(e),t.size.toString(),r);this.addPerfDataToSessionAttachments(o)},e.prototype.resolvePerfAttachments=function(e){var t=this,r=Q.defer();if(e&&e.description){for(var o=$("<div>"+e.description+"</div>"),n=o.find("div"),i=n.length,s=[],c=0,p=0;i>p;p++){var u=n[p];if(this.isPerfDiv(u)){var l=parseInt(u.getAttribute("id"));void 0!==l&&(s.push(l),c++)}}0===s.length&&r.resolve(e);for(var d=0;d<s.length;d++){var f=a.getService().uploadPerfAttachmentAsync(s[d]);f.then(function(o){c--,0===c&&(t.resolvePerfData(e),r.resolve(e))},function(e){r.reject(e)})}}return r.promise},e.prototype.resolvePerfData=function(e){for(var t=s.getService().getLocalSession(),r=$("<div>"+e.description+"</div>"),o=r.find("div"),n=o.length,i=0;n>i;i++){var a=o[i];if(this.isPerfDiv(a)){var c=a.getAttribute("tmpId");a.removeAttribute("tmpId");var p=t.perfAttachments[c];p&&(a.innerHTML+="<div class='"+this.perfReportLinkClass+"'><a href='"+p.webUrl+"'>Complete Report</a></div>",e.attachmentIds||(e.attachmentIds=new Array),e.attachmentIds.push(p.id))}}e.description=$("<div></div>").append(r).html()},e.prototype.isPerfDiv=function(e){var t=e.getAttribute("class");return t&&"PerfDataContainer"===t?!0:!1},e.prototype.addPerfDataToSessionAttachments=function(e){o.TracingService.traceEnter("updateLocalStorage","PerfDataStorageService",3,"Begin - Add Data to session attachments");var t=i.AttachmentConverter.getAttachment(e),r=JSON.parse(e.content);t.textValue=JSON.stringify({summaryView:r.data.items.pageTimings.summaryView,url:r.url,timestamp:r.data.items.timestamp}),t.getContent(function(e){t.length=e.size.toString()}),t.name=u.getFileName(r.url,r.data.items.timestamp.split(" ")[0]+r.data.items.timestamp.split(" ")[1]),a.getService().addPerfAttachment(t),o.TracingService.traceLeave("updateLocalStorage","PerfDataStorageService",4,"End - Add Data to session attachments")},e}();t.PerfDataStorageService=l}),define("../../Service/TfsWorkItemService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../Model/SettingsService","../Model/SessionService","../Model/SystemInformationService","../Model/Model","../Model/ModelHelper","../Model/AttachmentService","../Tracing/Tracing","../Telemetry/TfsTelemetryHelper","../Common/ExtensionStorage","../Model/WorkitemServiceHelper","../Model/ActionLogService","../TfsClient/TfsStore","../Service/WorkItemHelper","../Model/PerfDataStorageService"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m,g,y,h){var T=y.WorkItemHelper,I=l.TfsTelemetryHelper,v=f.WorkItemServiceHelper,S=u.TracingService,b="WorkItemService",C=function(){function e(){this.topResultsCount=25}return e.prototype.initialize=function(){if(!this.initialized){var e=o.MessagingFactory.getSubscriptionService();this.initializeCreateWorkItemSubscribers(e),this.initializeQueryWorkItemSubscribers(e),this.initialized=!0}},e.prototype.terminate=function(){if(this.initialized){var e=o.MessagingFactory.getSubscriptionService();e.clearAllForNotificationType(r.NotificationType.CreateWorkItem),e.clearAllForNotificationType(r.NotificationType.UpdateWorkItem),e.clearAllForNotificationType(r.NotificationType.CustomizedWorkItemCreated),e.clearAllForNotificationType(r.NotificationType.QueryTraceableWorkItems),e.clearAllForNotificationType(r.NotificationType.QuerySimilarBugs),e.clearAllForNotificationType(r.NotificationType.QueryWorkItem),e.clearAllForNotificationType(r.NotificationType.QueryBug),e.clearAllForNotificationType(r.NotificationType.CreateTestCase),e.clearAllForNotificationType(r.NotificationType.CreateFeedbackResponse),e.clearAllForNotificationType(r.NotificationType.QueryFeedbackRequests),e.clearAllForNotificationType(r.NotificationType.QueryFeedbackRequestDetail),this.initialized=!1}},e.prototype.queryFeedbackRequests=function(e,t){var r=[];r.push("'"+s.WorkItemCategories.FeedbackRequestCategory+"'"),this.getFeedbackRequestsAssignedToConnectedUser(e.columns,r,function(e){if(e){var r=n.getService().getClient();r.getUserFeedbackSessions(function(r){var o=v.parseFeedbackWorkItems(e);o=o.sort(function(e,t){return parseInt(t.id)-parseInt(e.id)}),o=v.mergeFeedbackWorkItemsWithSessions(o,r),l.TfsTelemetryHelper.publishFeedbackRequestsProperties(o),d.LocalStorageService.store(d.searchResultsForFeedbackRequestsKey,o),u.TracingService.traceVerbose(b,60,"Fetched Feedback Requests"),t(!0)},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.FeedbackRequests),t(!1)})}else d.LocalStorageService.store(d.searchResultsForFeedbackRequestsKey,[]),u.TracingService.traceVerbose(b,65,"No Items Found"),t(!0)},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.FeedbackRequests),t(!1)})},e.prototype.initializeCreateWorkItemSubscribers=function(e){var t=this;e.subscribe(function(e,r){t.handleWorkItemInitialization(e),t.uploadSystemInfo(e).then(function(){t.createWorkItem(e,r)})},r.NotificationType.CreateWorkItem),e.subscribe(function(e,r){t.handleWorkItemInitialization(e),t.uploadSystemInfo(e).then(function(){t.updateWorkItem(e,r)})},r.NotificationType.UpdateWorkItem),e.subscribe(function(e,r,o){o&&o.tab&&o.tab.id&&setTimeout(function(){chrome.tabs.remove(o.tab.id)},200),e&&e.title&&(e.title=JSON.parse(e.title)),e&&e.type&&(e.type=JSON.parse(e.type)),t.onCustomizedWorkItemCreated(e)},r.NotificationType.CustomizedWorkItemCreated),e.subscribe(function(e,r){t.createTestCase(e,r)},r.NotificationType.CreateTestCase),e.subscribe(function(e,r){t.handleWorkItemInitialization(e),t.uploadSystemInfo(e).then(function(){t.createFeedbackResponse(e,r)})},r.NotificationType.CreateFeedbackResponse)},e.prototype.getSysInfoHtml=function(e){var t="";if(e.content){var r=$.parseJSON(e.content),o=$("<div/>"),n=$("<table/>");$.each(r,function(e,t){$.each(t,function(t,r){var o=$("<tr/>");o.append($("<td/>").attr("style","border:solid 1px #000000; border-collapse:collapse;padding-left:4px;").text(e+" - "+t)),o.append($("<td/>").attr("style","border:solid 1px #000000; border-collapse:collapse;padding-left:4px;").text(r)),n.append(o)})}),n.attr("style","border:solid 1px #000000; border-collapse:collapse; font-family: Segoe UI, Tahoma, Arial, Verdana; font-size:12px"),o.append(n),t=o.html()}return t},e.prototype.handleWorkItemInitialization=function(e){var t=n.getService().getLocalSettingsOrExploringWorkitemSettings();e.areaPath||(e.areaPath=t.areaPath),e.iterationPath||(e.iterationPath=t.iterationPath),e.attachmentIds||(e.attachmentIds=new Array)},e.prototype.uploadSystemInfo=function(e){var t=this;if(!a.isAvailable()){var r=Q.defer();return r.resolve(e),r.promise}var o=function(){var r=a.getService();return r.captureSystemInformationAsync().then(function(r){var o=t.getSysInfoHtml(r);return S.traceVerbose(b,10,"for work item with id:"+e.id+" formed systemInfoHtml : "+o),e.systemInfo&&(o=e.systemInfo+"<hr style='border-top:dotted 1px; margin-top: 50px; margin-bottom: 50px;' />"+o),e.systemInfo=o,c.AttachmentConverter.getAttachment(r)})},n=function(e){var t=p.getService();return t.uploadAttachmentAsync(e).then(function(e){return e})};return o().then(n).then(function(t){e.attachmentIds||(e.attachmentIds=new Array),e.attachmentIds.push(t.id)})["catch"](function(r){S.traceError(b,1,r),t.postError(e.type,r)})},e.prototype.initializeQueryWorkItemSubscribers=function(e){var t=this;e.subscribe(function(e,r){t.queryTraceableWorkItems(e,r)},r.NotificationType.QueryTraceableWorkItems),e.subscribe(function(e,r){t.querySimilarBugs(e,r)},r.NotificationType.QuerySimilarBugs),e.subscribe(function(e,r){t.queryWorkItems(e,r)},r.NotificationType.QueryWorkItem),e.subscribe(function(e,r){t.queryBugs(e,r)},r.NotificationType.QueryBug),e.subscribe(function(e,r){t.queryFeedbackRequests(e,r)},r.NotificationType.QueryFeedbackRequests),e.subscribe(function(e,r){t.queryFeedbackRequestDetail(e,r)},r.NotificationType.QueryFeedbackRequestDetail)},e.prototype.queryTraceableWorkItems=function(e,t){var r=["'Microsoft.ScenarioCategory'","'Microsoft.EpicCategory'","'Microsoft.FeatureCategory'","'Microsoft.RequirementCategory'","'Microsoft.TestcaseCategory'"];this.getWorkItemsByTitle(e.columns,r,e.queryPattern,function(r){if(r){var o=v.updateWorkItems(r,d.searchResultsForTraceabilityKey);o=v.filterAndRankWorkItems(e.queryPattern,o),d.LocalStorageService.store(d.searchResultsForTraceabilityKey,o),u.TracingService.traceVerbose(b,16,"Fetched work item details")}t(!0)},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.Traceability),t(!1)})},e.prototype.querySimilarBugs=function(e,t){
var r=["'Microsoft.BugCategory'"];this.getWorkItemsByTitle(e.columns,r,e.queryPattern,function(r){if(r){var o=v.updateWorkItems(r,d.similarBugsKey);o=v.filterAndRankWorkItems(e.queryPattern,o),d.LocalStorageService.store(d.similarBugsKey,o),u.TracingService.traceVerbose(b,24,"Fetched similar bugs")}t(!0)},function(e){t(!1)})},e.prototype.queryWorkItems=function(e,t){this.getWorkItemById(e.columns,parseInt(e.workItemId),function(r){var o=n.getService().getLocalSettings();if(r&&r.length>0&&v.isLinkabaleWorkItem(r[0].fields[s.WorkItemField.workItemType]))if(r[0].url=v.getEditableWitUrl(parseInt(e.workItemId).toString(),o),r[0][s.WorkItemField.startTime]=new Date,d.LocalStorageService.retrieve(d.traceabilityEnabledKey))d.LocalStorageService.store(d.linkedWorkItemKey,r[0]);else{var i=v.updateWorkItems(r,d.searchResultsForTraceabilityKey);d.LocalStorageService.store(d.searchResultsForTraceabilityKey,i)}t(!0)},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.Traceability),t(!1)})},e.prototype.queryFeedbackRequestDetail=function(e,t){var r=this;this.getWorkItemById(e.columns,parseInt(e.workItemId),function(o){if(o&&o.length>0){d.LocalStorageService.store(d.selectedFeedbackRequestWorkitemObjectKey,o[0]);var n=v.parseFeedbackWorkItems(o)[0];r.getWorkItemLinks(parseInt(e.workItemId),function(e){if(e&&e.relations&&(n.parentLinkUrl=v.parseLinksAndGetParent(e.relations)),n.applicationLaunchInstruction){var o=new Blob([n.applicationLaunchInstruction],{type:"text/plain"});d.PersistentStorageFactory.getStorageService().writeBlob(d.selectedFeedbackRequestApplicationLaunchKey,o,function(e){n.applicationLaunchInstruction=e,r.updateselectedFeedbackRequestInLocalStorage(n),t(!0)},null,!1,!1)}else n.applicationLaunchInstruction="",r.updateselectedFeedbackRequestInLocalStorage(n),t(!0)},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.FeedbackRequests),t(!1)}),u.TracingService.traceVerbose(b,70,"Fetched Feedback Request")}},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.FeedbackRequests),t(!1)})},e.prototype.updateselectedFeedbackRequestInLocalStorage=function(e){var t=d.LocalStorageService.retrieve(d.selectedFeedbackRequestKey);t&&(t.createdBy=e.createdBy,t.createdDate=e.createdDate,t.applicationLaunchInstruction=e.applicationLaunchInstruction,t.title=e.title,t.type=e.type,t.parentLinkUrl=e.parentLinkUrl,d.LocalStorageService.store(d.selectedFeedbackRequestKey,t))},e.prototype.queryBugs=function(e,t){var r=this;this.getWorkItemById(e.columns,parseInt(e.workItemId),function(o){var i=n.getService().getLocalSettings();o&&o.length>0&&(o[0].url=v.getEditableWitUrl(parseInt(e.workItemId).toString(),i),r.getWorkItemLinks(e.workItemId,function(e){o[0][s.WorkItemField.relations]=e.relations,r.attachReproStepsFiled(o[0],function(e){d.LocalStorageService.store(d.selectedBugKey,e),t(!0)})},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.Bug2),t(!1)}))},function(e){c.ErrorHelper.saveError(e,s.ToolbarType.Bug2),t(!1)})},e.prototype.attachReproStepsFiled=function(e,t){if(e.fields[s.WorkItemField.reproSteps]&&e.fields[s.WorkItemField.reproSteps].length>0){var r=e.fields[s.WorkItemField.reproSteps],o=new Blob([r],{type:"text/plain"});d.PersistentStorageFactory.getStorageService().writeBlob(d.selectedBugDescriptionKey,o,function(r){e.fields[s.WorkItemField.reproSteps]="",e.descriptionUrl=r,t(e)},null)}else e.fields[s.WorkItemField.reproSteps]="",t(e)},e.prototype.createTestCase=function(e,t){var r=this;m.getService().uploadActionLogForTestCase(e.testSteps).then(function(o){e.testSteps=o;var a=i.getService().getLocalSession(),s=n.getService().getLocalSettingsOrExploringWorkitemSettings();if(a&&a.workItems){var c=n.getService().getClient();e.areaPath=s.areaPath,e.iterationPath=s.iterationPath,c.createTestCase(e,a.id,function(e){l.TfsTelemetryHelper.publishTestCaseWorkItemProperties(e),S.traceInfo(b,23,"created testcase with id:"+e.id),r._updateWorkItemInSession(e,s,function(e){T._removeDirtyWorkItemFromLocalStorage(e),t(e)})},function(o){S.traceError(b,24,o),r.postError(e.type,o),e.workItemTelemetryInfo.errorCode=o.status,l.TfsTelemetryHelper.publishWorkItemProperties(e),t&&t({error:o})})}})},e.prototype.createFeedbackResponse=function(e,t){var r=this,o=i.getService().getLocalSession(),a=n.getService().getLocalSettingsOrExploringWorkitemSettings();if(o&&o.workItems){var s=n.getService().getClient(),c=m.getService();c.transformActionLog(e).then(function(n){e=n,s.createFeedbackResponse(e,o.id,function(o){l.TfsTelemetryHelper.publishWorkItemProperties(e.telemetryInfo),r._onWorkItemCreated(o,a,t)},function(o){S.traceError(b,30,o),r.postError(e.type,o),e.telemetryInfo.errorCode=o.status,l.TfsTelemetryHelper.publishWorkItemProperties(e),t&&t({error:o})})})}},e.prototype.createWorkItem=function(e,t){var r=this,o=i.getService().getLocalSession(),a=n.getService().getLocalSettingsOrExploringWorkitemSettings();if(o&&o.workItems){var s=n.getService().getClient(),c=m.getService();h.getService().resolvePerfAttachments(e).then(function(n){c.transformActionLog(n).then(function(n){e=n,e.telemetryInfo.descriptionLength=e.description?e.description.length:0,s.createWorkItem(e,o.id,function(o){l.TfsTelemetryHelper.publishWorkItemProperties(e.telemetryInfo),r._onWorkItemCreated(o,a,t)},function(n){400===n.status?(S.traceWarning(b,3,"Server had workItem WI which is customised with required fields not having default values. WorkItemType:"+e.type),r.createWorkItemForCustomizedServer(e,a,o.id),e.telemetryInfo.isCustomized=!0,l.TfsTelemetryHelper.publishWorkItemProperties(e.telemetryInfo),t&&t({error:n})):(S.traceError(b,4,n),r.postError(e.type,n),e.telemetryInfo.errorCode=n.status,I.publishWorkItemProperties(e.telemetryInfo),t&&t({error:n}))})})})}},e.prototype.updateWorkItem=function(e,t){var r=this;if(e&&e.id){var o=i.getService().getLocalSession(),a=n.getService().getLocalSettings();if(o&&o.workItems){var s=n.getService().getClient(),c=m.getService();h.getService().resolvePerfAttachments(e).then(function(n){c.transformActionLog(e).then(function(n){e=n,e.telemetryInfo.descriptionLength=e.description?e.description.length:0,s.updateWorkItem(e,o.id,function(o){e.isUpdated=!0,l.TfsTelemetryHelper.publishWorkItemProperties(e.telemetryInfo),r._updateWorkItemInSession(o,a,function(e){T._removeDirtyWorkItemFromLocalStorage(e),t(e)})},function(o){S.traceError(b,25,o),r.postError(e.type,o),e.telemetryInfo.errorCode=o.status,l.TfsTelemetryHelper.publishWorkItemProperties(e.telemetryInfo),t&&t({error:o})})})})}}},e.prototype.onCustomizedWorkItemCreated=function(e){var t=i.getService().getLocalSession(),a=n.getService().getLocalSettings();if(d.LocalStorageService.retrieve(d.traceabilityEnabledKey)){var c=d.LocalStorageService.retrieve(d.linkedWorkItemKey);e.linkedTo={id:c.fields[s.WorkItemField.id],type:c.fields[s.WorkItemField.workItemType],url:c.url,title:c.fields[s.WorkItemField.title]}}t&&t.workItems&&this._onWorkItemCreated(e,a,function(e){o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.CloseWorkItemDialog,e)})},e.prototype.getWorkItemsByTitle=function(e,t,r,o,i){var a=this;if(r&&t){var s=n.getService().getClient();u.TracingService.traceVerbose(b,13,"Fetching work item ids for the title query pattern "+r);var c=n.getService().getLocalSettings();if(c.areaPath)s.queryWorkItemsByTitle(r,t,function(t){t=t.splice(0,a.topResultsCount),u.TracingService.traceVerbose(b,14,"Fetched work item ids: "+t.join()),a.getWorkItemsByIds(e,t,o,i)},function(e){S.traceError(b,11,e),i(e)});else{var p={message:"No work items found. The selected team does not have an area path assoicated. Configure area path for the selected team."};S.traceError(b,23,p.message),i(p)}}},e.prototype.getFeedbackRequestsAssignedToConnectedUser=function(e,t,r,o){var i=this,a=n.getService().getClient(),s=n.getService().getLocalSettings();if(s.areaPath)a.getConnectedUserDetails().then(function(n){u.TracingService.traceVerbose(b,50,"Fetching work item ids for the title query pattern "+n.id),a.queryWorkItemsByDescription(n.id,t,function(t){t=t.splice(0,i.topResultsCount),u.TracingService.traceVerbose(b,14,"Fetched work item ids: "+t.join()),i.getWorkItemsByIds(e,t,r,o)},function(e){S.traceError(b,51,e),o(e)})});else{var c={message:"No work items found. The selected team does not have an area path assoicated. Configure area path for the selected team."};S.traceError(b,52,c.message),o(c)}},e.prototype.getWorkItemLinks=function(e,t,r){if(e>0){var o=n.getService().getClient();S.traceVerbose(b,26,"Fetching workitem links for the work item :"+e),o.getWorkItemLinks(e,function(e){S.traceVerbose(b,27,"Fetched work item links"),t(e)},function(e){S.traceError(b,28,e),r(e)})}else{var i={message:"Invalid work item id: "+e+" .Please pass a valid id"};S.traceError(b,29,i.message),r(i)}},e.prototype.getWorkItemById=function(e,t,r,o){if(t){var i=n.getService().getClient();u.TracingService.traceVerbose(b,18,"Fetching columns"+e.join()+" for the work item "+t);var a=[t];i.queryWorkItemsById(e,a,function(e){u.TracingService.traceVerbose(b,19,"Fetched work item details"),r(e)},function(e){S.traceError(b,20,e),o(e)})}else{var s={message:"Invalid work item id. Please pass a valid id"};S.traceError(b,22,s.message),o(s)}},e.prototype.postError=function(e,t){switch(T.getCategory(e)){case s.WorkItemCategories.TaskCategory:c.ErrorHelper.saveError(t,s.ToolbarType.Task);break;case s.WorkItemCategories.TestCaseCategory:c.ErrorHelper.saveError(t,s.ToolbarType.TestCase);break;case s.WorkItemCategories.FeedbackResponseCategory:c.ErrorHelper.saveError(t,s.ToolbarType.FeedbackResponse);break;default:c.ErrorHelper.saveError(t,s.ToolbarType.Bug2)}},e.prototype.getWorkItemsByIds=function(e,t,r,o){if(e.length>0&&t.length>0){var i=n.getService().getClient();u.TracingService.traceVerbose(b,17,"Fetching fields: "+e.join()+" for ids: "+t.join()),i.queryWorkItemsById(e,t,function(e){r(e)},function(e){S.traceError(b,15,e),o(e)})}else u.TracingService.traceVerbose(b,21,"Fetched 0 work item details"),r(null)},e.prototype._onWorkItemCreated=function(e,t,r){var o=this;this._updateWorkItemInSession(e,t,function(e){T._removeDirtyWorkItemFromLocalStorage(e),a.isAvailable()&&o._removeSystemInformationFromPersistentStorage(e),r&&r(e)})},e.prototype._updateWorkItemInSession=function(e,t,r){var o=i.getService().getLocalSession();if(o){e.timeStamp=new Date,e.url=v.getEditableWitUrl(e.id,t);var n=JSON.parse(JSON.stringify(e));n.description="",o.workItems.push(n),i.getService().updateLocalSession(o),this._linkSessionToWorkItem(e,o),r&&r(e)}},e.prototype._linkSessionToWorkItem=function(e,t){var r=this,o=n.getService().getClient();o.associateWorkItemWithSession(t,e,function(){S.traceInfo(b,5,"work item with id:"+e.id+"associated with session:"+t.id)},function(t){S.traceError(b,6,t),r.postError(e.type,t)})},e.prototype._removeSystemInformationFromPersistentStorage=function(e){var t=this;d.PersistentStorageFactory.getStorageService().removeBlob(a.getSystemInformationFileName(),function(){},function(r){S.traceError(b,7,r),t.postError(e.type,r)})},e.prototype.createWorkItemForCustomizedServer=function(e,t,r){var o,n=("/"===t.url.charAt(t.url.length-1)?t.url:t.url+"/")+t.project+"/_workitems",i=g.WorkItemDataHelperFactory.getWorkItemDataHelper(e.type).getScriptForInjection(e,r),a=!1,s=!1,p=700,u=1e3,l=Math.floor(screen.width?(screen.width-u)/2:0),d=Math.floor(screen.height?(screen.height-p)/2:0);chrome.windows.create({url:n,left:l,top:d,width:u,height:p,type:"popup"},function(e){c.getTabId(e.id).then(function(e){o=e})}),chrome.tabs.onUpdated.addListener(function(e,t,r){e===o&&"complete"===t.status&&(s||a||(s=!0,setTimeout(function(){chrome.tabs.executeScript(e,{code:i},function(){S.traceInfo(b,8,"Script has been injected into the head of new window since the server was customized with required fields"),a=!0})},1e3)))})},e}();t.TfsWorkItemService=C}),define("../../Service/offlineWorkItemService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../Model/SettingsService","../Model/SessionService","../Model/Model","../Model/ModelHelper","../Tracing/Tracing","../Telemetry/TfsTelemetryHelper","../Service/WorkItemHelper"],function(e,t,r,o,n,i,a,s,c,p,u){var l=p.TfsTelemetryHelper,d=c.TracingService,f="OfflineWorkItemService",m=function(){function e(){}return e.prototype.initialize=function(){if(!this.initialized){var e=o.MessagingFactory.getSubscriptionService();this.initializeCreateWorkItemSubscribers(e),this.initialized=!0}},e.prototype.terminate=function(){if(this.initialized){var e=o.MessagingFactory.getSubscriptionService();e.clearAllForNotificationType(r.NotificationType.CreateWorkItem),this.initialized=!1}},e.prototype.initializeCreateWorkItemSubscribers=function(e){var t=this;e.subscribe(function(e,r){t.createWorkItem(e,r)},r.NotificationType.CreateWorkItem)},e.prototype.createWorkItem=function(e,t){var r=this,o=i.getService().getLocalSession(),a=n.getService().getLocalSettings();if(o&&o.workItems){var s=n.getService().getClient();s.createWorkItem(e,o.id,function(o){p.TfsTelemetryHelper.publishWorkItemProperties(e.telemetryInfo),r._onWorkItemCreated(o,a,t)},function(o){d.traceError(f,4,o),r.postError(e.type,o),e.telemetryInfo.errorCode=o.status,l.publishWorkItemProperties(e.telemetryInfo),t&&t({error:o})})}},e.prototype.postError=function(e,t){s.ErrorHelper.saveError(t,a.ToolbarType.Bug)},e.prototype._onWorkItemCreated=function(e,t,r){var o=i.getService().getLocalSession();o&&(e.timeStamp=new Date,o.workItems.push(e),u.WorkItemHelper._removeDirtyWorkItemFromLocalStorage(e),i.getService().updateLocalSession(o),r&&r(e))},e}();t.OfflineWorkItemService=m}),define("../../Telemetry/TelemetryService",["require","exports","../Messaging/ChromeMessaging","../Messaging/Messaging","../Model/Model","../Telemetry/TfsTelemetryHelper","../Common/ExtensionStorage","../Common/Types","../Model/SettingsService","../Tracing/Tracing","../Model/BrowserHelper","../Common/Utility"],function(e,t,r,o,n,i,a,s,c,p,u,l){var d=u.BrowserHelper,f=p.TracingService,m="TelemetryService",g=a.LocalStorageService,y=n.TelemetryEvent,h=function(){function e(){this.serverTypeKey="ServerType",this.browserKey="Browser"}return e.prototype.initialize=function(){if(!this.initialized){this.initExtensionGuid();var e=r.MessagingFactory.getSubscriptionService();this.initializeTelemetryDataSubscribers(e),AppInsightsProxy.initialize(T.instrumentationKey,T.vortextEndpoint),this.initialized=!0}},e.prototype.terminate=function(){if(this.initialized){var e=r.MessagingFactory.getSubscriptionService();e.clearAllForNotificationType(o.NotificationType.PublishTelemetryData),this.initialized=!1}},e.prototype.publishEvent=function(e){try{this.isDevMode()||AppInsightsProxy.publishEvent(y[e])}catch(t){f.traceError(m,1,t)}},e.prototype.publishEventWithCustomData=function(e,t){try{this.isDevMode()||(t[a.extensionUniqueIdentifier]=this.extensionGuid,t[this.serverTypeKey]=this.getConnectedServerType(),t[this.browserKey]=d.getBrowserInfo(),AppInsightsProxy.publishEventWithCustomData(y[e],t))}catch(r){f.traceError(m,2,r)}},e.prototype.isDevMode=function(){return d.isFirefox()?!1:!("update_url"in chrome.runtime.getManifest())},e.prototype.initializeTelemetryDataSubscribers=function(e){var t=this;e.subscribe(function(e){var r=i.TfsTelemetryHelper.addCommonTelemetryProperties(e.properties);t.publishEventWithCustomData(e.eventName,r)},o.NotificationType.PublishTelemetryData)},e.prototype.initExtensionGuid=function(){this.extensionGuid=g.retrieve(a.extensionUniqueIdentifier),this.extensionGuid||(this.extensionGuid=s.newGuid(),g.store(a.extensionUniqueIdentifier,this.extensionGuid))},e.prototype.getConnectedServerType=function(){var e=c.getService(),t=e.getLocalSettings();return t&&t.offlineMode?n.ServerType.Offline:t&&t.serverbaseUrl&&l.isHostedUrl(t.serverbaseUrl)?n.ServerType.VSTS:n.ServerType.TFS},e}();t.TelemetryService=h;var T=function(){function e(){}return e.instrumentationKey="AIF-91d52c6c-9410-408e-a3b0-bc51d89fc16d",e.vortextEndpoint="https://vortex.data.microsoft.com/collect/v1",e}();t.ApplicationInsightsConstants=T}),define("../../Service/Service",["require","exports","../Service/TfsWorkItemService","../Service/offlineWorkItemService","../Model/SettingsService","../Telemetry/TelemetryService"],function(e,t,r,o,n,i){!function(e){e[e.WorkItemService=0]="WorkItemService",e[e.TelemetryService=1]="TelemetryService"}(t.ServiceType||(t.ServiceType={}));var a=t.ServiceType,s=function(){function e(){}return e.getService=function(e,t){switch(t){case a.WorkItemService:return this.getWorkItemService(e);case a.TelemetryService:return this.getTelemetryService()}},e.getWorkItemService=function(e){return n.isOfflineMode(e)?(this.offlineWorkItemService||(this.offlineWorkItemService=new o.OfflineWorkItemService),this.offlineWorkItemService):(this.tfsWorkItemService||(this.tfsWorkItemService=new r.TfsWorkItemService),this.tfsWorkItemService)},e.getTelemetryService=function(){return this.telemetryService||(this.telemetryService=new i.TelemetryService,this.telemetryService.initialize()),this.telemetryService},e}();t.ServiceFactory=s}),define("../../Telemetry/TfsTelemetryHelper",["require","exports","../Model/Model","../Common/ExtensionStorage","../Service/Service","../Common/FeatureAvailabiliy","../Model/SettingsService","../Service/WorkItemHelper","../Common/Constants"],function(e,t,r,o,n,i,a,s,c){var p=s.WorkItemHelper,u=r.TelemetryEvent,l=function(){function e(){}return e.publishFirefoxInstalledTelemetry=function(){var e={},t=new Date(Date.now()),r="("+t.toISOString()+")";e.installedDateTime=r;var o=n.ServiceFactory.getService(null,n.ServiceType.TelemetryService);o.publishEventWithCustomData(u.FirefoxInstallEvent,e)},e.publishWorkItemProperties=function(e){var t={};t.descriptionLength=e.descriptionLength,t.actionLogFullImageSizeInKB=e.actionLogFullImageSizeInKB,t.isActionLogIncluded=e.isActionLogIncluded,t.perfObservationsCount=e.perfObservationsCount,t.actionLogCountAtLaunch=e.actionLogCount,t.imagesCountAtLaunch=e.imagesCount,t.notesCount=e.notesCount,t.duration=e.duration,t.errorCode=e.errorCode,t.isCustomized=e.isCustomized,t.hasUpdated=e.hasUpdated,t.type=e.type,t.category=e.category,t.FeedbackType=this.getFeedbackType(),this.addCommonTelemetryPropertiesAndUpload(u.WorkItemFiling,t)},e.publishTestCaseWorkItemProperties=function(e){this.publishWorkItemProperties(e.workItemTelemetryInfo);var t=e.testCaseFormTemeletryInfo,r={};r.expectedResultsEdited=t.expectedResultsEdited,r.actionsEdited=t.actionsEdited,r.stepsRemoved=t.stepsRemoved,this.addCommonTelemetryPropertiesAndUpload(u.TestCaseForm,r)},e.publishVideoProperties=function(e){var t={};t.source=e.source,t.size=e.size,t.durationInSeconds=e.durationInSeconds,this.addCommonTelemetryPropertiesAndUpload(u.VideoCapture,t)},e.publishActionLogProperties=function(e){var t={};t.source=e.source,t.actionLogsCount=e.actionLogsCount,t.size=e.size,t.keyboardActionCount=e.keyboardActionCount,t.mouseActionCount=e.mouseActionCount,this.addCommonTelemetryPropertiesAndUpload(u.ActionLog,t)},e.publishAnnotationToolProperties=function(e){var t={};this.addFlattenedShapes("createdShapes",t,e.createShapeDictionary),this.addFlattenedShapes("deletedShapes",t,e.deleteShapeDictionary),t.isFullScreen=e.isFullScreen,t.beepCount=e.beepCount,t.textEditedCount=e.textEditedCount,t.errorCode=e.errorCode,t.source=e.source,this.addCommonTelemetryPropertiesAndUpload(u.AnnotationSettings,t)},e.publishDeviceProviderTelemetry=function(e,t){t.DeviceProviderName=e,this.addCommonTelemetryPropertiesAndUpload(u.DeviceProvider,t)},e.publishTraceabilityTelemetry=function(e,t){var r={};r.workItemType=e,r.traceabilityActionPoint=t,this.addCommonTelemetryPropertiesAndUpload(u.Traceability,r)},e.publishFeedbackRequestsProperties=function(e){var t={};t[c.FeedbackStateOptionConstants.pendingState]=0,t[c.FeedbackStateOptionConstants.completedState]=0,t[c.FeedbackStateOptionConstants.declinedState]=0,e.forEach(function(e){e.associatedFeedbackSession&&e.associatedFeedbackSession.state!==r.SessionState.InProgress&&e.associatedFeedbackSession.state!==r.SessionState.Paused?e.associatedFeedbackSession&&e.associatedFeedbackSession.state===r.SessionState.Completed?t[c.FeedbackStateOptionConstants.completedState]++:e.associatedFeedbackSession&&e.associatedFeedbackSession.state===r.SessionState.Declined&&t[c.FeedbackStateOptionConstants.declinedState]++:t[c.FeedbackStateOptionConstants.pendingState]++});var o=n.ServiceFactory.getService(null,n.ServiceType.TelemetryService);o.publishEventWithCustomData(u.QueryFeedbackRequestsData,t)},e.publishSessionProperties=function(e){var t={};t.createBugCount=e.workItems.filter(function(e){return p.getCategory(e.type)!==r.WorkItemCategories.BugCategory||e.isUpdated?!1:!0}).length,t.updateBugCount=e.workItems.filter(function(e){return p.getCategory(e.type)===r.WorkItemCategories.BugCategory&&e.isUpdated?!0:!1}).length,t.taskCount=e.workItems.filter(function(e){return p.getCategory(e.type)===r.WorkItemCategories.TaskCategory?!0:!1}).length,t.testCaseCount=e.workItems.filter(function(e){return p.getCategory(e.type)===r.WorkItemCategories.TestCaseCategory?!0:!1}).length,t.feedbackResponseCount=e.workItems.filter(function(e){return p.getCategory(e.type)===r.WorkItemCategories.FeedbackResponseCategory?!0:!1}).length,t.perfAttachmentCount=o.LocalStorageService.retrieve(o.perfAttachmentCountKey)||0,t.attachmentCount=e.attachments.length+t.perfAttachmentCount,t.notesCount=o.LocalStorageService.retrieve(o.notesCountKey),t.videosCount=o.LocalStorageService.retrieve(o.videosCountKey),t.feedbackType=this.getFeedbackType();var n=new Date,a=n-new Date(e.createdTime);t.duration=a,t.devicePixelRatio=window.devicePixelRatio||1,t.isActionLogOn=i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.ActionLog),t.isPerfDataOn=i.FeatureAvailibilityService.isFeatureEnabled(i.FeatureFlag.PerfData),t.browserCloseEventsWhileVideoUploading=o.LocalStorageService.retrieve(o.browserCloseEventsWhileVideoUploadingKey),t.browserCloseEventsWhileVideoRecodring=o.LocalStorageService.retrieve(o.browserCloseEventsWhileVideoRecordingKey),this.addCommonTelemetryPropertiesAndUpload(u.VsoSessionSettings,t,e)},e.addCommonTelemetryProperties=function(e,t){void 0===t&&(t=o.LocalStorageService.retrieve(o.activeSessionKey)),t&&(e.sessionId=t.id);var r=o.LocalStorageService.retrieve(o.activeSettingsKey);r&&(e.serverUrl=r.serverbaseUrl);var n=o.LocalStorageService.retrieve(o.connectionOptionKey),i=o.LocalStorageService.retrieve(o.connectedModeKey);return n&&(e.connectionMode=n,n===c.ConnectionOptionConstants.connectedMode&&(e.connectionMode=i)),e},e.addCommonTelemetryPropertiesAndUpload=function(e,t,r){t=this.addCommonTelemetryProperties(t,r);var o=n.ServiceFactory.getService(null,n.ServiceType.TelemetryService);o.publishEventWithCustomData(e,t)},e.publishSessionExport=function(){var e={};e.SessionExported=1,this.addCommonTelemetryPropertiesAndUpload(u.VsoSessionSettings,e)},e.getFeedbackType=function(){var e=a.getService();if(e.isStakeHolderMode()){var t=o.LocalStorageService.retrieve(o.activeSessionKey);if(t&&t.propertyBag&&t.propertyBag.bag[r.TestSessionConstants.feedbackRequestIdString])return r.FeedbackTypeConstants.solicited;if(t)return r.FeedbackTypeConstants.unsolicited}return r.FeedbackTypeConstants.none},e.addFlattenedShapes=function(e,t,r){for(var o in r){var n=e+"."+o;t[n]=r[o]}},e}();t.TfsTelemetryHelper=l}),define("../../Model/BaseVideoCaptureService",["require","exports","../Tracing/Tracing","../Common/SessionData","../Common/ExtensionStorage","../Common/Constants","../Model/ModelHelper","../Model/Model","../Telemetry/TfsTelemetryHelper"],function(e,t,r,o,n,i,a,s,c){var p=c.TfsTelemetryHelper,u=a.ErrorHelper,l=r.TracingService,d=function(){function e(e){this.desktopMedia=["screen","window"],this.alertWindowUrl="Popup2/VideoCapture/VideoTimeoutAlert.html",this.audioPermissionUrl="Popup2/VideoCapture/EnableAudio.html",this.alertWindowId=-1,this.raiseAlertWindowTime=60*(i.VideoCaptureConstants.maxVideoLengthInMinutes-1),this.videoTimeLimitInSeconds=60*i.VideoCaptureConstants.maxVideoLengthInMinutes,this.alertMessage="You have recorded your screen for "+(i.VideoCaptureConstants.maxVideoLengthInMinutes-i.VideoCaptureConstants.captureIntervalInSeconds)+":00 minutes already. Screen recording will stop within the next minute.",this.settingsManager=new f,this.setBrowserCloseEventHandler(),this.moduleName=e}return e.prototype.startVideoCapture=function(e,t){var r=this;this.clearErrors();if(this.isVideoRequestInQueue())l.traceError(this.moduleName,8,"New video capture request received when one is already in progress");else{var o=this;this.startVideoRequest(),t&&t(),e||(e=o.settingsManager.getMaxSettings()),e.enableAudio?navigator.webkitGetUserMedia({audio:!0,video:!1},function(t){r.recordScreen(e,t)},function(e){"NotFoundError"===e.name?r.onError(null,"Microphone not available",0,s.ErrorCode.MICROPHONE_NOTFOUND,!0):r.createAudioPermissionWindow(),l.traceError(r.moduleName,20,"Request to access microphone failed with error"+e.message),r.onCancel(),r.stopVideoRequest()}):this.recordScreen(e)}},e.prototype.recordScreen=function(e,t){var r,o=this,n=this;chrome.desktopCapture.chooseDesktopMedia(this.desktopMedia,function(a){if(!a)return l.traceError(o.moduleName,1,"Request to access desktop capture rejected or cancelled"),o.onCancel(),void o.stopVideoRequest();o.storeVideoCaptureId(a);var c={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:a,maxWidth:e.width,maxHeight:e.height,maxFrameRate:e.frameRate}}};navigator.webkitGetUserMedia(c,function(e){l.traceVerbose(o.moduleName,2,"Starting video capture");try{t&&(t.addTrack(e.getVideoTracks()[0]),e=t),n.mediaRecorder=MediaRecordProxy.getMediaRecorder(e)}catch(a){var c="Screen recording feature is disabled. To enable, upgrade Chrome to version 49 or later.";return o.onError(null,c,0,s.ErrorCode.SCREEN_RECORDING_DISABLED,!0),l.traceError(o.moduleName,7,a),o.storeVideoCaptureId("-1"),e.getTracks().forEach(function(e){return e.stop()}),void o.stopVideoRequest()}n.mediaRecorder.start(1e3*i.VideoCaptureConstants.captureIntervalInSeconds),n.recordTimer=0,n.mediaRecorder.chunks=[],n.currentVideoSize=0,n.mediaRecorder.ondataavailable=function(e){r=o.isVideoRequestInQueue(),r&&(n.recordTimer>=n.videoTimeLimitInSeconds?n.stopVideoCapture(!0,function(){n.cleanUpStorage()}):n.recordTimer===n.raiseAlertWindowTime?(o.clearErrors(),o.onError(null,o.alertMessage,1,0,!1),-1===n.alertWindowId&&n.createAlertWindow(),n.recordVideoInChunks(n,e)):(n.recordVideoInChunks(n,e),o.recordTimer===i.VideoCaptureConstants.captureIntervalInSeconds&&o.onStarted()))},n.mediaRecorder.stream.getVideoTracks()[0].onended=function(){r=o.isVideoRequestInQueue(),r&&n.stopVideoCapture(!1,function(){n.cleanUpStorage()})}},function(e){l.traceError(o.moduleName,3,e)})})},e.prototype.onCancel=function(){},e.prototype.onStarted=function(){this.video=null},e.prototype.incrementBrowserCloseEventsWhileVideoRecording=function(){},e.prototype.storeDataInSessionDirectory=function(){return!0},e.prototype.onSuccess=function(e){},e.prototype.setToolTipForVideoCapture=function(){},e.prototype.sendTelemetryData=function(e){p.publishVideoProperties(e)},e.prototype.handleAlertWindowClose=function(){this.recordTimer<this.videoTimeLimitInSeconds&&-1!==this.alertWindowId&&chrome.windows.remove(this.alertWindowId),this.alertWindowId=-1},e.prototype.createAlertWindow=function(){var e=this;this.alertWindowId=0;var t=225,r=750,o=Math.floor(screen.width?(screen.width-r)/2:0),n=Math.floor(screen.height?(screen.height-t)/2:0);chrome.windows.create({url:this.alertWindowUrl,focused:!0,left:o,top:n,width:r,height:t,type:"popup"},function(t){e.alertWindowId=t.id})},e.prototype.createAudioPermissionWindow=function(){var e=700,t=1e3,r=Math.floor(screen.width?(screen.width-t)/2:0),o=Math.floor(screen.height?(screen.height-e)/2:0);chrome.windows.create({url:this.audioPermissionUrl,focused:!0,left:r,top:o,width:t,height:e},function(e){})},e.prototype.startAutoRefresh=function(){},e.prototype.stopVideoCapture=function(e,t){var r=this,a=this;if(this.clearErrors(),e&&this.onError(null,"Screen recording clip captured for "+i.VideoCaptureConstants.maxVideoLengthInMinutes+":00 minutes and was automatically stopped at "+(new Date).toLocaleString(),1,0,!1),this.stopVideoRequest(),this.mediaRecorder&&"recording"===this.mediaRecorder.state){this.mediaRecorder.stop(),this.storeVideoCaptureId("-1");var s=this.getVideoFormat();s=null===s?"webm":s;var c=new Blob(this.mediaRecorder.chunks,{type:"video/"+s});l.traceVerbose(this.moduleName,4,"Video recording stopped. Size of video "+c.size),this.mediaRecorder.chunks=[],this.handleAlertWindowClose(),this.video?this.video.size=c.size.toString():this.video=new o.Video(c.size.toString(),this.storeDataInSessionDirectory()),this.sendTelemetryInfo(c.size,this.recordTimer),n.PersistentStorageFactory.getStorageService().writeBlob(this.video.id,c,function(e){r.startAutoRefresh(),l.traceVerbose(r.moduleName,5,"Video blob created at "+e),a.mediaRecorder.stream.getTracks().forEach(function(e){return e.stop()});var o=r.generateVideoAttachment(c,e);r.uploadVideo(o).then(function(e){t&&t(),r.onSuccess(e)},function(e){r.onError(null,u.getErrorMessage(e,!1),0,0,!0),l.traceError(r.moduleName,7,e)})},function(e){l.traceError(r.moduleName,6,e),r.onError(null,u.getErrorMessage(e,!1),0,0,!0)},!1,this.storeDataInSessionDirectory())}},e.prototype.sendTelemetryInfo=function(e,t){var r={source:i.TelemetryConstants.XTSource,size:e,durationInSeconds:t};this.sendTelemetryData(r)},e.prototype.isMaxLimitForVideoSizeReached=function(e){return!(this.currentVideoSize+e<=i.VideoCaptureConstants.maxVideoSizeInBytes)},e.prototype.setCurrentVideoSize=function(e){this.currentVideoSize+=e},e.prototype.recordVideoInChunks=function(e,t){e.isMaxLimitForVideoSizeReached(t.data.size)?e.stopVideoCapture(!0,function(){e.cleanUpStorage()}):(e.mediaRecorder.chunks.push(t.data),this.recordTimer+=i.VideoCaptureConstants.captureIntervalInSeconds,e.setToolTipForVideoCapture(),e.setCurrentVideoSize(t.data.size))},e.prototype.setBrowserCloseEventHandler=function(){var e=this,t=this;chrome.windows.onRemoved.addListener(function(r){chrome.windows.getAll(function(r){0===r.length&&-1!==e.getCurrentVideoCaptureId()&&(e.incrementBrowserCloseEventsWhileVideoRecording(),t.stopVideoCapture(!1,function(){t.cleanUpStorage()}))})})},e.prototype.generateVideoAttachment=function(e,t){this.video.size=e.size.toString();var r=a.AttachmentConverter.getAttachment(this.video);return r.localUrl=t,r},e}();t.BaseVideoCaptureService=d;var f=function(){function e(){}return e.prototype.getDefaultSettings=function(){var e={height:i.VideoCaptureConstants.defaultWindowHeight,width:i.VideoCaptureConstants.defaultWindowWidth,frameRate:i.VideoCaptureConstants.minFrameRate};return e},e.prototype.getVgaSettings=function(){var e={height:i.VideoCaptureConstants.vgaWindowHeight,width:i.VideoCaptureConstants.vgaWindowWidth,frameRate:i.VideoCaptureConstants.defaultFrameRate};return e},e.prototype.getMaxSettings=function(){var e={height:screen.height,width:screen.width,frameRate:i.VideoCaptureConstants.maxFrameRate};return e},e}();t.VideoSettingsManager=f});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../Model/VideoCaptureService",["require","exports","../Messaging/ChromeMessaging","../Messaging/Messaging","../Tracing/Tracing","../Common/ExtensionStorage","../Common/Constants","../Model/AttachmentService","../Model/ModelHelper","../Model/Model","../Model/BaseVideoCaptureService","../Model/BrowserHelper"],function(e,t,r,o,n,i,a,s,c,p,u,l){function d(){if(!t.service){i.LocalStorageService.store(i.videosCountKey,0);var e=r.MessagingFactory.getSubscriptionService();t.service=new h,e.subscribe(function(e,r){var o=i.LocalStorageService.retrieve(i.enableAudio),n={height:screen.height,width:screen.width,frameRate:a.VideoCaptureConstants.optimalFrameRate,
enableAudio:o};t.service.startVideoCapture(n)},o.NotificationType.StartVideoCapture),e.subscribe(function(e,r){t.service.stopVideoCapture(!1,r)},o.NotificationType.StopVideoCapture)}}function f(){return g.isChrome()?!0:!1}function m(){return!t.service&&f()&&d(),t.service}var g=l.BrowserHelper,y=(n.TracingService,"VideoCaptureService");t.initializeService=d,t.isAvailable=f,t.getService=m;var h=function(e){function t(){e.call(this,y)}return __extends(t,e),t.prototype.getModuleName=function(){return y},t.prototype.clearErrors=function(){c.ErrorHelper.clearAllErrors(p.ToolbarType.Video)},t.prototype.onError=function(e,t,r,o,n){void 0===o&&(o=0),c.ErrorHelper.saveError({message:t},p.ToolbarType.Video,r,!0,n)},t.prototype.sendTelemetryData=function(t){t&&(t.source=a.TelemetryConstants.XTSource,e.prototype.sendTelemetryData.call(this,t))},t.prototype.isVideoRequestInQueue=function(){return i.LocalStorageService.retrieve(i.activeVideoCaptureRequestPresent)},t.prototype.startVideoRequest=function(){i.LocalStorageService.store(i.activeVideoCaptureRequestPresent,!0)},t.prototype.stopVideoRequest=function(){i.LocalStorageService.store(i.activeVideoCaptureRequestPresent,!1)},t.prototype.storeVideoCaptureId=function(e){i.LocalStorageService.store(i.currentVideoCaptureIdKey,e)},t.prototype.getCurrentVideoCaptureId=function(){return i.LocalStorageService.retrieve(i.currentVideoCaptureIdKey)},t.prototype.incrementBrowserCloseEventsWhileVideoRecording=function(){var e=i.LocalStorageService.retrieve(i.browserCloseEventsWhileVideoRecordingKey);e+=1,i.LocalStorageService.store(i.browserCloseEventsWhileVideoRecordingKey,e)},t.prototype.getVideoFormat=function(){return i.LocalStorageService.retrieve(i.videoFileFormatKey)},t.prototype.cleanUpStorage=function(){i.LocalStorageService.store(i.currentVideoCaptureIdKey,-1),i.LocalStorageService.remove(i.currentVideoCaptureTimeKey),i.LocalStorageService.remove(i.activeVideoCaptureRequestPresent)},t.prototype.setToolTipForVideoCapture=function(){var e=Math.floor(this.recordTimer/60).toString(),t=(this.recordTimer%60).toString();e=1===e.length?"0"+e:e,t=1===t.length?"0"+t:t;var r=e+":"+t+" min";i.LocalStorageService.store(i.currentVideoCaptureTimeKey,r)},t.prototype.startAutoRefresh=function(){r.MessagingFactory.getBroadcastingService().broadcast(o.NotificationType.StartAutoRefresh,{})},t.prototype.uploadVideo=function(e){var t=s.getService();return t.uploadAttachmentAsync(e)},t}(u.BaseVideoCaptureService)}),define("../../Model/SessionService",["require","exports","../Model/SettingsService","../Model/NoteService","../Messaging/Messaging","../Messaging/ChromeMessaging","../Common/ExtensionStorage","../Model/Model","../Telemetry/TfsTelemetryHelper","../Tracing/Tracing","../Model/ActionLogService","../Model/VideoCaptureService","../Model/ModelHelper","../Model/BrowserActionService","../Service/Service","../Service/WorkItemHelper","../Model/WorkitemServiceHelper","../Model/BrowserHelper","../Common/Utility","../Common/Utility"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m,g,y,h,T,I){function v(){if(!_){var e=i.MessagingFactory.getSubscriptionService();_=new V,_.initializeRequiredServices(),e.subscribe(function(){_.loadSession()},n.NotificationType.SessionLoad),e.subscribe(function(e,t){_.startSession(e,function(e){f.getService().setIcon(f.ExtensionIconType.InProgress),t&&t(e)})},b.SessionStart),e.subscribe(_.exportSession,b.ExportSession),e.subscribe(function(e,t){var r={isSuccess:!1};_.updateSessionState(e,function(e){f.getService().setIcon(f.ExtensionIconType.Default),t&&(r.isSuccess=!0,r.data=e,t(r))},function(){t(r)})},n.NotificationType.UpdateSessionState),e.subscribe(function(e,t){var r={isSuccess:!1};_.createOrUpdateFeedbackSessionWithGivenState(e,function(e){t&&(r.isSuccess=!0,r.data=e,t(r))},function(){t(r)})},n.NotificationType.CreateOrUpdateFeedbackSessionWithGivenState),i.MessagingFactory.getSubscriptionService().subscribe(function(e,t){var r=_.getLocalSession();t(r&&r.state===s.SessionState.InProgress?!0:!1)},n.NotificationType.VerifyIfSessionIsRunning_V1),i.MessagingFactory.getSubscriptionService().subscribe(function(e,t){_.provideFeedback(e,t)},n.NotificationType.ProvideFeedback)}}function S(){return _||v(),_}var b=n.NotificationType,C=c.TfsTelemetryHelper,k=h.BrowserHelper,w=g.WorkItemHelper,R=y.WorkItemServiceHelper,A="SessionService",M=p.TracingService;t.initializeService=v,t.getService=S;var _,V=function(){function e(){this._sessionDefaultPrefix="Session - ",this._sessionDirectorySize=209715200}return e.prototype.startSession=function(e,t){var r=this;if(this.isSessionInProgress())M.traceWarning(A,1,"Session is already in progress");else{u.getService().clear();var o=this._createNewSessionObject(s.SessionState.InProgress,e);this._createNewSession(o,function(e){r.onSessionLoaded(e,t)}),this.initializeRequiredServices()}},e.prototype.loadSession=function(){var e=this.getLocalSession();this.initializeRequiredServices(),this.sendSessionUpdateNotification(e)},e.prototype.updateSessionState=function(e,t,r){var o=this.getLocalSession();o&&this._updateSessionWithGivenState(o,e,t,r)},e.prototype.createOrUpdateFeedbackSessionWithGivenState=function(e,t,r){var o=e.session,n=e.state;if(o)this._updateSessionWithGivenState(o,n,t,r);else{var i=e.feedbackId?e.feedbackId:"0",o=this._createNewSessionObject(e.state,{feedbackId:i});this._createNewSession(o,function(e){t&&t(e)}),this.initializeRequiredServices()}},e.prototype.provideFeedback=function(e,t){var r=this;this.getFeedbackSession(e,function(e){if(e)if(f.getService().setIcon(f.ExtensionIconType.InProgress),r.isSessionInProgress()){var o=a.LocalStorageService.retrieve(a.activeSessionKey),n=r.getSessionTargetState(o);r.updateSessionState(n,function(n){r.clearLocalStorage(),r.clearPersistentStorageV1(n),r.clearSessionErrors();var i=r.isSolicitatedFeedbackSession(o);if(i){var a=n.propertyBag.bag[s.TestSessionConstants.feedbackRequestIdString];r._updateFeedbackSessionListInLocalStore(a,n)}r.handleFeedbackSessionUpdates(e,t)},function(){t({isSuccess:!1})})}else r.handleFeedbackSessionUpdates(e,t);else t({isSuccess:!1})},function(e){t({isSuccess:!1})})},e.prototype.getSessionTargetState=function(e){var t=this.isSolicitatedFeedbackSession(e);return t?s.SessionState.Paused:s.SessionState.Completed},e.prototype.isSolicitatedFeedbackSession=function(e){var t=!1;if(e&&e.propertyBag&&e.propertyBag.bag){var r=e.propertyBag.bag[s.TestSessionConstants.feedbackRequestIdString];r&&""!==r&&(t=!0)}return t},e.prototype.getFeedbackSession=function(e,t,o){var n=(r.getService().getClient(),this.getFeedbackRequestListsColumn()),i=this.getLocalSession();i&&i.state===s.SessionState.InProgress||this.initializeRequiredServices(),this._witService.queryFeedbackRequests({columns:n},function(r){if(r){var n=a.LocalStorageService.retrieve(a.searchResultsForFeedbackRequestsKey),i=null;if(n)for(var s=0;s<n.length;s++)if(n[s].id==e){i=n[s];break}t(i)}else o()})},e.prototype.getFeedbackRequestListsColumn=function(){var e=[];return e.push(s.WorkItemField.title),e.push(s.WorkItemField.id),e.push(s.WorkItemField.workItemType),e.push(s.WorkItemField.workItemState),e.push(s.WorkItemField.iterationPath),e.push(s.WorkItemField.createdBy),e.push(s.WorkItemField.createdDate),e},e.prototype.handleFeedbackSessionUpdates=function(e,t){var r=this;if(this.doesFeedbackHaveAssociatedSession(e)){a.LocalStorageService.store(a.activeSessionKey,e.associatedFeedbackSession);var o={isSuccess:!1};this.updateSessionState(s.SessionState.InProgress,function(o){var n=a.LocalStorageService.retrieve(a.selectedFeedbackRequestKey);n.associatedFeedbackSession=o,a.LocalStorageService.store(a.selectedFeedbackRequestKey,n),r._updateFeedbackSessionListInLocalStore(e.id,o),r.updateLinkedWorkitem(e,o),u.getService().clear(),r.initializeRequiredServices(),a.LocalStorageService.store(a.groupingDetails,{workItem:s.ToolbarType.FeedbackResponse}),r.onSessionLoaded(o,t)},function(){t(o)})}else this.startSession({feedbackId:e.id},function(o){var n=o.data;r.updateLinkedWorkitem(e,n),a.LocalStorageService.store(a.activeSessionKey,n),a.LocalStorageService.store(a.groupingDetails,{workItem:s.ToolbarType.FeedbackResponse}),t(o)})},e.prototype.updateLinkedWorkitem=function(e,t){var o=a.LocalStorageService.retrieve(a.selectedFeedbackRequestWorkitemObjectKey);if(o){a.LocalStorageService.store(a.linkedWorkItemKey,o);var n=r.getService().getLocalSettings();e.url=R.getEditableWitUrl(e.id,n),e.timeStamp=new Date;var i=[];i.push(e),t.linkedWorkitems=i}},e.prototype._updateSessionWithGivenState=function(e,t,r,o){var n=this;if(e){var i=this._isGivenSessionActive(e),c=e.state,u=function(){n.checkIfVideoUploadInProgress(e)?(d.ErrorHelper.saveError({message:"Please wait, video upload is in progress"},s.ToolbarType.Session,1),o&&o()):(n.setReadNotesFunction(e),C.publishSessionProperties(e),n.updateSessionStateOnServer(e,t,function(e){i&&(n.updateLocalSession(e),c!==s.SessionState.InProgress&&(n.clearLocalStorage(),n.clearPersistentStorageV1(e),n.clearSessionErrors())),r&&r(e)},function(r){p.TracingService.traceError(A,1,r),n.showForceStopSessionPage(r,e,t)?a.LocalStorageService.store(a.lastUrlKey,"/ForceStopSessionPage"):d.ErrorHelper.saveError(r,s.ToolbarType.Session),o&&o()}))},f=a.LocalStorageService.retrieve(a.currentVideoCaptureIdKey),m={};f&&-1!==f&&i?(m.videoRecordingInProgressOnStopSession=!0,C.addCommonTelemetryPropertiesAndUpload(s.TelemetryEvent.VideoCapture,m),l.getService().stopVideoCapture(!1,u)):u()}},e.prototype.showForceStopSessionPage=function(e,t,r){var o=!1,n=this._isGivenSessionActive(t),i="",c=this.getConnectedServerType();return n&&r===s.SessionState.Completed&&(e.message.includes("502: error")?(o=!0,i="Could not establish connection to "+c+"."):e.message.includes("error occurred while attempting to connect-to the server")?(o=!0,i="Could not establish connection to "+c+"."):e.message.includes("401: error")?(o=!0,i="You do not have sufficient permission on "+c+"."):404===e.status?(o=!0,i="Check if the project/team you are connected-to exists. ",i+="TFS server"==c?"Also check the "+c+" is available, and can be reached.":"Also check the "+c+" URL can be reached."):e.message.includes("Test Artifact")&&e.message.includes("is already updated")&&(o=!0,i=e.message)),o&&a.LocalStorageService.store(a.forceStopSessionReason,i),o},e.prototype.getConnectedServerType=function(){var e=r.getService(),t=e.getLocalSettings(),o="TFS Server";return t&&t.serverbaseUrl&&T.isHostedUrl(t.serverbaseUrl)&&(o=I.BrandingChangesHelper.getConnectedServerTypeForHosted()),o},e.prototype._updateFeedbackSessionListInLocalStore=function(e,t){for(var r=a.LocalStorageService.retrieve(a.searchResultsForFeedbackRequestsKey),o=void 0;o<r.length;o++)if(e===r[o].id){r[o].associatedFeedbackSession=t;break}a.LocalStorageService.store(a.searchResultsForFeedbackRequestsKey,r)},e.prototype._isGivenSessionActive=function(e){var t=!1,r=a.LocalStorageService.retrieve(a.activeSessionKey);return r&&e&&e.id==r.id&&(t=!0),t},e.prototype.doesFeedbackHaveAssociatedSession=function(e){return e.associatedFeedbackSession?!0:!1},e.prototype.exportSession=function(){var e=a.LocalStorageService.retrieve(a.activeSessionKey);if(e){C.publishSessionExport();var t=r.getService().getClient();t.exportSession(e,function(){p.TracingService.traceVerbose(A,15,"Export session succeeded")},function(e){p.TracingService.traceError(A,16,e),d.ErrorHelper.saveError(e,s.ToolbarType.Session)})}},e.prototype.getLocalSession=function(){var e=a.LocalStorageService.retrieve(a.activeSessionKey);return e},e.prototype.updateLocalSession=function(e){r.getService().setConnectedModeType(e.source),a.LocalStorageService.store(a.activeSessionKey,e)},e.prototype.initializeRequiredServices=function(){var e=r.getService().getLocalSettings();this._witService&&this.terminateInitializedServices(),this._witService=m.ServiceFactory.getService(e,m.ServiceType.WorkItemService),this._witService.initialize()},e.prototype.checkIfVideoUploadInProgress=function(e){var t={};if(e.attachments.some(function(e){return e.type===s.AttachmentType.Video&&e.state===s.AttachmentState.ContainerCreated})){var r=e.attachments.filter(function(e){return e.type===s.AttachmentType.Video&&e.state===s.AttachmentState.ContainerCreated}).length;return t.numberOfVideoUploadInProgressOnStopSession=r,C.addCommonTelemetryPropertiesAndUpload(s.TelemetryEvent.VideoCapture,t),!0}return!1},e.prototype.terminateInitializedServices=function(){this._witService&&(this._witService.terminate(),this._witService=null)},e.prototype.clearSessionErrors=function(){d.ErrorHelper.clearAllErrors(s.ToolbarType.Session),d.ErrorHelper.clearAllErrors(s.ToolbarType.ScreenShot),d.ErrorHelper.clearAllErrors(s.ToolbarType.Note),d.ErrorHelper.clearAllErrors(s.ToolbarType.Bug),d.ErrorHelper.clearAllErrors(s.ToolbarType.Bug2),d.ErrorHelper.clearAllErrors(s.ToolbarType.TimeLine),d.ErrorHelper.clearAllErrors(s.ToolbarType.MobileXt),d.ErrorHelper.clearAllErrors(s.ToolbarType.Traceability),d.ErrorHelper.clearAllErrors(s.ToolbarType.Video)},e.prototype.setAttachmentCounters=function(){a.LocalStorageService.store(a.notesCountKey,0),a.LocalStorageService.store(a.videosCountKey,0),a.LocalStorageService.store(a.activeVideoCaptureRequestPresent,!1),a.LocalStorageService.store(a.videoFileFormatKey,"webm"),a.LocalStorageService.store(a.browserCloseEventsWhileVideoRecordingKey,0),a.LocalStorageService.store(a.browserCloseEventsWhileVideoUploadingKey,0),a.LocalStorageService.store(a.screenshotsCountKey,0),a.LocalStorageService.store(a.similarBugsKey,[]),a.LocalStorageService.store(a.perfDataNextIndex,0),a.LocalStorageService.store(a.perfAttachmentCountKey,0)},e.prototype.initializeMobileXtSettings=function(){a.LocalStorageService.store(a.deviceListLocalStorageKey,[]),a.LocalStorageService.store(a.mobileXtUrlKey,""),a.LocalStorageService.store(a.mobileXtUsernameKey,"")},e.prototype.isSessionInProgress=function(){var e=this.getLocalSession();return e&&e.state===s.SessionState.InProgress},e.prototype._createNewSession=function(e,t){this.createSessionOnServer(e,t);var o=r.getService().getLocalSettings();this.updateSettingsAreaAndIteration(o)},e.prototype._createNewSessionObject=function(e,t){var r={sessionName:this.generateSessionName(),workItems:[],attachments:[],state:e,version:2};if(r.source=this.getCreateSessionSource(),t&&t.feedbackId){var o={};o[s.TestSessionConstants.feedbackRequestIdString]=t.feedbackId,r.propertyBag={bag:o}}return r},e.prototype.getCreateSessionSource=function(){var e=s.TestSessionSource.XTWeb,t=r.getService();return t.isStakeHolderMode()&&(e=s.TestSessionSource.FeedbackWeb),e},e.prototype.sendSessionUpdateNotification=function(e){i.MessagingFactory.getBroadcastingService().broadcast(n.NotificationType.SessionUpdate,e)},e.prototype.clearScreenshots=function(){a.LocalStorageService.remove(a.activeScreenShotAndWindowIdMap)},e.prototype.clearActionLogData=function(){a.LocalStorageService.remove(a.actionLogUrlKey)},e.prototype.clearOfflineReport=function(){a.LocalStorageService.remove(a.offlineReport)},e.prototype.clearAttachmentMetaDataFromLocalStorage=function(){a.LocalStorageService.remove(a.notesCountKey),a.LocalStorageService.remove(a.videosCountKey),a.LocalStorageService.remove(a.currentVideoCaptureIdKey),a.LocalStorageService.remove(a.currentVideoCaptureTimeKey),a.LocalStorageService.remove(a.videoFileFormatKey),a.LocalStorageService.remove(a.browserCloseEventsWhileVideoRecordingKey),a.LocalStorageService.remove(a.browserCloseEventsWhileVideoUploadingKey),a.LocalStorageService.remove(a.activeVideoCaptureRequestPresent),a.LocalStorageService.remove(a.screenshotsCountKey)},e.prototype.generateSessionName=function(){var e=new Date,t=new String(this._sessionDefaultPrefix).concat(e.toLocaleString());return t},e.prototype.createSessionOnServer=function(e,t){var o=this,n=r.getService().getClient();n.createSession(e,function(r){o.attachSessionToExploredFeedback(e,r),t&&t(r)},function(e){M.traceError(A,1,"Session failed with error:"+e.statusText),d.ErrorHelper.saveError(e,s.ToolbarType.Session)})},e.prototype.onSessionLoaded=function(e,t){if(this.updateLocalSession(e),this.setAttachmentCounters(),this.initializeMobileXtSettings(),this.clearOfflineReport(),this.configureSessionPersistentStorage(),t){var r={isSuccess:!0,data:e};t(r)}d.ErrorHelper.clearAllErrors(s.ToolbarType.Session)},e.prototype.attachSessionToExploredFeedback=function(e,t){var r=a.LocalStorageService.retrieve(a.selectedFeedbackRequestKey);e.propertyBag&&r&&e.propertyBag.bag[s.TestSessionConstants.feedbackRequestIdString]==r.id&&(r.associatedFeedbackSession=t,a.LocalStorageService.store(a.selectedFeedbackRequestKey,r))},e.prototype.updateSettingsAreaAndIteration=function(e){var t=r.getService().getClient();t.updateSettingsAreaAndIteration(e,function(e,t){return t?(M.traceWarning(A,11,"Fetch Settings failed with error "+t.statusText),void d.ErrorHelper.saveError(t,s.ToolbarType.Session)):void a.LocalStorageService.store(a.activeSettingsKey,e)})},e.prototype.configureSessionPersistentStorage=function(){var e=this;a.PersistentStorageFactory.getStorageService().removeDirectory(k.getSessionStorageDirectoryName(),this._sessionDirectorySize,function(){p.TracingService.traceVerbose(A,11,"Session directory deleted"),e.createSessionDirectory()},function(e){p.TracingService.traceError(A,12,e)})},e.prototype.createSessionDirectory=function(){a.PersistentStorageFactory.getStorageService().createDirectory(k.getSessionStorageDirectoryName(),this._sessionDirectorySize,function(e){p.TracingService.traceVerbose(A,7,"Directory created "+e)},function(e){p.TracingService.traceError(A,8,e),d.ErrorHelper.saveError(e,s.ToolbarType.Session)})},e.prototype.updateSessionStateOnServer=function(e,t,o,n){var i=r.getService().getClient();i.updateSessionState(e,t,o,n)},e.prototype.clearLocalStorage=function(){this.clearScreenshots(),this.clearActionLogData(),this.clearAttachmentMetaDataFromLocalStorage(),this.clearMobileXtData(),this.clearTraceablityData(),this.clearSessionWorkItemsData(),this.clearTelemetry(),this.clearVideoData(),this.clearCompatFlags()},e.prototype.clearCompatFlags=function(){a.LocalStorageService.remove(a.useSoapApiForUpgradeKey),a.LocalStorageService.remove(a.useSoapApiFprUpgradeKey)},e.prototype.clearTelemetry=function(){a.LocalStorageService.remove(a.actionLogFullImageSizeInBytes)},e.prototype.clearTraceablityData=function(){a.LocalStorageService.remove(a.searchResultsForTraceabilityKey),a.LocalStorageService.remove(a.linkedWorkItemKey),a.LocalStorageService.remove(a.workItemQueryPatternForTraceabilityKey),a.LocalStorageService.remove(a.traceabilityEnabledKey),a.LocalStorageService.remove(a.notifyTimelineForTraceabilityKey),a.LocalStorageService.remove(a.traceabilityRequestKey),a.LocalStorageService.remove(a.lastSearchedQueryPatternKey),a.LocalStorageService.remove(a.workItemSearchInProgressKey),i.MessagingFactory.getBroadcastingService().broadcast(n.NotificationType.ClearTraceabilityData,{})},e.prototype.clearSessionWorkItemsData=function(){a.LocalStorageService.remove(a.isBugSelectedForUpdateKey),a.LocalStorageService.remove(a.selectedBugKey),a.LocalStorageService.remove(a.similarBugsKey),w._removeDirtyBugFromLocalStorage(),w._removeDirtyTaskFromLocalStorage(),w._removeDirtyTestCaseFromLocalStorage(),w._removeDirtyFeedbackResponseFromLocalStorage()},e.prototype.clearMobileXtData=function(){a.LocalStorageService.remove(a.deviceListLocalStorageKey),a.LocalStorageService.remove(a.mobileXtUrlKey),a.LocalStorageService.remove(a.mobileXtUsernameKey)},e.prototype.clearVideoData=function(){a.LocalStorageService.store(a.activeVideoCaptureRequestPresent,null),a.LocalStorageService.store(a.currentVideoCaptureIdKey,null),a.LocalStorageService.store(a.currentVideoCaptureTimeKey,null)},e.prototype.clearPersistentStorageV1=function(e){1===e.version&&a.PersistentStorageFactory.getStorageService().removeDirectory(e.id,this._sessionDirectorySize,function(){p.TracingService.traceVerbose(A,9,"Session directory "+e.id+"deleted")},function(e){p.TracingService.traceError(A,10,e)})},e.prototype.setReadNotesFunction=function(e){e.attachments.some(function(e){return e.type===s.AttachmentType.Note})?e.getNotes=function(e){a.PersistentStorageFactory.getStorageService().getBlob(o.sessionNoteFileName,function(t){var r=new FileReader;r.onloadend=function(t){e(r.result)},r.readAsText(t)},function(e){p.TracingService.traceError(A,2,e),d.ErrorHelper.saveError(e,s.ToolbarType.Session)})}:e.getNotes=function(e){e("")}},e}()}),define("../../Model/TraceabilityService",["require","exports","../Common/ExtensionStorage","../Tracing/Tracing","../Model/BrowserActionService","../Messaging/Messaging","../Messaging/ChromeMessaging","../Model/Model","../Model/SessionService","../Model/SettingsService","../Model/ModelHelper","../Telemetry/TfsTelemetryHelper"],function(e,t,r,o,n,i,a,s,c,p,u,l){function d(){var e=n.getService(),t=!0;r.LocalStorageService.store(r.iconBlinkKey,!0);var o=window.setInterval(function(){var n=e.getCurrentIconState(),i=r.LocalStorageService.retrieve(r.iconBlinkKey);return i?(t?e.setIcon(n):e.setIcon(T.Empty),void(t=!t)):(e.setIcon(n),void window.clearInterval(o))},500)}function f(){t.service||(t.service=new C,a.MessagingFactory.getSubscriptionService().subscribe(function(e,r){t.service.registerWorkItemForTracing(e,r)},i.NotificationType.StartTraceability),a.MessagingFactory.getSubscriptionService().subscribe(function(e,r){t.service.deregisterWorkItemForTracing(e,r)},i.NotificationType.StopTraceability),a.MessagingFactory.getSubscriptionService().subscribe(function(e,t){var r=c.getService().getLocalSession(),o=p.getService().getLocalSettings();t(r&&r.state===s.SessionState.InProgress&&o&&o.offlineMode?!0:!1)},i.NotificationType.VerifyIfOfflineSessionRunning))}function m(){return t.service||f(),t.service}function g(e,t){var r=e.url+e.project+"/"+e.team;return r.toLowerCase()===t.toLowerCase()?!0:(r=e.serverbaseUrl+e.project+"/"+e.team,r.toLowerCase()===t.toLowerCase())}function y(e){if(t.service.isTraceabilityEnabled()){var o=r.LocalStorageService.retrieve(r.linkedWorkItemKey).fields[s.WorkItemField.id],n=r.LocalStorageService.retrieve(r.linkedWorkItemKey).fields[s.WorkItemField.workItemType];if(o!==e.fields[s.WorkItemField.id]){var i="Cannot explore "+e.fields[s.WorkItemField.workItemType]+" "+e.fields[s.WorkItemField.id]+" since "+n+" "+o+" is already associated with this session. Click on Change to stop exploring "+n+" "+o+".";u.ErrorHelper.clearAllErrors(s.ToolbarType.Traceability),u.ErrorHelper.saveError({message:i},s.ToolbarType.Traceability)}return!0}return!1}function h(e,t){if(g(p.getService().getLocalSettings(),t))return!1;var r="Cannot explore "+e.fields[s.WorkItemField.workItemType]+" "+e.fields[s.WorkItemField.id]+". Ensure your exploratory session connection details (account, project, team) match with the work item you are trying to explore.";return u.ErrorHelper.clearAllErrors(s.ToolbarType.Traceability),u.ErrorHelper.saveError({message:r},s.ToolbarType.Traceability),!0}var T=n.ExtensionIconType,I=s.WorkItemField,v="TraceabilityService",S=o.TracingService,b=l.TfsTelemetryHelper;t.startBlinkingIcon=d,t.initializeService=f,t.getService=m;var C=function(){function e(){}return e.prototype.isTraceabilityEnabled=function(){return r.LocalStorageService.retrieve(r.traceabilityEnabledKey)},e.prototype.registerWorkItemForTracing=function(e,t){var o=e.workItem,n=e.tfsTeamPath,i=c.getService().getLocalSession(),a=p.getService();if(i&&i.state===s.SessionState.InProgress)if(b.publishTraceabilityTelemetry(o.fields[I.workItemType],"TWA"),a.isTeamMode())y(o)||h(o,n)||(r.LocalStorageService.store(r.traceabilityEnabledKey,!0),o[s.WorkItemField.startTime]=new Date,r.LocalStorageService.store(r.linkedWorkItemKey,o),r.LocalStorageService.store(r.notifyTimelineForTraceabilityKey,!0),S.traceVerbose(v,1,"traceabelity started for workitemType "+o.fields[I.workItemType]+" workitemId "+o.fields[I.id])),r.LocalStorageService.store(r.lastUrlKey,"/Traceability");else{var l=o.fields[s.WorkItemField.workItemType]+" "+o.fields[s.WorkItemField.id]+" can be explored when exploratory session is created in Connected mode";u.ErrorHelper.clearAllErrors(s.ToolbarType.Traceability),u.ErrorHelper.saveError({message:l},s.ToolbarType.Settings),r.LocalStorageService.store(r.lastUrlKey,"/SignIn")}else r.LocalStorageService.store(r.lastUrlKey,"/SignIn"),r.LocalStorageService.store(r.traceabilityRequestKey,e);d(),t&&t()},e.prototype.deregisterWorkItemForTracing=function(e,t){var r=c.getService().getLocalSession();e.endTime=new Date;var o=p.getService().getClient();o.associateLinkedWorkItemWithSession(r,e,function(){t&&t(!0)},function(){t&&t(!1)})},e}()}),define("../../Storage/OfflineStorageClient",["require","exports","../Common/ExtensionStorage","../Model/Model","../Tracing/Tracing","../Common/Constants"],function(e,t,r,o,n,i){var a=o.SessionState,s=n.TracingService,c=function(){function e(){this.sessionIdStorageKey="offlineSessionId",this.workItemIdStorageKey="offlineWorkItemId",this.attachmentIdStorageKey="offlineAttachmentId",this.reportDirectorySize=209715200,this.moduleName="OfflineStorageClient"}return e.prototype.getWorkItemColors=function(){var e=Q.defer(),t=[];return t.push({workItemType:o.WorkItemType.bug,color:i.WorkItemConstants.defaultWorkItemColor}),e.resolve(t),e.promise},e.prototype.getWorkItemTypeCategories=function(){var e=Q.defer(),t=[];return t.push({defaultWorkItemType:{name:o.WorkItemType.bug},referenceName:o.WorkItemCategories.BugCategory,workItemTypes:[]}),e.resolve(t),e.promise},e.prototype.createWorkItem=function(e,t,r,o){e.id=this.getIdForStorageKey(this.workItemIdStorageKey),r(e)},e.prototype.updateWorkItem=function(e,t,r,o){},e.prototype.getConnectedUserDetails=function(){return Q.Promise(function(e){})},e.prototype.queryWorkItemsByDescription=function(e,t,r,o){},e.prototype.getUserFeedbackSessions=function(e,t){},e.prototype.uploadFile=function(e){return Q.Promise(function(e){})},e.prototype.createSession=function(e,t,r){this.resetOfflineStorageIds(),e.id=this.getIdForStorageKey(this.sessionIdStorageKey),e.createdTime=new Date,t(e)},e.prototype.associateWorkItemWithSession=function(e,t,r,o){r()},e.prototype.associateLinkedWorkItemWithSession=function(e,t,r,o){r()},e.prototype.createSessionAttachmentContainer=function(e,t,r,o){t.id=this.getIdForStorageKey(this.attachmentIdStorageKey),t.webUrl=t.localUrl,r(t)},e.prototype.createRunAttachmentContainer=function(e,t,r,o){r(t)},e.prototype.updateSessionState=function(e,t,r,o){e.state=t,t===a.Completed&&(s.traceVerbose(this.moduleName,1,"Generating session report"),this.generateSessionReport(e),s.traceVerbose(this.moduleName,2,"Resetting offline storage counters")),r(e)},e.prototype.exportSession=function(e,t,r){s.traceVerbose(this.moduleName,8,"Generating session report"),this.generateSessionReport(e),t()},e.prototype.uploadRunAttachment=function(e,t,r,o){r&&r(t)},e.prototype.uploadAttachment=function(e,t,r,o){r&&r(t)},e.prototype.uploadTestResultAttachmentAsync=function(e,t){var r=Q.defer();return r.resolve(t),r.promise},e.prototype.updateSettingsAreaAndIteration=function(e,t){t(e)},e.prototype.queryWorkItemsByTitle=function(e,t,r,o){},e.prototype.queryWorkItemsById=function(e,t,r,o){},e.prototype.getWorkItemLinks=function(e,t,r){},e.prototype.createTestCase=function(e,t,r,o){s.traceError(this.moduleName,6,"Should not enter create TestCase in offline storage.")},e.prototype.createFeedbackResponse=function(e,t,r,o){s.traceError(this.moduleName,7,"Should not enter create feedback response in offline storage.")},e.prototype.generateSessionReport=function(e){r.LocalStorageService.store(r.offlineReport,e),chrome.windows.create({url:chrome.extension.getURL("SessionReport/SessionReport.html")},function(e){})},e.prototype.getIdForStorageKey=function(e){var t=r.LocalStorageService.retrieve(e);return t?t++:t=1,r.LocalStorageService.store(e,t),t.toString()},e.prototype.resetOfflineStorageIds=function(){r.LocalStorageService.store(this.sessionIdStorageKey,0),r.LocalStorageService.store(this.workItemIdStorageKey,0),r.LocalStorageService.store(this.attachmentIdStorageKey,0)},e}();t.OfflineStorageClient=c}),define("../../Storage/Storage",["require","exports","../TfsClient/TfsStore","../Storage/OfflineStorageClient","../Model/SettingsService"],function(e,t,r,o,n){var i=r.TfsClient,a=function(){function e(){}return e.getStorageClient=function(e){return n.isOfflineMode(e)?(this.offlineStorageClient||(this.offlineStorageClient=new o.OfflineStorageClient),this.offlineStorageClient):(this.tfsClient||(this.tfsClient=new i(e.url,e.project,e.teamDetails.name)),this.tfsClient)},e.resetStorageClient=function(){this.tfsClient=null},e}();t.StorageClientFactory=a}),define("../../Model/SettingsService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../Common/ExtensionStorage","../Model/SessionService","../Common/Types","../Common/Constants","../Model/Model","../Model/ModelHelper","../Model/TraceabilityService","../Storage/Storage","../Common/FeatureAvailabiliy","../Tracing/Tracing","../TfsClient/TfsStore","../Common/Utility","../Model/WorkItemServiceHelper","../Model/BrowserActionService"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m,g,y,h){function T(){if(!t.service){var e=o.MessagingFactory.getSubscriptionService();t.service=new k,e.subscribe(function(e,r){t.service.updateLocalSettings(e),t.service.updateWorkItemTypeCache(),t.service.setConnectedModeTypeAsync(e).then(function(){r&&r()})},r.NotificationType.SaveSettings),e.subscribe(function(e,r){r(),u.startBlinkingIcon();var o=i.getService(),n=o.getLocalSession();n&&n.state===c.SessionState.InProgress||t.service.initializeXTforFeedbackRequest(e)},r.NotificationType.ConfigureXtForFeedbackRequest_V1);var a=n.LocalStorageService.retrieve(n.activeSettingsKey);a||(a={offlineMode:!1},n.LocalStorageService.store(n.activeSettingsKey,a))}}function I(){return t.service||T(),t.service}function v(e){return!e||e.offlineMode?!0:!1}var S=l.StorageClientFactory,b=f.TracingService,C="SettingService";t.initializeService=T,t.getService=I,t.isOfflineMode=v;var k=function(){function e(){}return e.prototype.getLocalSettings=function(){return n.LocalStorageService.retrieve(n.activeSettingsKey)},e.prototype.getLocalSettingsOrExploringWorkitemSettings=function(){var e=n.LocalStorageService.retrieve(n.activeSettingsKey),t=null;return n.LocalStorageService.retrieve(n.traceabilityEnabledKey)?t=n.LocalStorageService.retrieve(n.linkedWorkItemKey):n.LocalStorageService.retrieve(n.selectedFeedbackRequestKey)&&(t=n.LocalStorageService.retrieve(n.selectedFeedbackRequestWorkitemObjectKey)),t&&(e.areaPath=t.fields[c.WorkItemField.areaPath],e.iterationPath=t.fields[c.WorkItemField.iterationPath]),e},e.prototype.updateWorkItemTypeCache=function(){var e=this,t=this.getClient(),r={},o={};t.getWorkItemTypeCategories().then(function(i){i.forEach(function(t){if(t.referenceName!==c.WorkItemCategories.HiddenCategory){var n=e._getDefaultColor(t.referenceName);o[t.referenceName]={defaultWorkItemType:t.defaultWorkItemType.name},t.workItemTypes.forEach(function(e){r[e.name]={category:t.referenceName,color:n}})}}),b.traceInfo(C,1," Store workItemTypeMetaDataCache: "+r),b.traceInfo(C,2,"Store workItemCategoryMetaDataCache: "+o),n.LocalStorageService.store(n.workItemCategoryMetaDataCache,o),n.LocalStorageService.store(n.workItemTypeMetaDataCache,r),t.getWorkItemColors().then(function(e){e.forEach(function(e){r[e.workItemType]&&(r[e.workItemType].color=e.color)}),b.traceInfo(C,3,"Update workItemTypeMetaDataCache: with color info"+r),n.LocalStorageService.store(n.workItemTypeMetaDataCache,r)},function(e){e&&404!=e.status&&p.ErrorHelper.saveError(e,c.ToolbarType.Settings),f.TracingService.traceError(C,3,e)})},function(e){f.TracingService.traceError(C,4,e),p.ErrorHelper.saveError(e,c.ToolbarType.Settings)})},e.prototype.updateLocalSettings=function(e){if(e){e.url=e.url.trim(),e.project=e.project.trim(),a.endsWith(e.url,"/")||(e.url=e.url.concat("/")),n.LocalStorageService.store(n.activeSettingsKey,e);
var t={attachments:[],workItems:[],state:c.SessionState.None,sessionName:""};i.getService().updateLocalSession(t),o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.SessionUpdate,t)}S.resetStorageClient()},e.prototype.initializeXTforFeedbackRequest=function(e){var t=this;if(e){f.TracingService.traceInfo(C,9,"Configure settings for feedback email flow");var r=g.getTfsUrl(e.serverUrl,e.collectionName),o=m.TfsConnectionStoreFactory.getConnectionStore(r);o.getTeamAreaPathValues(e.collectionName,e.projectName,e.teamName,function(r,n){o.getTeamIterationPath(e.collectionName,e.projectName,e.teamName,function(o){var i=t._getSettingsFromConfigureXtSettings(e,r,n,o);t.setConnectedModeTypeAsync(i).then(function(){t._createAndUpdateLocalSettings(i,e),t._configureTraceabilityIfTeamMode(e)})},function(e){p.ErrorHelper.saveError(e,c.ToolbarType.Settings,0),f.TracingService.traceError(C,5," Error in getting Team default iteration path ")})},function(e){p.ErrorHelper.saveError(e,c.ToolbarType.Settings,0),f.TracingService.traceError(C,6," Error in getting Team default area path ")})}},e.prototype.getClient=function(){var e=n.LocalStorageService.retrieve(n.activeSettingsKey);return S.getStorageClient(e)},e.prototype.isStakeHolderMode=function(){return d.FeatureAvailibilityService.isFeatureEnabled(d.FeatureFlag.StakeholderMode)&&this.isConnectedMode()&&n.LocalStorageService.retrieve(n.connectedModeKey)===s.ConnectionOptionConstants.stakeholderMode?!0:!1},e.prototype.isTeamMode=function(){if(this.isConnectedMode()){var e=n.LocalStorageService.retrieve(n.connectedModeKey);if(!e||e===s.ConnectionOptionConstants.teamMode)return!0}return!1},e.prototype.setConnectedModeType=function(e){switch(e){case c.TestSessionSource.FeedbackWeb:n.LocalStorageService.store(n.connectedModeKey,s.ConnectionOptionConstants.stakeholderMode);break;case c.TestSessionSource.XTWeb:n.LocalStorageService.store(n.connectedModeKey,s.ConnectionOptionConstants.teamMode)}},e.prototype.setConnectedModeTypeAsync=function(e){var t=this,r=Q.defer(),o=m.TfsConnectionStoreFactory.getConnectionStore(e.serverbaseUrl);return o.isConnectedUserStakeholder(e.collection,e.project,e.team).then(function(e){e?(t.setConnectedModeType(c.TestSessionSource.FeedbackWeb),f.TracingService.traceInfo(C,10,"Configured stakeholder Mode ")):(t.setConnectedModeType(c.TestSessionSource.XTWeb),f.TracingService.traceInfo(C,11,"Configured Team Mode ")),r.resolve(null)}),r.promise},e.prototype._configureTraceabilityIfTeamMode=function(e){if(this.isTeamMode()){f.TracingService.traceInfo(C,12,"Team mode in feedback email flow hence configuring traceability");var t=g.getTfsUrl(e.serverUrl,e.collectionName),r=this.getClient();f.TracingService.traceInfo(C,13,"Fetching the workItem Parent link for feedback"),r.getWorkItemLinks(parseInt(e.feedbackId),function(o){var a=y.WorkItemServiceHelper.parseLinksAndGetParent(o.relations),s=y.WorkItemServiceHelper.getWorkItemIdFromUrl(a),p=[];p.push(c.WorkItemField.title),p.push(c.WorkItemField.id),p.push(c.WorkItemField.workItemType),p.push(c.WorkItemField.assignedTo),p.push(c.WorkItemField.iterationPath),p.push(c.WorkItemField.areaPath),p.push(c.WorkItemField.acceptanceCriteria),p.push(c.WorkItemField.description),f.TracingService.traceInfo(C,14,"Fetching parent workItem for the feedback"),r.queryWorkItemsById(p,[s],function(r){var o=t+e.projectName+"/"+e.teamName,a={workItem:r[0],tfsTeamPath:o};n.LocalStorageService.store(n.traceabilityRequestKey,a),f.TracingService.traceInfo(C,15,"Configured traceability in feedback email flow"),f.TracingService.traceInfo(C,16,"Auto starting the session for traceability in feedback email flow"),i.getService().startSession(null,function(){h.getService().setIcon(h.ExtensionIconType.InProgress),f.TracingService.traceInfo(C,17,"Post Start of session applying traceability in feedback email flow"),u.getService().registerWorkItemForTracing(a,function(){f.TracingService.traceInfo(C,18,"Opening traceability Page post start of session in feedback email flow "),n.LocalStorageService.store(n.lastUrlKey,"/Traceability")})})})})}},e.prototype._getSettingsFromConfigureXtSettings=function(e,t,r,o){var n=g.getTfsUrl(e.serverUrl,e.collectionName),i=g.getCollectionUrl(n,e.collectionName),a={name:e.collectionName},s={name:e.projectName},c={name:e.teamName},p={serverbaseUrl:n,url:i,collection:a.name,project:s.name,team:c.name,areaPath:t,areaPaths:r,iterationPath:o,teamDetails:c,collectionDetails:a,projectDetails:s,offlineMode:!1};return p},e.prototype.isConnectedMode=function(){var e=n.LocalStorageService.retrieve(n.connectionOptionKey);return e&&e!==s.ConnectionOptionConstants.connectedMode?!1:!0},e.prototype._createAndUpdateLocalSettings=function(e,t){this._updateSignedInInfoInLocalStore(e.serverbaseUrl),this.updateLocalSettings(e),this.updateWorkItemTypeCache(),n.LocalStorageService.store(n.connectionOptionKey,s.ConnectionOptionConstants.connectedMode),this.isStakeHolderMode()&&(this._setDefaultPage(t.feedbackId,"/FeedbackRequestDetail"),n.LocalStorageService.store(n.isProvideFeedbackInitiatedFromWeb,!0))},e.prototype._updateSignedInInfoInLocalStore=function(e){n.LocalStorageService.store(n.loggedInKey,!0),n.LocalStorageService.store(n.basicConnectionSettingsKey,e),n.LocalStorageService.store(n.changeTeamDetailsKey,!1)},e.prototype._setDefaultPage=function(e,t){var r={id:e,title:""};n.LocalStorageService.store(n.selectedFeedbackRequestKey,r),n.LocalStorageService.store(n.lastUrlKey,t)},e.prototype._getDefaultColor=function(e){var t=s.WorkItemConstants.defaultWorkItemColor;return s.WorkItemConstants.defaultWorkItemCategoryColorMap[e]&&(t=s.WorkItemConstants.defaultWorkItemCategoryColorMap[e]),t},e}()}),define("../../Model/AttachmentService",["require","exports","../Model/SettingsService","../Model/Model","../Model/SessionService","../Common/ExtensionStorage","../Model/ModelHelper","../Tracing/Tracing","../TfsClient/TfsStore","../Common/Constants"],function(e,t,r,o,n,i,a,s,c,p){function u(){t.service||(t.service=new y)}function l(){return t.service||u(),t.service}var d=o.AttachmentState,f=c.TfsClient,m=s.TracingService,g="AttachmentService";t.initializeService=u,t.getService=l;var y=function(){function e(){this.queueUploadOfPendingAttachments()}return e.prototype.addPerfAttachment=function(e){var t=n.getService().getLocalSession();if(e.type===o.AttachmentType.PerfData){t.perfAttachments||(t.perfAttachments=[]);var r=i.LocalStorageService.retrieve(i.perfDataNextIndex)||0,a=i.LocalStorageService.retrieve(i.perfDataMaxRecords)||p.PerfDataConstants.maxRecords;e.id=r.toString(),e.localId=r.toString(),r>=t.perfAttachments.length?t.perfAttachments.push(e):t.perfAttachments[r]=e,r=(r+1)%a,i.LocalStorageService.store(i.perfDataNextIndex,r),n.getService().updateLocalSession(t)}},e.prototype.uploadPerfAttachmentAsync=function(e){var t=Q.defer(),r=n.getService().getLocalSession();if(r&&r.perfAttachments&&r.perfAttachments.length>e){var o=r.perfAttachments[e];o.state!==d.Uploaded?(o.getContent=a.AttachmentConverter.getContentFunction(r.perfAttachments[e].url),this.uploadPerfAttachment(o,function(r){var o=n.getService().getLocalSession();o.perfAttachments[e]=r,n.getService().updateLocalSession(o),t.resolve(e)},function(e){t.reject(e)})):t.resolve(null)}else t.resolve(null);return t.promise},e.prototype.uploadAttachment=function(e,t,i){var a=n.getService().getLocalSession(),s=r.getService().getClient();s.createSessionAttachmentContainer(a,e,function(e){e.state=o.AttachmentState.ContainerCreated,a=h.updateAttachmentInLocalStorage(e),s.uploadAttachment(a,e,function(e){e.state=o.AttachmentState.Uploaded,a=h.updateAttachmentInLocalStorage(e)},function(t){e.state=o.AttachmentState.Failed,a=h.updateAttachmentInLocalStorage(e),i(t)}),t(e)},function(t){e.state=o.AttachmentState.Failed,a=h.updateAttachmentInLocalStorage(e),i(t)})},e.prototype.createRunAttachmentContainer=function(e,t,r){var o=this.getClient(e.url,e.projectName,e.teamName),n=Q.defer();return o.createRunAttachmentContainer(t,r,n.resolve,n.reject),n.promise},e.prototype.uploadRunAttachment=function(e,t,r){var o=this.getClient(e.url,e.projectName,e.teamName),n=Q.defer();return o.uploadRunAttachment(t,r,n.resolve,n.reject),n.promise},e.prototype.uploadTestResultAttachmentAsync=function(e,t,r){var o=this.getClient(e.url,e.projectName,e.teamName);return o.uploadTestResultAttachmentAsync(t,r)},e.prototype.uploadAttachmentAsync=function(e){var t=Q.defer();return this.uploadAttachment(e,t.resolve,t.reject),t.promise},e.prototype.uploadInlineImage=function(e,t,o){var i=n.getService().getLocalSession(),a=r.getService().getClient();a.createSessionAttachmentContainer(i,e,function(r){r.localUrl=e.localUrl,t(r),a.uploadAttachment(i,r)},o)},e.prototype.uploadWorkItemAttachment=function(e,t){var o=r.getService().getClient();return o.uploadFile(e,t)},e.prototype.uploadPerfAttachment=function(e,t,a){var s=n.getService().getLocalSession(),c=r.getService().getClient();c.createSessionAttachmentContainer(s,e,function(e){e.state=o.AttachmentState.ContainerCreated,c.uploadAttachment(s,e,function(e){e.state=o.AttachmentState.Uploaded,t(e);var r=i.LocalStorageService.retrieve(i.perfAttachmentCountKey)||0;r++,i.LocalStorageService.store(i.perfAttachmentCountKey,r)},function(t){e.state=o.AttachmentState.Failed,a(t)})},function(t){e.state=o.AttachmentState.Failed,a(t)})},e.prototype.getClient=function(e,t,r){return new f(e,t,r)},e.prototype.queueUploadOfPendingAttachments=function(){var e=this,t=n.getService().getLocalSession();t&&t.attachments&&t.attachments.forEach(function(t){t.type===o.AttachmentType.Video&&t.state===o.AttachmentState.ContainerCreated&&e.uploadAttachmentAsync(t)["catch"](function(e){a.ErrorHelper.saveError(e,o.ToolbarType.Video,0),m.traceError(g,1,e)});var r=i.LocalStorageService.retrieve(i.browserCloseEventsWhileVideoUploadingKey);r+=1,i.LocalStorageService.store(i.browserCloseEventsWhileVideoUploadingKey,r)})},e}(),h=function(){function e(){}return e.updateAttachmentInLocalStorage=function(e){var t=n.getService().getLocalSession(),r=-1;return t&&(e.state!==d.Created&&t.attachments&&t.attachments.some(function(t,o){return t.url===e.url?(r=o,!0):!1}),-1===r?t.attachments.push(e):t.attachments[r]=e,n.getService().updateLocalSession(t)),t},e}();t.AttachmentServiceHelper=h});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../ChromeDataCollectors/ScreenshotCollector",["require","exports","../Common/DataCollectors","../Common/SessionData","../Common/Types","../Model/Model","../Model/BrowserHelper"],function(e,t,r,o,n,i,a){function s(){return a.BrowserHelper.isEdge()?p:c}var c=function(){function e(){this._type=r.DataCollectorTypes.screenshot}return e.prototype.isAvailable=function(){return!0},e.prototype.capture=function(e,t){var r=this;chrome.tabs.captureVisibleTab(this._windowId,{},function(a){if(!a){var s={errorMessage:"Window not found",id:i.ErrorCode.WINDOW_NOT_FOUND};return void t(s)}var c={currentWindow:!0,active:!0};void 0!==r._windowId&&null!==r._windowId&&r._windowId>=0&&(c={windowId:r._windowId,active:!0}),chrome.tabs.query(c,function(t){if(t&&t.length>0){var i=t[0];chrome.windows.get(i.windowId,function(t){var s=new o.Screenshot(n.newGuid(),a,t.state,null,r.isXTSessionContext,o.chromeApiType.chromeScreenCapture);s.setPosition(t.top,t.left),s.setDimension(t.width,t.height),s.source=i.url,e&&e(s)})}})})},e.prototype.getType=function(){return this._type},e.prototype.setWindowId=function(e){this._windowId=e},e.prototype.setSessionContext=function(e){this.isXTSessionContext=e},e}();t.ChromeScreenCapture=c;var p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.capture=function(t,r){var o=this;chrome.windows.getCurrent(function(n){o._windowId||(o._windowId=n.id),e.prototype.capture.call(o,t,r)})},t}(c);t.EdgeScreenCapture=p,t.GetCollector=s}),define("../../Model/WindowHelper",["require","exports"],function(e,t){var r=function(){function e(){}return e.removeWindow=function(e){e&&(chrome.windows.remove?chrome.windows.remove(e):chrome.tabs.query({windowId:e},function(e){e.forEach(function(e){chrome.tabs.remove(e.id)})}))},e.openWindowInNewTab=function(e){chrome.tabs.create({url:e})},e}();t.WindowHelper=r}),define("../../Model/BaseScreenShotService",["require","exports","../ChromeDataCollectors/ScreenshotCollector","../Messaging/Messaging","../Messaging/ChromeMessaging","../Common/ExtensionStorage","../Common/DataCollectors","../Common/Types","../Common/SessionData","../Model/Model","../Model/WindowHelper","../Model/AttachmentService","../Model/ModelHelper","../Telemetry/TfsTelemetryHelper","../Tracing/Tracing"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m){var g=c.Screenshot,y=d.ErrorHelper,h=l.AttachmentServiceHelper,T=m.TracingService,I=f.TfsTelemetryHelper,v=u.WindowHelper,S=function(){function e(e){this._annotationToolPageUrl="../AnnotationTool/AnnotationToolHost.html",this._screenshotFileNameExtension="png",this.moduleName=e,a.DataCollectorProvider.registerDataCollector(a.DataCollectorTypes.screenshot,r.GetCollector()),this.initializeChromeWindowCloseEventHandler()}return e.prototype.resetScreenshotCounter=function(){},e.prototype.captureDesktopScreenshot=function(e){var t=this,r=["screen","window","tab"];e&&(r=e===p.ScreenshotType.Application?["window"]:e===p.ScreenshotType.Screen?["screen"]:r),chrome.desktopCapture.chooseDesktopMedia(r,function(e){if(!e)return T.traceError(t.moduleName,1,"Request to access desktop capture rejected or cancelled"),void t.onCancel();var r={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e}}};navigator.webkitGetUserMedia(r,function(e){var r=document.createElement("video"),o=t;r.addEventListener("loadedmetadata",function(){var t=document.createElement("canvas");t.width=this.videoWidth,t.height=this.videoHeight;var r=t.getContext("2d");r.drawImage(this,0,0);var n=t.toDataURL();try{var i=MediaRecordProxy.getMediaRecorder(e)}catch(a){e.getTracks().forEach(function(e){return e.stop()})}i.start(),i.stop(),e.getTracks().forEach(function(e){return e.stop()});var p=new c.Screenshot(s.newGuid(),n,null,null,o.storeDataInSessionDirectory(),c.chromeApiType.chromeDesktopCapture);p.height=this.videoHeight,p.width=this.videoWidth,p.top=0,p.left=0,p.state="maximized",o.launchAnnotationTool(p)},!1),r.srcObject=e,r.play()},function(e){t.onError(null,y.getErrorMessage(e,!1),0,e.id)})})},e.prototype.notifyAutoRefreshEvent=function(){},e.prototype.storeDataInSessionDirectory=function(){return!0},e.prototype.onError=function(e,t,r,o){void 0===o&&(o=0)},e.prototype.onSuccess=function(e){},e.prototype.updateAttachmentInLocalStorage=function(e){h.updateAttachmentInLocalStorage(e)},e.prototype.saveInlineImage=function(e,t){},e.prototype.cancelScreenshot=function(e){this.resetScreenshotCounter();var t=this.getActiveScreenShotAndWindowIdMap(),r=this.findWindowId(t,e);if(r){var o=t[r];o&&(this.handleScreenshotCaptureCancellation(t,r),v.removeWindow(parseInt(r)))}},e.prototype.loadScreenshotContentFromBlob=function(e,t,r){d.convertToDataUrl(e,r,t)},e.prototype.getScreenshotCollector=function(){var e=a.DataCollectorProvider.getDataCollector(a.DataCollectorTypes.screenshot);return e.setWindowId(null),e.setSessionContext(!0),e},e.prototype.captureScreenshot=function(){var e=this,t=this.getScreenshotCollector();t.capture(function(t){e.launchAnnotationTool(t)},function(t){e.onError(null,y.getErrorMessage(t,!1),0,t.id)})},e.prototype.sendScreenshot=function(e){var t=this.getActiveScreenShotAndWindowIdMap();if(t){var r=t[e.windowId];r&&n.MessagingFactory.getBroadcastingService().broadcast(o.NotificationType.AnnotateScreenshot,r)}},e.prototype.sendTelemetryData=function(e){I.publishAnnotationToolProperties(e)},e.prototype.saveScreenshot=function(e,t){var r=this,o=this.getActiveScreenShotAndWindowIdMap();if(o){var n=this.findWindowId(o,e.id);if(n){var a=o[n];if(a){delete o[n],this.storeActiveScreenShotAndWindowIdMap(o);var s=this.toBlob(e.content),c=new g(a.id,a.content,a.state,this.getImageNameWithExtension(e.name));c.isXTSession=this.storeDataInSessionDirectory(),c.source=a.source;var p=this.generateImageAttachment(s,c,null);i.PersistentStorageFactory.getStorageService().writeBlob(a.id,s,function(o){p.localUrl=o,r.updateAttachmentInLocalStorage(p),r.notifyAutoRefreshEvent();var n=e.screenshotTelemetryInfo;r.uploadAttachmentAsync(p).then(function(e){r.sendTelemetryData(n),r.onSuccess(e),t(e)},function(e){n.errorCode=e.status,r.sendTelemetryData(n),T.traceError(r.moduleName,1,y.getErrorMessage(e)),r.onError(p,y.getErrorMessage(e,!1),0,e.id)})},function(e){e&&(T.traceError(r.moduleName,1,"Attachment save to persistent storage failed with error:"+y.getErrorMessage(e)),r.onError(p,y.getErrorMessage(e,!1),0))},!1,this.storeDataInSessionDirectory()),n&&v.removeWindow(parseInt(n))}}}},e.prototype.generateImageAttachment=function(e,t,r){t.size=e.size.toString();var o=d.AttachmentConverter.getAttachment(t);return o.localUrl=r,o},e.prototype.findWindowId=function(e,t){var r,o=null;for(r in e)if(e[r]&&e[r].id===t){o=r;break}return o},e.prototype.toBlob=function(e){for(var t=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],o=new ArrayBuffer(t.length),n=new Uint8Array(o),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);var a=new Blob([o],{type:r});return a},e.prototype.initializeChromeWindowCloseEventHandler=function(){var e=this;chrome.windows.onRemoved.addListener(function(t){var r=e.getActiveScreenShotAndWindowIdMap();r&&e.handleScreenshotCaptureCancellation(r,t.toString())})},e.prototype.handleScreenshotCaptureCancellation=function(e,t){var r=e[t];r&&(delete e[t],this.storeActiveScreenShotAndWindowIdMap(e),this.onCancel())},e.prototype.launchAnnotationTool=function(e){var t=this;"minimized"===e.state&&(e.state="normal"),"maximized"===e.state?chrome.windows.create({url:chrome.extension.getURL(this._annotationToolPageUrl),state:e.state},function(r){t.storeScreenshotInformation(r,e)}):chrome.windows.create({url:chrome.extension.getURL(this._annotationToolPageUrl),top:e.top,left:e.left,width:e.width,height:e.height},function(r){t.storeScreenshotInformation(r,e)})},e.prototype.storeScreenshotInformation=function(e,t){var r=this.getActiveScreenShotAndWindowIdMap();r||(r=new Object),r[e.id.toString()]=t,this.storeActiveScreenShotAndWindowIdMap(r)},e.prototype.getImageNameWithExtension=function(e){return e+"."+this._screenshotFileNameExtension},e}();t.BaseScreenshotService=S});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../Model/ScreenshotService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../Common/ExtensionStorage","../Common/SessionData","../Model/Model","../Model/AttachmentService","../Model/ModelHelper","../Telemetry/TfsTelemetryHelper","../Tracing/Tracing","../Model/BaseScreenShotService"],function(e,t,r,o,n,i,a,s,c,p,u,l){function d(){if(!t.service){var e=o.MessagingFactory.getSubscriptionService();t.service=new I,e.subscribe(function(){t.service.captureScreenshot()},r.NotificationType.CaptureScreenshot),e.subscribe(function(e){t.service.captureDesktopScreenshot(e.screenshotType)},r.NotificationType.CaptureDesktopScreenshot),e.subscribe(function(e){t.service.sendScreenshot(e)},r.NotificationType.AnnotationToolReady),e.subscribe(function(e){t.service.saveScreenshot(e,null)},r.NotificationType.AnnotationDone),e.subscribe(function(e){t.service.cancelScreenshot(e)},r.NotificationType.AnnotationCancelled),e.subscribe(function(e,r){t.service.saveInlineImage(e,function(e){s.getService().uploadInlineImage(e,function(e){r&&r(e)},function(e){h.traceError(T,2,y.getErrorMessage(e)),y.saveError(e,a.ToolbarType.Bug)})})},r.NotificationType.UploadInlineImage)}}function f(){return t.service||d(),t.service}var m=i.Screenshot,g=o.MessagingFactory,y=c.ErrorHelper,h=(p.TfsTelemetryHelper,u.TracingService),T="ScreenShotService";t.initializeService=d,t.getService=f;var I=function(e){function t(){e.call(this,T)}return __extends(t,e),t.prototype.resetScreenshotCounter=function(){var e=n.LocalStorageService.retrieve(n.screenshotsCountKey),t=parseInt(e)-1;n.LocalStorageService.store(n.screenshotsCountKey,t)},t.prototype.getActiveScreenShotAndWindowIdMap=function(){return n.LocalStorageService.retrieve(n.activeScreenShotAndWindowIdMap)},t.prototype.storeActiveScreenShotAndWindowIdMap=function(e){n.LocalStorageService.store(n.activeScreenShotAndWindowIdMap,e)},t.prototype.onCancel=function(){g.getBroadcastingService().broadcast(r.NotificationType.ScreenshotCaptureCancelled,{})},t.prototype.notifyAutoRefreshEvent=function(){o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.StartAutoRefresh,{})},t.prototype.uploadAttachmentAsync=function(e){return s.getService().uploadAttachmentAsync(e)},t.prototype.onError=function(e,t,r){y.saveError(t,a.ToolbarType.Bug)},t.prototype.saveInlineImage=function(e,t){var r=this,o=this.toBlob(e.content);n.PersistentStorageFactory.getStorageService().writeBlob(e.id,o,function(n){if(t){var i=new m(e.id,e.content,null,e.name,!0);t(r.generateImageAttachment(o,i,n))}},function(e){e&&y.saveError(e,a.ToolbarType.Bug)})},t}(l.BaseScreenshotService)}),define("../../Model/AnnotationSettingsService",["require","exports","../Common/ExtensionStorage","../Messaging/Messaging","../Messaging/ChromeMessaging"],function(e,t,r,o,n){function i(){if(!t.service){t.service=new s;var e=n.MessagingFactory.getSubscriptionService();e.subscribe(function(e){t.service.updateLocalSettings(e)},o.NotificationType.SaveAnnotationSettings),e.subscribe(function(){t.service.getLocalSettings()},o.NotificationType.FetchAnnotationSettings)}}function a(){return t.service||i(),t.service}t.initializeService=i,t.getService=a;var s=function(){function e(){}return e.prototype.updateLocalSettings=function(e){r.LocalStorageService.store(r.activeAnnotationSettingsKey,e)},e.prototype.getLocalSettings=function(){var e=r.LocalStorageService.retrieve(r.activeAnnotationSettingsKey);n.MessagingFactory.getBroadcastingService().broadcast(o.NotificationType.AnnotationSettingsFetchResponse,e)},e}()}),define("../../Model/PerfDataCollectorService",["require","exports","../Messaging/ChromeMessaging","../Messaging/Messaging","../Model/PerfDataStorageService","../Model/SessionService","../Model/Model","../Common/FeatureAvailabiliy","../Common/ExtensionStorage","../Common/Utility"],function(e,t,r,o,n,i,a,s,c,p){function u(){t.service||(t.service=new f)}var l=s.FeatureFlag,d=s.FeatureAvailibilityService;t.initializeService=u;var f=function(){function e(){var e=this;this._minNameLength=4,chrome.tabs.onUpdated.addListener(function(e,t,r){if("complete"===t.status){var o=i.getService().getLocalSession();d.isFeatureEnabled(l.PerfData)&&o&&o.state===a.SessionState.InProgress&&chrome.tabs.executeScript(e,{code:"setTimeout(function(){ getPerfData(); }, 0);"})}}),this._storageService=n.getService(),this._subscriptionService=r.MessagingFactory.getSubscriptionService(),this._subscriptionService.subscribe(function(t,r){e.calculateSummary(t)},o.NotificationType.PerfData)}return e.prototype.calculateSummary=function(e){if(this.shouldCapturePerfData()){var t=e.timing,r=e.eventData,o=e.requestURL;if("about:blank"!==o){var n=new p.Map,i=0,a=0,s=0;for(var c in r){if("mark"===r[c].entryType)break;var u,l,d,f,m,g,y,h,T;m=r[c].duration,s++,i=i<r[c].startTime?i:r[c].startTime,a=a>r[c].responseEnd?a:r[c].responseEnd,r[c].requestStart&&(u=r[c].requestStart-r[c].startTime,l=r[c].domainLookupEnd-r[c].domainLookupStart,d=r[c].connectEnd-r[c].connectStart,f=r[c].responseStart-r[c].startTime,y=r[c].redirectEnd-r[c].redirectStart,h=r[c].responseStart-r[c].requestStart,T=r[c].responseEnd-r[c].responseStart),r[c].secureConnectionStart&&(g=r[c].connectEnd-r[c].secureConnectionStart);var I,v,S,b=document.createElement("a");b.href=r[c].name;var C=b.host.length>0;C?(I=b.pathname.split("/").pop(),v=I.substr((Math.max(0,I.lastIndexOf("."))||1/0)+1),S=b.host):(S=location.host,v=r[c].name.split(":")[0]),I.length<this._minNameLength&&(I=encodeURIComponent(r[c].name));var k=this.getResourceType(v,r[c].initiatorType),w={start:r[c].startTime,end:r[c].responseEnd,totalDuration:m,name:I,type:k,domain:S,timeToFirstByte:f,intervals:{requestStart:r[c].requestStart,requestStartDelay:u,redirectStart:r[c].redirectStart,redirect:y,dnsLookupStart:r[c].domainLookupStart,dnsLookupTime:l,connectStart:r[c].connectStart,connectTime:d,reponseStart:r[c].responseStart,request:h,response:T,sslStart:r[c].secureConnectionStart,sslTime:g}};n.has(r[c].name)?n[r[c].name]=w:n.add(r[c].name,w)}var R=this.calculatePageTimingsSummary(t);n.add("pageTimings",R),n.add("timestamp",new Date(Date.now()).toLocaleTimeString()),n.add("start",i),n.add("end",a),n.add("count",s),this.countRequestTypes(),this._storageService.savePerfData({url:o,data:n})}}},e.prototype.calculatePageTimingsSummary=function(e){var t,r=this.getDifference(e.requestStart,e.navigationStart),o=this.getDifference(e.responseStart,e.requestStart),n=this.getDifference(e.responseEnd,e.responseStart),i=this.getDifference(e.domInteractive,e.responseEnd),a=this.getDifference(e.domComplete,e.domInteractive),s=this.getDifference(e.loadEventEnd,e.domComplete);return!e.redirectEnd&&!e.redirectStart&&e.fetchStart>e.navigationStart&&(t=e.fetchStart-e.navigationStart),{total:e.loadEventEnd-e.navigationStart,unloadEventStart:e.unloadEventStart,unload:e.unloadEventEnd-e.unloadEventStart,redirectStart:e.redirectStart,redirect:e.redirectEnd,fetchStart:e.fetchStart,domainLookupStart:e.domainLookupStart,appCache:e.fetchStart-e.domainLookupStart,dnsStart:e.domainLookupStart,dnsN:e.domainLookupEnd-e.domainLookupStart,connectStart:e.connectStart,tcp:e.connectEnd-e.connectStart,requestStart:e.requestStart,ttfb:e.responseStart-e.requestStart,responseStart:e.responseStart,responseN:e.responseEnd-e.responseStart,domProcessingStart:e.domLoading,domProcessing:e.domComplete-e.domLoading,domContentLoadedEventStart:e.domContentLoadedEventStart,domContentLoadedEvent:e.domContentLoadedEventEnd-e.domContentLoadedEventStart,onLoadEventStart:e.loadEventStart,onLoadEvent:e.loadEventEnd-e.loadEventStart,loadEventEnd:e.loadEventEnd,secureConnectStart:e.secureConnectionStart-e.connectStart,navigationStart:e.navigationStart,crossDomainRedirect:t,networkServer:e.responseStart-e.navigationStart,summaryView:{requestDelay:r,latency:o,responseDuration:n,domLoading:i,domComplete:a,load:s}}},e.prototype.getDifference=function(e,t){return e>0&&t>0?e-t:-1},e.prototype.countRequestTypes=function(){},e.prototype.getResourceType=function(e,t){if(e)switch(e){case"png":case"jpeg":case"jpg":case"svg":case"ico":case"gif":case"bmp":return"Image";case"js":return"JavaScript";case"php":return"Php";case"css":return"Style Sheet";case"swf":return"Flash";case"woff":case"woff2":case"tff":case"eot":case"otf":return"Font";case"mkv":case"mp4":case"webm":case"mpeg":return"Video";case"map":return"Source Map";case"manifest":return"Manifest";case"doc":case"docx":return"Doc"}if(t)switch(t){case"xmlhttprequest":return"XHR";case"img":return"Image";case"internal":case"iframe":return"Html";case"script":return"Script resource";case"css":return"CSS resource";case"embed":return"Embed resource";case"link":return"Link";case"object":return"Object resource";case"svg":return"SVG";default:return"Other Request"}return"Other Request"},e.prototype.shouldCapturePerfData=function(){if(d.isFeatureEnabled(l.PerfData)&&!this.isOfflineMode()){var e=i.getService().getLocalSession();return e&&e.state===a.SessionState.InProgress}return!1},e.prototype.isOfflineMode=function(){if(this.isOfflineModeEnabled()){var e=c.LocalStorageService.retrieve(c.activeSettingsKey);if(!e||e.offlineMode)return!0}return!1},e.prototype.isOfflineModeEnabled=function(){return d.isFeatureEnabled(l.OfflineMode)?!0:!1},e}();t.PerfDataCollectorService=f});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../TfsClient/TfsCommandExecutionModel",["require","exports"],function(e,t){!function(e){e[e.GetProjectCollections=0]="GetProjectCollections",e[e.GetTeamProjects=1]="GetTeamProjects",e[e.GetTeams=2]="GetTeams",e[e.GetDefaultAreaPath=3]="GetDefaultAreaPath",e[e.GetIteration=4]="GetIteration",e[e.GetProjectCollectionData=5]="GetProjectCollectionData",e[e.CheckLicense=6]="CheckLicense"}(t.TfsCommands||(t.TfsCommands={}));var r=(t.TfsCommands,function(){function e(){}return e}());t.TfsCommandResponse=r;var o=function(){function e(){}return e}();t.TfsCommandPayLoad=o;var n=function(){function e(){}return e}();t.TfsGetTeamsProjectsCommandData=n;var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(n);t.TfsGetTeamsCommandData=i;var a=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(i);t.TfsGetStructurePathCommandData=a}),define("../../TfsClient/TfsCommandExecutionService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../TfsClient/TfsStore","../Tracing/Tracing","../TfsClient/TfsCommandExecutionModel","../Model/Model","../Model/ModelHelper","../Common/ExtensionStorage","../Common/Utility"],function(e,t,r,o,n,i,a,s,c,p,u){function l(){h||(h=new T,o.MessagingFactory.getSubscriptionService().subscribe(function(e,t){h.tfsUrl=e.tfsUrl,h.execute(e,t)},r.NotificationType.ExecuteTfsCommand),chrome.tabs.onUpdated.addListener(h.onTabUpdated),chrome.tabs.onRemoved.addListener(h.onTabRemoved))}function d(){return h||l(),h}var f=a.TfsCommands,m=a.TfsCommandResponse,g=s.MostRecentlyUsedUrls,y=i.TracingService;t.initializeService=l,t.getService=d;var h,T=function(){function e(){this.moduleName="TfsCommandExecutionService",this.noPayLoadErrorString=" No payload data found, skipped execution",this.recentUrlCountLimit=3}return e.prototype.execute=function(e,t){var a=this,s=f[e.command];y.traceEnter(s,this.moduleName,1," Executing tfs command "+s);var c=n.TfsConnectionStoreFactory.getConnectionStore(e.tfsUrl);switch(e.command){case f.GetTeams:var p=e.data;void 0!==p&&null!==p?c.getTeams(p.collectionName,p.projectName,[],0,null,function(e){t(a.generateResponse(!0,e))},function(e){t(a.generateResponse(!1,e)),i.TracingService.traceError(a.moduleName,8," Error in tfs command execution "+s)}):(i.TracingService.traceError(this.moduleName,9,this.noPayLoadErrorString),t(this.generateResponse(!1,this.noPayLoadErrorString)));break;case f.GetDefaultAreaPath:var l=e.data;void 0!==l&&null!==l?c.getTeamAreaPathValues(l.collectionName,l.projectName,l.teamName,function(e,r){t(a.generateResponse(!0,{defaultAreaPath:e,areaPathList:r}))},function(e){t(a.generateResponse(!1,e)),i.TracingService.traceError(a.moduleName,5," Error in tfs command execution "+s)}):(i.TracingService.traceError(this.moduleName,6,this.noPayLoadErrorString),t(this.generateResponse(!1,this.noPayLoadErrorString)));break;case f.GetProjectCollections:c.getProjectCollections(function(n){e.sendResponse?t(a.generateResponse(!0,n)):e.requiresReconnect?o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.TfsReconnectSucceeded,null):a.onConnectionSuccessful()},function(r){e.sendResponse?t(a.generateResponse(!1,r)):u.isHostedUrl(e.tfsUrl)||401===r.status?a.openPopupWindow(e.tfsUrl+"_apis/projectCollections"):a.onConnectionFailure(),i.TracingService.traceError(a.moduleName,7," Error in tfs command execution "+s)});break;case f.GetProjectCollectionData:var d=e.data;void 0!==d&&null!==d?c.getProjectCollectionData(d.collectionId,function(e){t(a.generateResponse(!0,e))},function(e){t(a.generateResponse(!1,e)),i.TracingService.traceError(a.moduleName,10," Error in tfs command execution "+s)}):(i.TracingService.traceError(this.moduleName,11,this.noPayLoadErrorString),
t(this.generateResponse(!1,this.noPayLoadErrorString)));break;case f.GetTeamProjects:d=e.data,void 0!==d&&null!==d?c.getTeamProjects(d.collectionName,[],0,null,function(e){t(a.generateResponse(!0,e))},function(e){t(a.generateResponse(!1,e)),i.TracingService.traceError(a.moduleName,3," Error in tfs command execution "+s)}):(i.TracingService.traceError(this.moduleName,4,this.noPayLoadErrorString),t(this.generateResponse(!1,this.noPayLoadErrorString)));break;case f.GetIteration:var m=e.data;void 0!==m&&null!==m?c.getTeamIterationPath(m.collectionName,m.projectName,m.teamName,function(e){t(a.generateResponse(!0,e))},function(e){t(a.generateResponse(!1,e)),i.TracingService.traceError(a.moduleName,10," Error in tfs command execution "+s)}):(i.TracingService.traceError(this.moduleName,11,this.noPayLoadErrorString),t(this.generateResponse(!1,this.noPayLoadErrorString)));break;case f.CheckLicense:c.checkLicense(function(e){t(a.generateResponse(!1,e)),i.TracingService.traceError(a.moduleName,12," Error in tfs command execution "+s)})}y.traceLeave(s,this.moduleName,2," Done executing tfs command "+s)},e.prototype.onConnectionSuccessful=function(){var e=this;if(u.isHostedUrl(this.tfsUrl))this.updateLocalStorageAndNotifyPostSuccessfulConnection();else{var t=new n.TfsConnectionSoapStore(this.tfsUrl);t.checkValidServerConnection(function(){e.updateLocalStorageAndNotifyPostSuccessfulConnection()},function(t){p.LocalStorageService.store(p.loggedInKey,!1),e.onConnectionFailure()})}},e.prototype.onConnectionFailure=function(){p.LocalStorageService.remove(p.loginInProgressKey),o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.TfsLoginFailed,{message:"Sign-in was unsuccessful. Please check server base URL or username and password."})},e.prototype.onReconnectFailure=function(){p.LocalStorageService.remove(p.reconnectKey),o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.TfsReconnectFailed,{message:"Reconnect was unsuccessful. Please check username and password."})},e.prototype.onTabRemoved=function(e,t){e===h.loginWindowTabId&&(p.LocalStorageService.retrieve(p.loggedInKey)!==!0?h.onConnectionFailure():p.LocalStorageService.retrieve(p.refreshingKey)===!0&&p.LocalStorageService.retrieve(p.reconnectKey)!==!0&&h.onReconnectFailure())},e.prototype.onTabUpdated=function(e,t,n){if(e===h.loginWindowTabId&&"complete"===t.status&&h.openWindowUrl&&0===n.url.indexOf(h.openWindowUrl)){var i=p.LocalStorageService.retrieve(p.loggedInKey),a=p.LocalStorageService.retrieve(p.refreshingKey);i?a&&(p.LocalStorageService.store(p.reconnectKey,!0),chrome.tabs.remove(e),o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.TfsReconnectSucceeded,null)):(p.LocalStorageService.store(p.loggedInKey,!0),chrome.tabs.remove(e),h.onConnectionSuccessful())}},e.prototype.updateLocalStorageAndNotifyPostSuccessfulConnection=function(){p.LocalStorageService.remove(p.loginInProgressKey),p.LocalStorageService.store(p.basicConnectionSettingsKey,this.tfsUrl),p.LocalStorageService.store(p.loggedInKey,!0),this.updateLastSignedInUrl(),o.MessagingFactory.getBroadcastingService().broadcast(r.NotificationType.TfsLoginSucceeded,null)},e.prototype.updateLastSignedInUrl=function(){var e=p.LocalStorageService.retrieve(p.mostRecentlyUsedUrlsKey);if(e&&0!==e.length){for(var t=!1,r=-1,o=0;o<e.length;o++){var n=e[o];if(n.serverUrl===this.tfsUrl){n.lastAccessedTime=new Date,t=!0,r=o;break}}if(t){var i=e[r];e.splice(r,1),e.push(i),p.LocalStorageService.store(p.mostRecentlyUsedUrlsKey,e)}else if(e.length===this.recentUrlCountLimit){e.splice(0,1);var a=new g(this.tfsUrl,new Date);e.push(a),p.LocalStorageService.store(p.mostRecentlyUsedUrlsKey,e)}else{var a=new g(this.tfsUrl,new Date);e.push(a),p.LocalStorageService.store(p.mostRecentlyUsedUrlsKey,e)}}else{e=new Array;var a=new g(this.tfsUrl,new Date);e.push(a),p.LocalStorageService.store(p.mostRecentlyUsedUrlsKey,e)}},e.prototype.createPopupWindow=function(e,t){var r=700,o=1e3,n=Math.floor(screen.width?(screen.width-o)/2:0),i=Math.floor(screen.height?(screen.height-r)/2:0);chrome.windows.create({url:e,left:n,top:i,width:o,height:r,type:"popup"},function(e){t(e)})},e.prototype.openPopupWindow=function(e){this.createLoginWindow(e)},e.prototype.createLoginWindow=function(e){var t=this;this.createPopupWindow(e,function(r){c.getTabId(r.id).then(function(r){t.loginWindowTabId=r,t.openWindowUrl=e.replace(/\\$/,"")})})},e.prototype.generateResponse=function(e,t){var r=new m;return r.isSuccess=e,r.data=t,e||(r.errorMessage=t.message),r},e}()}),define("../../Perfecto/PerfectoCommandExecutionModel",["require","exports"],function(e,t){!function(e){e[e.GetDeviceList=0]="GetDeviceList",e[e.LaunchDevice=1]="LaunchDevice"}(t.PerfectoCommands||(t.PerfectoCommands={}));var r=(t.PerfectoCommands,function(){function e(){}return e}());t.PerfectoCommandResponse=r;var o=function(){function e(){}return e}();t.PerfectoCommandPayLoad=o}),window.jQuery&&function(e){e.extend({xml2json:function(t,r){function o(t,a){if(!t)return null;var s="",c=null,p=null;t.nodeType,n(t.localName||t.nodeName),t.text||t.nodeValue||"";t.childNodes&&t.childNodes.length>0&&e.each(t.childNodes,function(e,t){var r=t.nodeType,a=n(t.localName||t.nodeName),p=t.text||t.nodeValue||"";if(8!=r)if(3!=r&&4!=r&&a)c=c||{},c[a]?(c[a].length||(c[a]=i(c[a])),c[a]=i(c[a]),c[a][c[a].length]=o(t,!0),c[a].length=c[a].length):c[a]=o(t);else{if(p.match(/^\s+$/))return;s+=p.replace(/^\s+/,"").replace(/\s+$/,"")}}),t.attributes&&t.attributes.length>0&&(p={},c=c||{},e.each(t.attributes,function(e,t){var r=n(t.name),o=t.value;p[r]=o,c[r]?(c[cnn]=i(c[cnn]),c[r][c[r].length]=o,c[r].length=c[r].length):c[r]=o})),c&&(c=e.extend(""!=s?new String(s):{},c||{}),s=c.text?[c.text||""].concat([s]):s,s&&(c.text=s),s="");var u=c||s;return r&&(s&&(u={}),s=u.text||s||"",s&&(u.text=s),a||(u=i(u))),u}if(!t)return{};var n=function(e){return String(e||"").replace(/-/g,"_")},i=function(t){return e.isArray(t)||(t=[t]),t.length=t.length,t};if("string"==typeof t&&(t=e.text2xml(t)),t.nodeType){if(3==t.nodeType||4==t.nodeType)return t.nodeValue;var a=9==t.nodeType?t.documentElement:t,s=o(a,!0);return t=null,a=null,s}},text2xml:function(t){return e.parseXML(t)}})}(jQuery),define("../../Scripts/jquery.xml2json",function(){}),define("../../Perfecto/PerfectoCommandExecutionService",["require","exports","../Messaging/Messaging","../Messaging/ChromeMessaging","../Tracing/Tracing","../Perfecto/PerfectoCommandExecutionModel","../Common/ExtensionStorage","../Model/Model","../Model/ModelHelper","../Telemetry/TfsTelemetryHelper","../Scripts/jquery.xml2json"],function(e,t,r,o,n,i,a,s,c,p){var u=i.PerfectoCommands,l=i.PerfectoCommandResponse,d=p.TfsTelemetryHelper,f=n.TracingService,m=function(){function e(){this.moduleName="PerfectoCommandExecutionService",this.deviceListUriSuffix="/services/handsets?operation=list&user=",this.deviceLaunchUriSuffix="/nexperience/main.jsp?applicationName=Sprinter&id=",this.passwordQueryParam="&password=",this.deviceProviderName="Perfecto",this.fetchDeviceListTelemetryKey="FetchDeviceList",this.launchDeviceTelemetryKey="LaunchDevice"}return e.initialize=function(){var t=this;o.MessagingFactory.getSubscriptionService().subscribe(function(r,o){c.ErrorHelper.clearAllErrors(s.ToolbarType.MobileXt),void 0===t.instance&&(t.instance=new e),t.instance.execute(r,o)},r.NotificationType.ExecutePerfectoCommand)},e.prototype.execute=function(e,t){var r=this,o=u[e.command],n={};switch(f.traceEnter(o,this.moduleName,1," Executing Perfecto command "+o),e.command){case u.GetDeviceList:var i=this.generateGetDeviceListUrl(e);if(i){var p=$.ajax({url:i});p.done(function(e){var o=r.xmlToJson(e);a.LocalStorageService.store(a.deviceListLocalStorageKey,o),t(r.generateResponse(!0,a.deviceListLocalStorageKey)),n[r.fetchDeviceListTelemetryKey]=1,d.publishDeviceProviderTelemetry(r.deviceProviderName,{FetchDeviceList:1})}),p.fail(function(e){f.traceError(r.moduleName,7,e),0===e.status&&(e.responseText="Unable to find the URL. Please check the URL.");var o=r.generateResponse(!1,e.responseText);t(o),c.ErrorHelper.saveError(o,s.ToolbarType.MobileXt),n[r.fetchDeviceListTelemetryKey]=0,n.ErrorStatus=e.status,d.publishDeviceProviderTelemetry(r.deviceProviderName,n)}),p.always(function(){f.traceLeave(o,r.moduleName,2," Done executing perfecto command "+o)})}break;case u.LaunchDevice:a.LocalStorageService.store(a.lastUrlKey,"//");var l=this.generateLaunchDeviceUrl(e);if(l)chrome.tabs.create({url:l}),n[this.launchDeviceTelemetryKey]=1,d.publishDeviceProviderTelemetry(this.deviceProviderName,n);else{f.traceError(this.moduleName,13,"Could not create Device Url");var m=this.generateResponse(!1,"Unable to find the URL. Please check the URL.");t(m),c.ErrorHelper.saveError(m,s.ToolbarType.MobileXt),n[this.launchDeviceTelemetryKey]=0,d.publishDeviceProviderTelemetry(this.deviceProviderName,n)}}},e.prototype.generateGetDeviceListUrl=function(e){return e.userName&&(this.userName=e.userName),e.password&&(this.password=e.password),e.url&&(this.url=e.url),this.url?this.userName&&this.password?this.buildUri(this.deviceListUriSuffix+this.userName+this.passwordQueryParam+this.password):(f.traceError(this.moduleName,4,"Perfectomobile username or password not specified "),this.url):(f.traceError(this.moduleName,3,"Perfectomobile url not specified "),null)},e.prototype.generateLaunchDeviceUrl=function(e){return this.url?e.deviceId?this.buildUri(this.deviceLaunchUriSuffix+e.deviceId):(f.traceError(this.moduleName,12,"Device id not specified"),null):(f.traceError(this.moduleName,11,"Perfectomobile url not specified "),null)},e.prototype.buildUri=function(e){var t=document.createElement("a");t.href=this.url;var r=t.protocol+"//"+t.hostname+e;return r},e.prototype.generateResponse=function(e,t){var r=new l;return r.isSuccess=e,r.message=t,r},e.prototype.xmlToJson=function(e){f.traceEnter("xmlToJson",this.moduleName,8," Converting XML to JSON ");var t=$.xml2json(e);return f.traceLeave("xmlToJson",this.moduleName,9," Converting XML to JSON "),t.handset},e}();t.PerfectoCommandExecutionService=m}),define("../../Common/UpgradeService",["require","exports","../Common/ExtensionStorage","../Model/Model","../Common/FeatureAvailabiliy","../Common/Constants","../Model/SettingsService","../Telemetry/TfsTelemetryHelper","../Model/BrowserHelper"],function(e,t,r,o,n,i,a,s,c){var p=c.BrowserHelper,u=o.WorkItemType,l=o.SessionState,d=s.TfsTelemetryHelper,f=function(){function e(){}return e.initialize=function(){this.handleSelectedBugUpgrade(),this.handleBugFormDescriptionUpgrade(),this.handleTaskFeatureUpgrade(),this.handleSessionVersionUpgrade(),this.handleBugFormUpgrade(),this.handleUpgrade_M96(),this.handleUpgrade_M99(),this.handleUpgrade_M100(),this.handleUpgrade_M101(),this.executeUpgradeIfRequired(1033,this.handleUpgrade_M103),this.executeUpgradeIfRequired(1041,this.handleUpgrade_M104),this.executeUpgradeIfRequired(1051,this.handleUpgrade_M105),this.executeUpgradeIfRequired(1061,this.handleUpgrade_M106),this.executeUpgradeIfRequired(1091,this.handleUpgrade_M109),this.executeUpgradeIfRequired(1101,this.handleUpgrade_M110),this.executeUpgradeIfRequired(1411,this.handleUpgrade_M141)},e.handleSelectedBugUpgrade=function(){var e=r.LocalStorageService.retrieve(r.activeSessionKey);if(e){var t=r.LocalStorageService.retrieve(r.selectedBugKey),n="";if(t&&!t.descriptionUrl&&t.fields[o.WorkItemField.reproSteps]&&t.fields[o.WorkItemField.reproSteps].length>0){n=t.fields[o.WorkItemField.reproSteps];var i=new Blob([n],{type:"text/plain"});r.PersistentStorageFactory.getStorageService().writeBlob(r.selectedBugDescriptionKey,i,function(e){t.fields[o.WorkItemField.reproSteps]="",t.descriptionUrl=e,r.LocalStorageService.store(r.selectedBugKey,t)},null)}}},e.handleBugFormDescriptionUpgrade=function(){var e=r.LocalStorageService.retrieve(r.activeSessionKey),t=r.LocalStorageService.retrieve("bugFormDirty");if(e&&t){var o="unsavedBugDescription",n=r.LocalStorageService.retrieve(o);if(n){var i=new Blob([n],{type:"text/plain"});r.PersistentStorageFactory.getStorageService().writeBlob(o,i,function(e){},null),r.LocalStorageService.remove(o)}}},e.handleSessionVersionUpgrade=function(){var e=r.LocalStorageService.retrieve(r.activeSessionKey);e&&!e.version&&(e.version=1,r.LocalStorageService.store(r.activeSessionKey,e))},e.handleTaskFeatureUpgrade=function(){if(!this.isFeatureEnabled(this.taskFeature)){var e=r.LocalStorageService.retrieve(r.activeSessionKey);e&&!e.workItems&&(e.workItems=[],e.bugs&&e.bugs.length>0&&e.bugs.forEach(function(t){var r=JSON.parse(JSON.stringify(t));r.type=u.bug,e.workItems.push(r)}),r.LocalStorageService.store(r.activeSessionKey,e)),this.enableFeature(this.taskFeature)}},e.handleBugFormUpgrade=function(){var e=r.LocalStorageService.retrieve(this.groupingDetails);e&&e.workItem&&n.FeatureAvailibilityService.isFeatureEnabled(n.FeatureFlag.SearchSimilarBugs)&&e.workItem===o.ToolbarType.Bug&&r.LocalStorageService.store(this.groupingDetails,{workItem:o.ToolbarType.Bug2})},e.isFeatureEnabled=function(e){return r.LocalStorageService.retrieve(e)||!1},e.enableFeature=function(e){r.LocalStorageService.store(e,!0)},e.handleUpgrade_M96=function(){this.enableActionLogFeature_M96(),this.handleImageActionLogNotification_M96()},e.enableActionLogFeature_M96=function(){var e=r.LocalStorageService.retrieve(r.isImageActionLogTurnedOnDuringUpgrade);e||(n.FeatureAvailibilityService.setFeatureFlagState(n.FeatureFlag.ActionLog,!0),r.LocalStorageService.store(r.isImageActionLogTurnedOnDuringUpgrade,!0))},e.handleImageActionLogNotification_M96=function(){if(!a.isOfflineMode(a.getService().getLocalSettings())){var e=r.LocalStorageService.retrieve(r.isNotificationDismissedKey)||!1;if(!e&&this.isNotifcationRequired()){var t=r.LocalStorageService.retrieve(r.lastUrlKey),o=t?t:"/SignIn";t!==this.notificationPageUrl&&r.LocalStorageService.store(r.lastUrlBeforeNotificationKey,o),r.LocalStorageService.store(r.lastUrlKey,this.notificationPageUrl)}else if(r.LocalStorageService.retrieve(r.lastUrlKey)===this.notificationPageUrl){var t=r.LocalStorageService.retrieve(r.lastUrlBeforeNotificationKey);r.LocalStorageService.store(r.lastUrlKey,t)}}},e.isNotifcationRequired=function(){return!1},e.handleUpgrade_M99=function(){this.enableTraceabilityLinkWithSession_M99()},e.handleUpgrade_M100=function(){n.FeatureAvailibilityService.setFeatureFlagState(n.FeatureFlag.RestApiForSession,!0);var e=r.LocalStorageService.retrieve(r.activeSessionKey);e&&e.state===l.InProgress&&(e.revision||r.LocalStorageService.store(r.useSoapApiForUpgradeKey,!0));var t=a.getService().getLocalSettings();if(!a.isOfflineMode(t)&&t&&t.url&&t.project&&t.teamDetails){var o=r.LocalStorageService.retrieve(r.workItemTypeMetaDataCache);o||a.getService().updateWorkItemTypeCache()}},e.handleUpgrade_M101=function(){var e=r.LocalStorageService.retrieve(r.activeSessionKey);e&&e.attachments&&(e.attachments.forEach(function(e){e.state===o.AttachmentState.ContainerCreated&&(e.state=o.AttachmentState.Uploaded)}),r.LocalStorageService.store(r.activeSessionKey,e))},e.handleUpgrade_M103=function(){var e=r.LocalStorageService.retrieve(r.licenseUpdatedDateTimeKey),t=r.LocalStorageService.retrieve(r.licenseUpdateIntervalKey);if(!e){var o=new Date;r.LocalStorageService.store(r.licenseUpdatedDateTimeKey,o.getTime()-864e5)}t||r.LocalStorageService.store(r.licenseUpdateIntervalKey,24)},e.executeUpgradeIfRequired=function(e,t){var o=r.LocalStorageService.retrieve(r.currentVersionKey);(!o||e>o)&&(t(),r.LocalStorageService.store(r.currentVersionKey,e))},e.handleUpgrade_M104=function(){n.FeatureAvailibilityService.setFeatureFlagState(n.FeatureFlag.StakeholderMode,!0)},e.handleUpgrade_M105=function(){var e=a.getService().getLocalSettings();e&&!a.isOfflineMode(e)&&e.url&&e.project&&e.teamDetails&&a.getService().updateWorkItemTypeCache()},e.handleUpgrade_M106=function(){var e=r.LocalStorageService.retrieve(r.connectionOptionKey);(e===i.ConnectionOptionConstants.stakeholderMode||e===i.ConnectionOptionConstants.teamMode)&&(r.LocalStorageService.store(r.connectionOptionKey,i.ConnectionOptionConstants.connectedMode),r.LocalStorageService.store(r.connectedModeKey,e)),r.LocalStorageService.store(r.lastUrlKey,"/About")},e.handleUpgrade_M109=function(){p.isFirefox()&&d.publishFirefoxInstalledTelemetry()},e.handleUpgrade_M110=function(){var e=r.LocalStorageService.retrieve(r.actionLogKey);"boolean"!=typeof e&&(e=!0),n.FeatureAvailibilityService.setFeatureFlagState(n.FeatureFlag.ActionLog,e)},e.handleUpgrade_M141=function(){var e=r.LocalStorageService.retrieve(r.newBranding);"boolean"!=typeof e&&(e=!0),n.FeatureAvailibilityService.setFeatureFlagState(n.FeatureFlag.NewBranding,e)},e.enableTraceabilityLinkWithSession_M99=function(){var e=r.LocalStorageService.retrieve(r.traceabilityEnabledKey);if(e){var t=r.LocalStorageService.retrieve(r.linkedWorkItemKey);if(t){var n=r.LocalStorageService.retrieve(r.activeSessionKey);if(n&&n.linkedWorkitems){var i=n.linkedWorkitems;i.forEach(function(e){e.id===t.fields[o.WorkItemField.id]&&(t[o.WorkItemField.startTime]=e.timeStamp)}),r.LocalStorageService.store(r.linkedWorkItemKey,t)}}}},e.notificationPageUrl="/Notification",e.taskFeature="taskFeature",e.groupingDetails="groupingDetails",e}();t.UpgradeService=f});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../DataCollectors/ScreenShot/ScreenshotDataCollectorService",["require","exports","../../Common/Utility","../../Messaging/Messaging","../../Messaging/ChromeMessaging","../../Common/ExtensionStorage","../../Common/DataCollectors","../../Model/AttachmentService","../../Model/BaseScreenShotService","../../Telemetry/TfsTelemetryHelper","../../Common/Constants"],function(e,t,r,o,n,i,a,s,c,p,u){function l(){if(!t.service){var e=f.getSubscriptionService();t.service=new y,e.subscribe(function(e,r,o){t.service.getActiveTabsMetaData(r,o.tab.id)},o.NotificationType.ScreenshotCaptureGetActiveWindow_V1),e.subscribe(function(e,n,i){r.ValidateTabHost(i.tab.id,function(){t.service.setScreenshotMetaData(e,i.tab.id),t.service.captureScreenshot()},function(e){var t={errorMessage:e,errorLevel:0,id:0};f.getChromeMessagingTabService().sendMessage(i.tab.id,o.NotificationType.ScreenshotCaptureError_V1,t)})},o.NotificationType.CaptureScreenshot_V1),e.subscribe(function(e,n,i){r.ValidateTabHost(i.tab.id,function(){t.service.setScreenshotMetaData(e,i.tab.id),n&&n(),t.service.captureDesktopScreenshot()},function(e){n&&n();var t={errorMessage:e,errorLevel:0,id:0};f.getChromeMessagingTabService().sendMessage(i.tab.id,o.NotificationType.ScreenshotCaptureError_V1,t)})},o.NotificationType.CaptureDesktopScreenshot_V1),e.subscribe(function(e){t.service.sendScreenshot(e)},o.NotificationType.AnnotationToolReady),e.subscribe(function(e){t.service.saveScreenshot(e,null)},o.NotificationType.AnnotationDone),e.subscribe(function(e){t.service.cancelScreenshot(e)},o.NotificationType.AnnotationCancelled),e.subscribe(function(e,r){t.service.loadScreenshotContentFromBlob(e.url,null,r)},o.NotificationType.LoadScreenshotContentFromBlob)}}function d(){return t.service||l(),t.service}var f=n.MessagingFactory,m=p.TfsTelemetryHelper,g="ScreenShotDataCollectorService";t.initializeService=l,t.getService=d;var y=function(e){function t(){e.call(this,g)}return __extends(t,e),t.prototype.updateAttachmentInLocalStorage=function(e){},t.prototype.storeDataInSessionDirectory=function(){return!1},t.prototype.getActiveTabsMetaData=function(e,t){f.getChromeMessagingTabService().queryTabs({active:!0},t,e)},t.prototype.getActiveScreenShotAndWindowIdMap=function(){return i.LocalStorageService.retrieve(i.activeScreenShotAndWindowIdMap_Datacollector)},t.prototype.storeActiveScreenShotAndWindowIdMap=function(e){i.LocalStorageService.store(i.activeScreenShotAndWindowIdMap_Datacollector,e)},t.prototype.onCancel=function(){f.getChromeMessagingTabService().sendMessage(this.tabId,o.NotificationType.ScreenshotCaptureCancelled_V1,{})},t.prototype.uploadAttachmentAsync=function(e){Q.defer();return s.getService().uploadTestResultAttachmentAsync(this.screenshotPayload.tfsContext,this.screenshotPayload.testRunData,e)},t.prototype.sendTelemetryData=function(e){e&&(e.source=u.TelemetryConstants.WebRunnerSource),m.publishAnnotationToolProperties(e)},t.prototype.onError=function(e,t,r,n){void 0===n&&(n=0),e&&i.PersistentStorageFactory.getStorageService().removeBlob(e.url,function(){},function(){},this.storeDataInSessionDirectory());var a={errorMessage:t,errorLevel:r,id:n};f.getChromeMessagingTabService().sendMessage(this.tabId,o.NotificationType.ScreenshotCaptureError_V1,a)},t.prototype.onSuccess=function(e){i.PersistentStorageFactory.getStorageService().removeBlob(e.url,function(){},function(){},this.storeDataInSessionDirectory());var t={Id:e.id,Name:e.name,Size:e.length};f.getChromeMessagingTabService().sendMessage(this.tabId,o.NotificationType.ScreenshotCaptureCompleted_V1,t)},t.prototype.getScreenshotCollector=function(){var e=a.DataCollectorProvider.getDataCollector(a.DataCollectorTypes.screenshot);return e.setWindowId(this.screenshotPayload.windowId),e.setSessionContext(!1),e},t.prototype.setScreenshotMetaData=function(e,t){this.screenshotPayload=e,this.tabId=t},t}(c.BaseScreenshotService)}),define("../../DataCollectors/SystemInfo/SystemInfoDataCollectorService",["require","exports","../../ChromeDataCollectors/SystemInformationCollector","../../Messaging/Messaging","../../Messaging/ChromeMessaging","../../Common/DataCollectors"],function(e,t,r,o,n,i){function a(){if(!t.service){t.service=new u;var e=p.getSubscriptionService();e.subscribe(function(e,r){t.service.captureSystemInformation(r)},o.NotificationType.GetSystemInfomation_V1)}}function s(){return(new r.ChromeSystemInfoCollector).isAvailable()}function c(){return!t.service&&s()&&a(),t.service}var p=n.MessagingFactory;t.initializeService=a,t.isAvailable=s,t.getService=c;var u=function(){function e(){i.DataCollectorProvider.registerDataCollector(i.DataCollectorTypes.systemInfo,r.ChromeSystemInfoCollector)}return e.prototype.captureSystemInformation=function(e){var t=this,r=i.DataCollectorProvider.getDataCollector(i.DataCollectorTypes.systemInfo);r.capture(function(r){e&&(r.id="SystemInformation-"+t.getUtcTime()+".json",e(r))})},e.prototype.getUtcTime=function(){var e=new Date(Date.now());return e.toISOString().replace(/:/g,"-")},e}()});var __extends=this&&this.__extends||function(e,t){function r(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};define("../../DataCollectors/Video/VideoDataCollectorService",["require","exports","../../Messaging/Messaging","../../Common/Utility","../../Messaging/ChromeMessaging","../../Common/ExtensionStorage","../../Model/AttachmentService","../../Telemetry/TfsTelemetryHelper","../../Model/BaseVideoCaptureService","../../Common/Constants","../../Common/SessionData","../../Model/ModelHelper","../../Model/BrowserHelper"],function(e,t,r,o,n,i,a,s,c,p,u,l,d){function f(){if(!t.service){i.LocalStorageService.store(i.videosCountKey,0);var e=n.MessagingFactory.getSubscriptionService();t.service=new I,e.subscribe(function(e,n,i){o.ValidateTabHost(i.tab.id,function(){var r={height:screen.height,width:screen.width,frameRate:p.VideoCaptureConstants.optimalFrameRate,enableAudio:e.includeAudio};t.service.videoCaptureMetaData(e,i.tab.id),t.service.startVideoCapture(r,n)},function(e){n&&n();var t={errorMessage:e,errorLevel:0,id:0};y.getChromeMessagingTabService().sendMessage(i.tab.id,r.NotificationType.VideoCaptureError_V1,t)})},r.NotificationType.StartVideoCapture_V1),e.subscribe(function(e,n,i){o.ValidateTabHost(i.tab.id,function(){t.service.stopVideoCapture(!1,n)},function(e){var t={errorMessage:e,errorLevel:0,id:0};y.getChromeMessagingTabService().sendMessage(i.tab.id,r.NotificationType.VideoCaptureError_V1,t)})},r.NotificationType.StopVideoCapture_V1)}}function m(){return h.isChrome()?!0:!1}function g(){return!t.service&&m()&&f(),t.service}var y=n.MessagingFactory,h=d.BrowserHelper,T=(s.TfsTelemetryHelper,"VideoDataCollectorService");t.initializeService=f,t.isAvailable=m,t.getService=g;var I=function(e){function t(){e.call(this,T)}return __extends(t,e),t.prototype.videoCaptureMetaData=function(e,t){this.videoCapturePayload=e,this.tabId=t},t.prototype.storeDataInSessionDirectory=function(){return!1},t.prototype.getModuleName=function(){return T},t.prototype.clearErrors=function(){},t.prototype.sendTelemetryData=function(t){t&&(t.source=p.TelemetryConstants.WebRunnerSource,e.prototype.sendTelemetryData.call(this,t))},t.prototype.onError=function(e,t,o,n,a){if(void 0===n&&(n=0),0==o){e&&i.PersistentStorageFactory.getStorageService().removeBlob(e.url,function(){},function(){},this.storeDataInSessionDirectory());var s={errorMessage:t,errorLevel:o,id:n};y.getChromeMessagingTabService().sendMessage(this.tabId,r.NotificationType.VideoCaptureError_V1,s)}},t.prototype.onStarted=function(){var e=this;this.video=new u.Video("1024",this.storeDataInSessionDirectory());var t=l.AttachmentConverter.getAttachment(this.video);a.getService().createRunAttachmentContainer(this.videoCapturePayload.tfsContext,this.videoCapturePayload.testRunData,t).then(function(t){e.attachmentId=t.id;var o={Id:t.id,Name:t.name,Size:t.length};y.getChromeMessagingTabService().sendMessage(e.tabId,r.NotificationType.VideoCaptureStarted_V1,o)})},t.prototype.onCancel=function(){y.getChromeMessagingTabService().sendMessage(this.tabId,r.NotificationType.VideoCaptureCancelled_V1,{})},t.prototype.onSuccess=function(e){i.PersistentStorageFactory.getStorageService().removeBlob(e.url,function(){},function(){},this.storeDataInSessionDirectory());var t={Id:e.id,Name:e.name,Size:e.length};y.getChromeMessagingTabService().sendMessage(this.tabId,r.NotificationType.VideoCaptureCompleted_V1,t)},t.prototype.isVideoRequestInQueue=function(){return i.LocalStorageService.retrieve(i.activeVideoCaptureRequestPresent_DataCollector)},t.prototype.startVideoRequest=function(){i.LocalStorageService.store(i.activeVideoCaptureRequestPresent_DataCollector,!0)},t.prototype.stopVideoRequest=function(){i.LocalStorageService.store(i.activeVideoCaptureRequestPresent_DataCollector,!1)},t.prototype.storeVideoCaptureId=function(e){i.LocalStorageService.store(i.currentVideoCaptureId_DataCollectorKey,e)},t.prototype.getCurrentVideoCaptureId=function(){return i.LocalStorageService.retrieve(i.currentVideoCaptureId_DataCollectorKey)},t.prototype.incrementBrowserCloseEventsWhileVideoRecording=function(){var e=i.LocalStorageService.retrieve(i.browserCloseEventsWhileVideoRecording_DataCollectorKey);e+=1,i.LocalStorageService.store(i.browserCloseEventsWhileVideoRecording_DataCollectorKey,e)},t.prototype.getVideoFormat=function(){return i.LocalStorageService.retrieve(i.videoFileFormat_DataCollectorKey)},t.prototype.cleanUpStorage=function(){i.LocalStorageService.store(i.currentVideoCaptureId_DataCollectorKey,-1),i.LocalStorageService.remove(i.currentVideoCaptureTime_DataCollectorKey),i.LocalStorageService.remove(i.activeVideoCaptureRequestPresent_DataCollector)},t.prototype.uploadVideo=function(e){return e.id=this.attachmentId,a.getService().uploadRunAttachment(this.videoCapturePayload.tfsContext,this.videoCapturePayload.testRunData,e)},t}(c.BaseVideoCaptureService)}),define("../../Model/BlobUrlHelper",["require","exports","../Tracing/Tracing","../Common/ExtensionStorage","../Model/Model","../Common/Constants","../Model/BrowserHelper"],function(e,t,r,o,n,i,a){var s=i.ActionLogConstants,c=a.BrowserHelper,p="BlobUrlHelper",u=o.LocalStorageService,l=r.TracingService,d=function(){function e(){}return e.fix=function(){var e=this,t=Q.defer();if(c.isChrome())t.resolve(null);else{var r=function(){e.fixActionLogUrls()};this.fixAttachmentUrls().then(r).then(function(){t.resolve(null)})}return t.promise},e.fixAttachmentUrls=function(){var e=Q.defer(),t=u.retrieve(o.activeSessionKey);if(t&&t.attachments.length>0){var r=t.attachments.length,n=0;l.traceVerbose(p,1,"migration started"),t.attachments.forEach(function(i,a){o.PersistentStorageFactory.getStorageService().getBlob(i.url,function(a){i.localUrl=URL.createObjectURL(a),n++,n===r&&(l.traceVerbose(p,2,"All session attachments migrated"),u.store(o.activeSessionKey,t),e.resolve(null))},function(t){e.resolve(null),l.traceError(p,3,t)})})}else e.resolve(null);return e.promise},e.fixActionLogUrls=function(){var e=Q.defer(),t=u.retrieve(o.actionLogUrlKey),r=u.retrieve(o.activeSessionKey),i=o.LocalStorageService.retrieve(o.activeSettingsKey);if(!t||!i||i.offlineMode||!r||r.state!==n.SessionState.InProgress)return e.resolve(null),e.promise;var a=0;return o.PersistentStorageFactory.getStorageService().getBlobContentAsync(s.actionLogsFileName).then(function(t){if(t){var r=JSON.parse(t);r&&r.length>0?(l.traceVerbose(p,4,"fixing action log urls"),r.forEach(function(t,n){o.PersistentStorageFactory.getStorageService().getBlob(t.imgFileName,function(n){if(t.imgUrl=URL.createObjectURL(n),l.traceVerbose(p,5,"All session attachments migrated"),a++,a===r.length){var i=new Blob([JSON.stringify(r)],{type:"application/json"});o.PersistentStorageFactory.getStorageService().writeBlob(s.actionLogsFileName,i,function(t){u.store(o.actionLogUrlKey,t),l.traceVerbose(p,6,"All action logs migrated"),e.resolve(null)},function(t){l.traceError(p,7,t),e.resolve(null)})}},function(t){l.traceError(p,8,t),e.resolve(null)})})):e.resolve(null)}else e.resolve(null)},function(t){l.traceError(p,9,t),e.resolve(null)}),e.promise},e}();t.BlobUrlHelper=d});var PersistentStorageProxy,quotaIncreaseAmount=10485760,moduleName="PersistentStorageProxy";!function(e){function t(e,t,r,o,n,i,a){e(window.PERSISTENT,t,function(e){e.root.getFile(r,{create:!0},function(e){e.createWriter(function(t){a&&t.seek(t.length);var r=!1;t.onwrite=function(t){r||(r=!0,this.truncate(this.position),n(e.toURL()))},t.write(o)},i)},i)},i)}function r(e,r,o,n,i){var a=window.requestFileSystem||window.webkitRequestFileSystem;navigator.webkitPersistentStorage.queryUsageAndQuota(function(s,c){c-s<r.size?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,navigator.webkitPersistentStorage.requestQuota(c+quotaIncreaseAmount,function(s){t(a,s,e,r,o,n,i)},n)):t(a,c,e,r,o,n,i)})}function o(e,t,r){var o=window.requestFileSystem||window.webkitRequestFileSystem;navigator.webkitPersistentStorage.queryUsageAndQuota(function(n,i){o(window.PERSISTENT,i,function(o){o.root.getFile(e,{},function(e){e.file(function(e){t(e)},r)},r)},r)})}function n(e,t,r){var o=window.requestFileSystem||window.webkitRequestFileSystem;navigator.webkitPersistentStorage.queryUsageAndQuota(function(n,i){o(window.PERSISTENT,i,function(o){o.root.getFile(e,{create:!1},function(e){e.remove(t,r)},r)},r)})}function i(e,t,r,o){var n=window.requestFileSystem||window.webkitRequestFileSystem;n(window.PERSISTENT,t,function(t){t.root.getDirectory(e,{create:!0},function(e){r(e)},o)},o)}function a(e,t,r,o){var n=window.requestFileSystem||window.webkitRequestFileSystem;n(window.PERSISTENT,t,function(t){t.root.getDirectory(e,{create:!0},function(e){e.removeRecursively(function(){r()},o)},o)},o)}e.writeBlob=r,e.getBlob=o,e.removeBlob=n,e.createDirectory=i,e.removeDirectory=a}(PersistentStorageProxy||(PersistentStorageProxy={})),define("../../Common/PersistentStorageProxy",function(){});var MediaRecordProxy,moduleName="MediaRecordProxy";!function(e){function t(e){var t=new MediaRecorder(e);return t}e.getMediaRecorder=t}(MediaRecordProxy||(MediaRecordProxy={})),define("../../Common/MediaRecordProxy",function(){});var AppInsights=Microsoft.ApplicationInsights.AppInsights,AppInsightsProxy;!function(e){function t(e,t){n=new AppInsights({instrumentationKey:e,emitLineDelimitedJson:!0,endpointUrl:t})}function r(e){n&&n.trackEvent(e)}function o(e,t){n&&n.trackEvent(e,t)}var n;e.initialize=t,e.publishEvent=r,e.publishEventWithCustomData=o}(AppInsightsProxy||(AppInsightsProxy={})),
define("../../Telemetry/AppInsightsProxy",function(){}),define("Background",["require","exports","../../Model/ScreenshotService","../../Model/VideoCaptureService","../../Model/SessionService","../../Model/AttachmentService","../../Model/SettingsService","../../Model/AnnotationSettingsService","../../Model/SystemInformationService","../../Model/ActionLogService","../../Model/NoteService","../../Model/TraceabilityService","../../Model/PerfDataCollectorService","../../Tracing/Tracing","../../Common/ExtensionStorage","../../TfsClient/TfsCommandExecutionService","../../Perfecto/PerfectoCommandExecutionService","../../Common/FeatureAvailabiliy","../../Common/UpgradeService","../../Service/Service","../../DataCollectors/ScreenShot/ScreenshotDataCollectorService","../../DataCollectors/SystemInfo/SystemInfoDataCollectorService","../../DataCollectors/Video/VideoDataCollectorService","../../DataCollectors/ActionLog/ActionLogDataCollectionService","../../Model/BlobUrlHelper","../../Common/PersistentStorageProxy","../../Common/MediaRecordProxy","../../Telemetry/AppInsightsProxy"],function(e,t,r,o,n,i,a,s,c,p,u,l,d,f,m,g,y,h,T,I,v,S,b,C,k){function w(){V.initializeService(A.Background),V.traceEnter("initializeBackgroundServices",P,1,"Begin - Init background service"),k.BlobUrlHelper.fix().then(function(){R()})}function R(){M.initializeService(),T.UpgradeService.initialize(),h.FeatureAvailibilityService.initialize(),_.initialize(),g.initializeService(),n.initializeService(),a.initializeService(),o.initializeService(),i.initializeService(),r.initializeService(),v.initializeService(),b.initializeService(),s.initializeService(),c.initializeService(),S.initializeService(),u.initializeService(),l.initializeService(),p.initializeService(),C.initializeService(),d.initializeService(),I.ServiceFactory.getService(null,I.ServiceType.TelemetryService).initialize(),V.traceLeave("initializeBackgroundServices",P,2,"End - Init background service")}var A=f.Component,M=m.LocalStorageService,_=y.PerfectoCommandExecutionService,V=f.TracingService,P="Backgound";$("document").ready(function(){w()})}),require(["Background"]),define("main",function(){});